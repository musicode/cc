define("cc/form/Box",["require","exports","module","../function/debounce","../util/life","./common"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/debounce"),n=require("../util/life"),i=require("./common"),o=e.prototype;return o.type="Box",o.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),o=e.option("toggle");n.on("click"+e.namespace(),t(function(){if(!e.is("disabled")){var t=e.is("checked");if(t){if(o)t=!1}else t=!0;e.state("checked",t)}},50)),e.inner({main:n,"native":i.findNative(e,o?'input[type="checkbox"]':'input[type="radio"]')}),e.set({name:e.option("name"),value:e.option("value")}),e.state({checked:e.option("checked"),disabled:e.option("disabled")})},o.dispose=function(){var e=this;n.dispose(e),e.inner("main").off(e.namespace())},n.extend(o),e.propertyUpdater={name:function(e){i.prop(this,"name",e)},value:function(e){i.prop(this,"value",e)}},e.propertyValidator={name:function(e){return i.validateName(this,e)},value:function(e){return i.validateValue(this,e)}},e.stateUpdater={checked:function(e){i.prop(this,"checked",e),i.setClass(this,"checkedClass",e?"add":"remove")},disabled:function(e){i.prop(this,"disabled",e),i.setClass(this,"disabledClass",e?"add":"remove")}},e.stateValidator={checked:function(e){if("boolean"!==$.type(e))e=i.prop(this,"checked");return e},disabled:function(e){if("boolean"!==$.type(e))e=i.prop(this,"disabled");return e}},e}),define("cc/form/BoxGroup",["require","exports","module","../util/life","../util/Value","./common","./Box"],function(require,exports,module){"use strict";function e(e){t.init(this,e)}var t=require("../util/life"),n=require("../util/Value"),i=require("./common"),o=require("./Box"),r=e.prototype;return r.type="BoxGroup",r.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),r=t.find(e.option("boxSelector")),a=[];$.each(r,function(t){a.push(new o({mainElement:r.eq(t),mainTemplate:e.option("boxTemplate"),checkedClass:e.option("boxCheckedClass"),disabledClass:e.option("boxDisabledClass"),toggle:e.option("toggle")}))}),e.once("aftersync",function(){$.each(a,function(t,n){n.option("watchSync",{checked:function(t){var i=e.inner("value"),o=n.get("value");if(t)i.add(o);else i.remove(o);e.set("value",i.get())}})})}),e.inner({main:t,"native":i.findNative(e,'input[type="hidden"]'),boxes:a,value:new n({multiple:e.option("multiple")})}),e.set({name:e.option("name"),value:e.option("value")})},r.dispose=function(){t.dispose(this),$.each(this.inner("boxes"),function(e,t){t.dispose()})},t.extend(r),e.propertyUpdater={name:function(e){i.prop(this,"name",e)},value:function(e){var t=this;if(i.prop(t,"value",e),e){var n=t.inner("value");$.each(t.inner("boxes"),function(e,t){t.state("checked",n.has(t.get("value")))})}}},e.propertyValidator={name:function(e){return i.validateName(this,e)},value:function(e){if(null==e)e=i.validateValue(this,e);var t=this.inner("value");return t.set(e),t.get()}},e}),define("cc/form/Date",["require","exports","module","../function/contains","../function/replaceWith","../helper/Popup","../ui/Calendar","../util/life","../util/input","./common"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}var t=require("../function/contains"),n=(require("../function/replaceWith"),require("../helper/Popup")),i=require("../ui/Calendar"),o=require("../util/life"),r=require("../util/input"),a=require("./common"),u=e.prototype;return u.type="Date",u.init=function(){var e=this;e.initStruct();var o=e.option("mainElement"),a=o.find(e.option("layerSelector")),u=e.option("calendarSelector"),s=u?a.find(u):a,c=new i({mainElement:s,mainTemplate:e.option("calendarTemplate"),mode:e.option("mode"),date:e.option("date"),today:e.option("today"),stable:e.option("stable"),toggle:e.option("toggle"),multiple:e.option("multiple"),firstDay:e.option("firstDay"),parse:e.option("parse"),renderSelector:e.option("renderSelector"),renderTemplate:e.option("renderTemplate"),prevSelector:e.option("prevSelector"),nextSelector:e.option("nextSelector"),itemSelector:e.option("itemSelector"),itemActiveClass:e.option("itemActiveClass"),valueAttribute:e.option("valueAttribute"),render:function(t,n){return e.execute("render",[t,n])}}),l=new n({triggerElement:o,layerElement:a,showLayerTrigger:e.option("showLayerTrigger"),showLayerDelay:e.option("showLayerDelay"),hideLayerTrigger:e.option("hideLayerTrigger"),hideLayerDelay:e.option("hideLayerDelay"),showLayerAnimation:function(){e.execute("showLayerAnimation",{layerElement:a})},hideLayerAnimation:function(){e.execute("hideLayerAnimation",{layerElement:a})}});l.on("dispatch",function(n,i){var o=n.originalEvent;if("beforeclose"===o.type){var r=o.originalEvent,u=r.target;if("click"===r.type&&u)if(!t(document,u)||t(f,u)||t(a,u))return!1}e.emit(o,i,!0)});var f=o.find(e.option("inputSelector"));r.init(f),f.on(r.INPUT,function(){e.set("value",this.value)}),e.once("aftersync",function(){c.option("watchSync",{value:function(t){e.set("value",t),l.close()}}),c.set("value",e.get("value")),l.option("watchSync",{opened:function(t){e.state("opened",t)}}),e.state("opened",l.is("opened"))}),e.inner({main:o,"native":f,popup:l,calendar:c}),e.set({name:e.option("name"),value:e.option("value")})},u.open=function(){this.state("opened",!0)},u.close=function(){this.state("opened",!1)},u.render=function(){this.inner("calendar").render()},u.dispose=function(){var e=this;o.dispose(e),r.dispose(e.inner("native")),e.inner("popup").dispose(),e.inner("calendar").dispose()},o.extend(u,["open","close"]),e.propertyUpdater={name:function(e){a.prop(this,"name",e)},value:function(e){a.prop(this,"value",e),this.inner("calendar").set("value",e)}},e.propertyValidator={name:function(e){return a.validateName(this,e)},value:function(e){return a.validateValue(this,e)}},e.stateUpdater={opened:function(e){var t=this.inner("popup");if(e)t.open();else t.close()}},e}),define("cc/form/DateRange",["require","exports","module","../function/split","../function/contains","../helper/Popup","../ui/Calendar","../util/life","../util/input","./common"],function(require,exports,module){"use strict";function e(e){a.init(this,e)}function t(e,t,n){var i=new r({mainElement:t,mainTemplate:e.option("calendarTemplate"),mode:e.option("mode"),parse:e.option("parse"),date:e.option("startDate"),today:e.option("today"),stable:e.option("stable"),firstDay:e.option("firstDay"),renderSelector:e.option("renderSelector"),renderTemplate:e.option("renderTemplate"),prevSelector:e.option("prevSelector"),nextSelector:e.option("nextSelector"),itemSelector:e.option("itemSelector"),itemActiveClass:e.option("itemActiveClass"),valueAttribute:e.option("valueAttribute"),render:function(t,n){return e.execute("render",[t,n])}});return e.once("aftersync",function(){var t={};t[n]=function(e){i.set("value",e)},e.option({watchSync:t}),i.set("value",e.get(n))}),i}var n=require("../function/split"),i=require("../function/contains"),o=require("../helper/Popup"),r=require("../ui/Calendar"),a=require("../util/life"),u=require("../util/input"),s=require("./common"),c=e.prototype;c.type="DateRange",c.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),r=n.find(e.option("inputSelector")),a=n.find(e.option("layerSelector")),s=t(e,a.find(e.option("startCalendarSelector")),"startDate"),c=t(e,a.find(e.option("endCalendarSelector")),"endDate"),f=new o({triggerElement:r,layerElement:a,showLayerTrigger:e.option("showLayerTrigger"),showLayerDelay:e.option("showLayerDelay"),hideLayerTrigger:e.option("hideLayerTrigger"),hideLayerDelay:e.option("hideLayerDelay"),showLayerAnimation:function(){e.execute("showLayerAnimation",{layerElement:a})},hideLayerAnimation:function(){e.execute("hideLayerAnimation",{layerElement:a})}});u.init(r),r.on(u.INPUT,function(){e.set("value",this.value)}),e.once("aftersync",function(){f.option("watchSync",{opened:function(t){if(t)e.open();else e.close()}}),e.state("opened",f.is("opened"))}),f.on("dispatch",function(t,n){var o=t.originalEvent;if("beforeclose"===o.type){var u=o.originalEvent,s=u.target;if("click"===u.type&&s)if(!i(document,s)||i(r,s)||i(a,s))return!1}e.emit(o,n,!0)});var p=e.namespace(),d=e.option("applySelector");if(d)a.on("click"+p,d,function(){var t=[s.get("value"),c.get("value")];e.set("value",t.join(l)),e.close()});var m=e.option("cancelSelector");if(m)a.on("click"+p,m,function(){e.close()});e.inner({main:n,layer:a,"native":r,popup:f,startCalendar:s,endCalendar:c}),e.set({name:e.option("name"),value:e.option("value"),startDate:e.option("startDate"),endDate:e.option("endDate")})},c.open=function(){this.state("opened",!0)},c.close=function(){this.state("opened",!1)},c.dispose=function(){var e=this;a.dispose(e),u.dispose(e.inner("native")),e.inner("popup").dispose(),e.inner("startCalendar").dispose(),e.inner("endCalendar").dispose(),e.inner("layer").off(e.namespace())},a.extend(c,["open","close"]),e.propertyUpdater={},e.propertyUpdater.name=e.propertyUpdater.value=e.propertyUpdater.startDate=e.propertyUpdater.endDate=function(e,t,i){var o=this,r=i.name;if(r)s.prop(o,"name",r.newValue);var a,u=i.value;if(u)a=u.newValue;else{var c,f,p=i.startDate;if(p)c=p.newValue;var d=i.endDate;if(d)f=d.newValue;if("string"===$.type(c)||"string"===$.type(f))a=[c||o.get("startDate"),f||o.get("endDate")].join(l)}if("string"===$.type(a)){o.set("value",a,{silent:!0}),s.prop(this,"value",a);var m=n(a,l);o.set({startDate:m[0],endDate:m[1]})}return!1},e.propertyValidator={name:function(e){return s.validateName(this,e)},value:function(e){return s.validateValue(this,e)},startDate:function(e){var t=this.execute("parse",e);return"date"===$.type(t)?e:""},endDate:function(e){var t=this.execute("parse",e);return"date"===$.type(t)?e:""}},e.stateUpdater={opened:function(e){var t=this.inner("popup");if(e)t.open();else t.close()}};var l=" - ";return e}),define("cc/form/Number",["require","exports","module","../ui/SpinBox","../util/life","./common"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../ui/SpinBox"),n=require("../util/life"),i=require("./common"),o=e.prototype;return o.type="Number",o.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),i=new t({mainElement:n,value:e.option("value"),minValue:e.option("minValue"),maxValue:e.option("maxValue"),upSelector:e.option("upSelector"),downSelector:e.option("downSelector"),inputSelector:e.option("inputSelector"),interval:e.option("interval"),step:e.option("step")});e.once("aftersync",function(){i.option("watchSync",{value:function(t){e.set("value",t)},minValue:function(t){e.set("minValue",t)},maxValue:function(t){e.set("maxValue",t)}}),i.set({value:e.get("value"),minValue:e.get("minValue"),maxValue:e.get("maxValue")})}),e.inner({main:n,"native":i.inner("input"),spinbox:i}),e.set({name:e.option("name"),value:e.option("value"),minValue:e.option("minValue"),maxValue:e.option("maxValue")})},o.dispose=function(){n.dispose(this),this.inner("spinbox").dispose()},n.extend(o),e.propertyUpdater={name:function(e){i.prop(this,"name",e)},value:function(e){this.inner("spinbox").set("value",e)}},e.propertyValidator={name:function(e){return i.validateName(this,e)}},e}),define("cc/form/Select",["require","exports","module","../ui/ComboBox","../util/life","./common"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../ui/ComboBox"),n=require("../util/life"),i=require("./common"),o=e.prototype;return o.type="Select",o.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),o=new t({mainElement:n,data:e.option("data"),value:e.option("value"),defaultText:e.option("defaultText"),buttonElement:n.find(e.option("buttonSelector")),menuElement:n.find(e.option("menuSelector")),menuTemplate:e.option("menuTemplate"),renderSelector:e.option("renderSelector"),renderTemplate:e.option("renderTemplate"),showMenuTrigger:e.option("showMenuTrigger"),showMenuDelay:e.option("showMenuDelay"),hideMenuTrigger:e.option("hideMenuTrigger"),hideMenuDelay:e.option("hideMenuDelay"),itemSelector:e.option("itemSelector"),itemActiveClass:e.option("itemActiveClass"),menuActiveClass:e.option("menuActiveClass"),textAttribute:e.option("textAttribute"),valueAttribute:e.option("valueAttribute"),showMenuAnimation:function(t){e.execute("showMenuAnimation",t)},hideMenuAnimation:function(t){e.execute("hideMenuAnimation",t)},render:function(t,n){return e.execute("render",[t,n])},setText:function(t){var i=e.option("labelSelector");n.find(i).html(t.text)}});e.once("aftersync",function(){o.option("watchSync",{value:function(t){e.set("value",t)},opened:function(t){e.state("opened",t)}}),o.set("value",e.get("value")),e.state("opened",o.is("opened"))});var r=i.findNative(e,'input[type="hidden"]');o.on("dispatch",function(t,n){var i=t.originalEvent;switch(i.type){case"afteropen":r.trigger("focusin");break;case"afterclose":r.trigger("focusout")}e.emit(i,n,!0)}),e.inner({main:n,"native":r,combobox:o}),e.set({data:e.option("data"),name:e.option("name"),value:e.option("value")})},o.open=function(){this.state("opened",!0)},o.close=function(){this.state("opened",!1)},o.dispose=function(){n.dispose(this),this.inner("combobox").dispose()},n.extend(o,["open","close"]),e.propertyUpdater={name:function(e){i.prop(this,"name",e)}},e.propertyUpdater.data=e.propertyUpdater.value=function(e,t,n){var o=this,r={},a=n.value;if(a){var u=a.newValue;i.prop(o,"value",u),r.value=u}var s=n.data;if(s)r.data=s.newValue;return o.inner("combobox").set(r),!1},e.propertyValidator={name:function(e){return i.validateName(this,e)},value:function(e){return i.validateValue(this,e)}},e.stateUpdater={opened:function(e){var t=this.inner("combobox");if(e)t.open();else t.close()}},e}),define("cc/form/Text",["require","exports","../helper/Input","../helper/Placeholder","../util/life","./common"],function(require,exports){"use strict";function e(e){i.init(this,e)}var t=require("../helper/Input"),n=require("../helper/Placeholder"),i=require("../util/life"),o=require("./common"),r=e.prototype;return r.type="Text",r.init=function(){var e=this;e.initStruct();var i=new n({mainElement:e.option("mainElement"),value:e.option("placeholder"),nativeFirst:e.option("nativeFirst"),inputSelector:e.option("inputSelector"),labelSelector:e.option("labelSelector"),showAnimation:e.option("showAnimation"),hideAnimation:e.option("hideAnimation")}),o=i.inner("input"),r=new t({mainElement:o,shortcut:e.option("shortcut"),value:e.option("value")});e.once("aftersync",function(){i.option("watchSync",{value:function(t){e.set("placeholder",t)}}),i.set("placeholder",e.get("placeholder")),r.option("watchSync",{value:function(t){e.set("value",t)}}),r.set("value",e.get("value"))}),e.inner({main:i.inner("main"),"native":o,input:r,placeholder:i}),e.set({name:e.option("name"),value:e.option("value")})},r.dispose=function(){var e=this;i.dispose(e),e.inner("input").dispose(),e.inner("placeholder").dispose()},i.extend(r),e.propertyUpdater={name:function(e){o.prop(this,"name",e)},value:function(e){var t=this.inner("input");t.set("value",e),t.sync(),this.inner("placeholder").render()},placeholder:function(e){this.inner("placeholder").set("value",e)}},e.propertyValidator={name:function(e){return o.validateName(this,e)}},e}),define("cc/form/Validator",["require","exports","module","../function/isHidden","../function/nextTick","../function/debounce","../function/toNumber","../util/life","../util/validator"],function(require,exports,module){"use strict";function e(e){r.init(this,e)}var t=require("../function/isHidden"),n=require("../function/nextTick"),i=require("../function/debounce"),o=require("../function/toNumber"),r=require("../util/life"),a=require("../util/validator"),u=e.prototype;return u.type="Validator",u.init=function(){var e=this,t=e.option("mainElement"),n=e.namespace();t.on("focusin"+n,function(n){var i=$(n.target),o=i.prop("name"),r=e.option("errorAttribute");if(o&&r)e.execute("hideErrorAnimation",{errorElement:t.find("["+r+'="'+o+'"]'),fieldElement:i})}),t.on("focusout"+n,i(function(t){var n=t.target.name;if(n&&e.$){var i=e.option("fields")[n];if(i){var o=i.validateOnBlur,r=e.option("validateOnBlur");if(o===!0||null==o&&r)e.validate(n)}}},180)),e.inner({main:t})},u.validate=function(e,i){var r=this,u=r.option("mainElement"),s=r.option("groupSelector");if("string"===$.type(e))e=[e];else if(!$.isArray(e)){if("boolean"===$.type(e))i=e;e=[],$.each(r.option("fields"),function(t){e.push(t)})}var c={};$.each(e,function(e,n){var i=u.find('[name="'+n+'"]');if(i.length&&!i.prop("disabled")){var o={name:n,value:$.trim(i.val()),fieldElement:i};if(s){var r=i.closest(s);if(t(r))return;if(1===r.length)o.groupElement=r}c[n]=o}});var l=a.validate(c,r.option("fields")),f=[],p=function(){var e=r.option("errorAttribute"),t=r.option("errorTemplate");if($.each(l,function(n,i){var o,a={fieldElement:i.fieldElement};if(e)o=u.find("["+e+"="+i.name+"]"),a.errorElement=o;var s=i.error;if(s){if(f.push(i),o){var c=r.execute("render",[{error:s},t]);o.html(c)}a.rule=i.rule,a.error=s,r.execute("showErrorAnimation",a)}else r.execute("hideErrorAnimation",a)}),i&&f.length>0){var a=f[0].fieldElement;if(a.is('input[type="hidden"]'))a=a.parent();var s=a.offset().top+o(r.option("scrollOffset"),0);window.scrollTo(window.scrollX,s)}n(function(){if(r.$)r.emit("validatecomplete",{fields:l,errors:f})})};if(l.then)return l.then(function(e){return l=e,p(),0===f.length});else return p(),0===f.length},u.dispose=function(){var e=this;r.dispose(e),e.inner("main").off(e.namespace())},r.extend(u),e}),define("cc/form/common",["require","exports","module"],function(require,exports,module){"use strict";exports.prop=function(e,t,n){if($.isPlainObject(t))$.each(t,function(t,n){exports.prop(e,t,n)});else{var i=e.inner("native");if(2===arguments.length)return i.prop(t);else if(i.prop(t,n),"value"===t)i.trigger("change")}},exports.setClass=function(e,t,n){var i=e.option(t);if(i)e.option("mainElement")[n+"Class"](i)},exports.findNative=function(e,t){var n=e.option("mainElement").find(t);if(0===n.length)e.error("form/"+e.type+" 必须包含一个 ["+t+"].");return n.eq(0)},exports.validateName=function(e,t){if("string"!==$.type(t))if(t=exports.prop(e,"name"),!t||"string"!==$.type(t))e.error("name attribute is missing.");return t},exports.validateValue=function(e,t){var n=$.type(t);if("number"===n)t=""+t;else if("string"!==n)t=exports.prop(e,"value")||"";return t}}),define("cc/function/around",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n,i){var o="string"===$.type(t),r=o?e[t]:e;if(!o)i=n,n=t;var a=function(){var e,t=$.makeArray(arguments);if($.isFunction(n))e=n.apply(this,t);if(e!==!1){if($.isFunction(r))e=r.apply(this,t);if($.isFunction(i)){t.push(e);var o=i.apply(this,t);if("undefined"!==$.type(o))e=o}return e}};return o?e[t]=a:a}}),define("cc/function/autoScrollDown",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=e.height(),i=e.scrollTop(),o=i+n,r=t.prop("offsetTop")+t.outerHeight(!0);if(i>r||r>o)e.scrollTop(r-n)}}),define("cc/function/autoScrollUp",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=e.scrollTop(),i=n+e.height(),o=t.prop("offsetTop");if(n>o||o>i)e.scrollTop(o)}}),define("cc/function/contains",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t)}}),define("cc/function/createEvent",["require","exports","module"],function(require,exports,module){"use strict";return function(e){if(e&&!e[$.expando])e="string"===$.type(e)||e.type?$.Event(e):$.Event(null,e);return e||$.Event()}}),define("cc/function/debounce",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){t="number"===$.type(t)?t:50;var n;return function(){if(!n){var i=arguments;n=setTimeout(function(){n=null,e.apply(null,$.makeArray(i))},t)}}}}),define("cc/function/decimalLength",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=(""+e).split(".");return 2===t.length?t[1].length:0}}),define("cc/function/decodeHTML",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'");return t.replace(/&#([\d]+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})}}),define("cc/function/disableSelection",["require","exports","module"],function(require,exports,module){"use strict";if(document.selection)return function(){document.body.onselectstart=function(){return!1}};else return $.noop}),define("cc/function/divide",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),n/i}}),define("cc/function/dragGlobal",["require","exports","module","../helper/Draggable","../util/instance"],function(require,exports,module){"use strict";var e=require("../helper/Draggable"),t=require("../util/instance");return function(n){return new e({mainElement:n.element,containerElement:t.body,mainDraggingClass:n.draggingClass,includeSelector:n.includeSelector,excludeSelector:n.excludeSelector,dragAnimation:n.dragAnimation,init:function(e){var n=e.namespace;e.mainElement.on("mousedown"+n,function(i){if(e.downHandler(i))t.document.off(n).on("mousemove"+n,e.moveHandler).on("mouseup"+n,function(i){e.upHandler(i),t.document.off(n)})})}})}}),define("cc/function/enableSelection",["require","exports","module"],function(require,exports,module){"use strict";if(document.selection)return function(){document.body.onselectstart=null};else return $.noop}),define("cc/function/encodeHTML",["require","exports","module"],function(require,exports,module){"use strict";return function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}),define("cc/function/eventOffset",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=e.offsetX,n=e.offsetY;if("number"!==$.type(t)){var i=e.target.getBoundingClientRect();t=e.clientX-i.left,n=e.clientY-i.top}return{x:t,y:n}}}),define("cc/function/eventPage",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=e.pageX,n=e.pageY;if("number"!==$.type(t)){var i=document.documentElement;t=e.clientX+i.scrollLeft,n=e.clientY+i.scrollTop}return{x:t,y:n}}}),define("cc/function/extend",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if($.isPlainObject(t))$.each(t,function(t,n){if(!(t in e))e[t]=n})}}),define("cc/function/firstDateInMonth",["require","exports","module","./offsetDate"],function(require,exports,module){"use strict";var e=require("./offsetDate");return function(t){if("number"===$.type(t))t=new Date(t);return e(t,1-t.getDate())}}),define("cc/function/firstDateInWeek",["require","exports","module","./offsetDate"],function(require,exports,module){"use strict";var e=require("./offsetDate");return function(t,n){if("number"===$.type(t))t=new Date(t);var i=t.getDay();return i=i>=n?i:i+7,e(t,-1*(i-n))}}),define("cc/function/float2Int",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n,i=(""+e).split(".");if(t>=0);else t=0;if(1===i.length)n=e+new Array(t+1).join("0");else t=Math.max(0,t-i[1].length),n=i.join("")+new Array(t+1).join("0");return+n}}),define("cc/function/guid",["require","exports","module"],function(require,exports,module){var e=0;return function(){return"cc_"+e++}}),define("cc/function/imageDimension",["require","exports","module"],function(require,exports,module){"use strict";var e=[];return function(t,n){var i=new Image,o=e.push(i);i.onload=function(){var t=i.height;if(null!=t&&t>0)n(i.width,t),delete e[o-1],i=null;else setTimeout(i.onload,10)},i.src=t}}),define("cc/function/innerOffset",["require","exports","module","./toNumber"],function(require,exports,module){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=t.css("border-left-width"),o=t.css("border-top-width");return{x:n.left+e(i,0,"int"),y:n.top+e(o,0,"int")}}}),define("cc/function/isActiveElement",["require","exports","module"],function(require,exports,module){"use strict";return function(e){if(e.jquery)e=e[0];return document.activeElement===e}}),define("cc/function/isHidden",["require","exports","module"],function(require,exports,module){"use strict";return function(e){e.css("display");return"none"===e.css("display")||0==e.css("opacity")||"hidden"===e.css("visibility")}}),define("cc/function/lastDateInMonth",["require","exports","module","./offsetDate","./offsetMonth","./firstDateInMonth"],function(require,exports,module){"use strict";var e=require("./offsetDate"),t=require("./offsetMonth"),n=require("./firstDateInMonth");return function(i){return e(n(t(i,1)),-1)}}),define("cc/function/lastDateInWeek",["require","exports","module","./firstDateInWeek","./offsetDate"],function(require,exports,module){"use strict";var e=require("./firstDateInWeek"),t=require("./offsetDate");return function(n,i){return t(e(n,i),6)}}),define("cc/function/lpad",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if(null==t)t=2;var n=new Array(t-(""+e).length+1);return n.join("0")+e}}),define("cc/function/minus",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),(n-i)/Math.pow(10,o)}}),define("cc/function/multiply",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));n=t(n,o),i=t(i,o);var r=Math.pow(10,o);return n*i/(r*r)}}),define("cc/function/nextTick",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=setTimeout(e,0);return function(){clearTimeout(t)}}}),define("cc/function/offsetDate",["require","exports","module","./offsetHour"],function(require,exports,module){"use strict";var e=require("./offsetHour");return function(t,n){return e(t,24*n)}}),define("cc/function/offsetHour",["require","exports","module","./offsetMinute"],function(require,exports,module){"use strict";var e=require("./offsetMinute");return function(t,n){return e(t,60*n)}}),define("cc/function/offsetMinute",["require","exports","module","./offsetSecond"],function(require,exports,module){"use strict";var e=require("./offsetSecond");return function(t,n){return e(t,60*n)}}),define("cc/function/offsetMonth",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if("date"===$.type(e))e=e.getTime();return e=new Date(e),e.setDate(1),e.setMonth(e.getMonth()+t),e}}),define("cc/function/offsetParent",["require","exports","module"],function(require,exports,module){"use strict";function e(e){return e.is("body")||"static"!==e.css("position")}return function(t){if(t.is("body"))return t;for(var n=t.parent();!e(n);)n=n.parent();return n}}),define("cc/function/offsetSecond",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if("date"===$.type(e))e=e.getTime();return new Date(e+1e3*t)}}),define("cc/function/offsetWeek",["require","exports","module","./offsetDate"],function(require,exports,module){"use strict";var e=require("./offsetDate");return function(t,n){return e(t,7*n)}}),define("cc/function/outerOffset",["require","exports","module","./toNumber"],function(require,exports,module){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=e(t.css("margin-left"),0,"int"),o=e(t.css("margin-top"),0,"int");return{x:n.left-i,y:n.top-o}}}),define("cc/function/page",["require","exports","module","../util/instance"],function(require,exports,module){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")<e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cc/function/pageHeight",["require","exports","module","./page"],function(require,exports,module){"use strict";var e=require("./page");return function(){var t=e()[0];return Math.max(t.scrollHeight,t.clientHeight)}}),define("cc/function/pageScrollLeft",["require","exports","module"],function(require,exports,module){"use strict";return function(){return Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)}}),define("cc/function/pageScrollTop",["require","exports","module"],function(require,exports,module){"use strict";return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)}}),define("cc/function/pageWidth",["require","exports","module","./page"],function(require,exports,module){"use strict";var e=require("./page");return function(){var t=e()[0];return Math.max(t.scrollWidth,t.clientWidth)}}),define("cc/function/parseDate",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n){var i=!1;if($.isNumeric(e)&&$.isNumeric(t)&&$.isNumeric(n))i=!0;else if(1===arguments.length){if($.isPlainObject(e))i=!0,n=e.date,t=e.month,e=e.year}else if(2===arguments.length)if("string"===$.type(e)){i=!0;var o=e.split(t||"-");e=o[0],t=o[1],n=o[2]}if(i)if(4===String(e).length&&t>=1&&12>=t&&n>=1&&31>=n)return new Date(e,t-1,n)}}),define("cc/function/parsePercent",["require","exports","module","./divide"],function(require,exports,module){"use strict";var e=require("./divide"),t=/(-?\d+(\.\d+)?)%/;return function(n){if(t.test(n))return e(RegExp.$1,100);else;}}),define("cc/function/parseTime",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n){var i=!1;if($.isNumeric(e)&&$.isNumeric(t)){if(i=!0,!$.isNumeric(n))n=0}else if(1===arguments.length)if($.isPlainObject(e))i=!0,n=e.second,t=e.minute,e=e.hour;else if("string"===$.type(e)){var o=e.split(":");if(o.length>1&&o.length<4)i=!0,e=+$.trim(o[0]),t=+$.trim(o[1]),n=+$.trim(o[2])}if(i)if(e>=0&&23>=e&&t>=0&&59>=t&&n>=0&&59>=n){var r=new Date;return r.setHours(e),r.setMinutes(t),r.setSeconds(n),r}}}),define("cc/function/pin",["require","exports","module","../util/instance","./parsePercent"],function(require,exports,module){"use strict";function e(e){var t=o[e.x];if(null==t)t=e.x;if("string"===$.type(t)){var n=i(t);if(null!=n)t=n*(e.width||e.element.outerWidth())}return t}function t(e){var t=o[e.y];if(null==t)t=e.y;if("string"===$.type(t)){var n=i(t);if(null!=n)t=n*(e.height||e.element.outerHeight())}return t}var n=require("../util/instance"),i=require("./parsePercent"),o={left:0,top:0,center:"50%",middle:"50%",right:"100%",bottom:"100%"};return function(i){var o=i.element,r=i.attachment||{};if(!r.element)r.element=n.body;var a=r.element.offset(),u=a.left+e(r),s=a.top+t(r),c=u-e(i),l=s-t(i),f=i.offset;if(f){if("number"===$.type(f.x))c+=f.x;if("number"===$.type(f.y))l+=f.y}var p={left:c,top:l},d=o.css("position");if("absolute"!==d&&"fixed"!==d)p.position="absolute";if(i.silent)return p;else o.css(p)}}),define("cc/function/pinGlobal",["require","exports","module","./pin","./viewport","./viewportWidth","./viewportHeight","./pageScrollLeft","./pageScrollTop"],function(require,exports,module){"use strict";var e=require("./pin"),t=require("./viewport"),n=require("./viewportWidth"),i=require("./viewportHeight"),o=require("./pageScrollLeft"),r=require("./pageScrollTop");return function(a){var u={silent:!0,element:a.element,x:"50%"===a.x?"50%":0,y:"50%"===a.y?"50%":0,attachment:{element:t(),width:n(),height:i(),x:a.x,y:a.y}};if(!a.fixed)u.offset={x:o(),
y:r()};return e(u)}}),define("cc/function/plus",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),(n+i)/Math.pow(10,o)}}),define("cc/function/position",["require","exports","module","./offsetParent"],function(require,exports,module){"use strict";var e=require("./offsetParent");return function(t){var n=e(t),i=t.css("position"),o=parseInt(t.css("left"),10),r=parseInt(t.css("top"),10),a=isNaN(o),u=isNaN(r);if(a||u)if(1===n.length){var s=t.offset(),c=n.offset();if(a)o=s.left-c.left-(parseInt(n.css("border-left-width"),10)||0);if(u)r=s.top-c.top-(parseInt(n.css("border-top-width"),10)||0)}else o=r=0;if(!i||"static"===i)i="absolute";return{position:i,left:o,top:r}}}),define("cc/function/ratio",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if(e>=0&&t>0)return e/t;else return 0}}),define("cc/function/replaceWith",["require"],function(require){"use strict";return function(e,t){e=e[0],t=t[0],e.parentNode.replaceChild(t,e)}}),define("cc/function/restrain",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n){if(t>e)e=t;else if(e>n)e=n;return e}}),define("cc/function/scrollBottom",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=e.prop("scrollHeight"),i=e.innerHeight();if(null!=t)e.prop("scrollTop",n-i-t);else return n-e.prop("scrollTop")-i}}),define("cc/function/simplifyDate",["require","exports","module"],function(require,exports,module){"use strict";return function(e){if(e){if("number"===$.type(e))e=new Date(e);return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),day:e.getDay()}}}}),define("cc/function/simplifyTime",["require","exports","module"],function(require,exports,module){"use strict";return function(e){if(e){if("number"===$.type(e))e=new Date(e);return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()}}}}),define("cc/function/split",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=[];if("number"===$.type(e))e=""+e;if(e&&"string"===$.type(e))$.each(e.split(t),function(e,t){if(t=$.trim(t))n.push(t)});return n}}),define("cc/function/supportCanvas",["require","exports","module"],function(require,exports,module){"use strict";return function(){var e=document.createElement("canvas");return e&&e.getContext?!0:!1}}),define("cc/function/supportFlash",["require","exports","module"],function(require,exports,module){"use strict";return function(){var e,t=navigator.plugins;if(t&&t.length>0)e=t["Shockwave Flash"];else if(document.all)e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return!!e}}),define("cc/function/supportInput",["require","exports","module"],function(require,exports,module){"use strict";return function(){var e=$('<input type="text" />')[0];return"oninput"in e}}),define("cc/function/supportLocalStorage",["require","exports","module"],function(require,exports,module){"use strict";return function(){return"undefined"!=typeof window.localStorage}}),define("cc/function/supportPlaceholder",["require","exports","module"],function(require,exports,module){"use strict";return function(){var e=$('<input type="text" />')[0];return"placeholder"in e}}),define("cc/function/supportWebSocket",["require","exports","module"],function(require,exports,module){"use strict";return function(){return"undefined"!=typeof window.WebSocket}}),define("cc/function/toBoolean",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if("boolean"!==$.type(e)){if(1===arguments.length)t=!!e;e=t}return e}}),define("cc/function/toNumber",["require","exports","module"],function(require,exports,module){"use strict";var e={"int":parseInt,"float":parseFloat};return function(t,n,i){if("number"!==$.type(t)){var o=e[i];if(o)t=o(t,10);else if($.isNumeric(t))t=+t;else t=NaN}return isNaN(t)?n:t}}),define("cc/function/toString",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=$.type(e);if("number"===n)e=""+e;else if("string"!==n){if(1===arguments.length)t="";e=t}return e}}),define("cc/function/ucFirst",["require","exports","module"],function(require,exports,module){"use strict";return function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}),define("cc/function/viewport",["require","exports","module","../util/instance"],function(require,exports,module){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")>e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cc/function/viewportHeight",["require","exports","module"],function(require,exports,module){"use strict";return function(){return window.innerHeight||document.documentElement.clientHeight}}),define("cc/function/viewportWidth",["require","exports","module"],function(require,exports,module){"use strict";return function(){return window.innerWidth||document.documentElement.clientWidth}}),define("cc/helper/AjaxUploader",["require","exports","module","../function/ratio","../function/restrain","../util/life","../util/mimeType"],function(require,exports,module){"use strict";function e(e){l.init(this,e)}function t(e,t){var n=new FormData;$.each(e.option("data"),function(e,t){n.append(e,t)}),n.append(e.option("fileName"),t.nativeFile),t.xhr.send(n)}function n(t,n){var i=n.nativeFile,o=n.file.size,r=n.chunk;if(!r)r=n.chunk={index:0,uploaded:0};var a=r.index,u=t.option("chunkSize"),s=u*a,c=u*(a+1);if(c>o)c=o;if(r.uploading=c-s,r.uploading<=0)return void setTimeout(function(){t.emit("uploadError",{fileItem:n,errorCode:e.ERROR_CHUNK_SIZE})});var l="bytes "+(s+1)+"-"+c+"/"+o,f=n.xhr;f.setRequestHeader("Content-Type",""),f.setRequestHeader("X_FILENAME",encodeURIComponent(i.name)),f.setRequestHeader("Content-Range",l),f.send(i.slice(s,c))}function i(t,n){var i=n.xhr;if(i)$.each(d,function(e,t){i["on"+t.type]=null}),$.each(m,function(e,t){i.upload["on"+t.type]=null}),delete n.xhr;if(t.emit("uploadcomplete",{fileItem:n}),n.status===e.STATUS_UPLOAD_SUCCESS||n.status===e.STATUS_UPLOAD_ERROR&&t.option("ignoreError")){var r=n.index+1,a=t.inner("fileQueue");if(r<a.files.length)a.index=r,t.upload();else o(t,[])}}function o(t,n){var i=t.inner("fileQueue");i.index=0,i.files=$.map(n,function(t,n){return{index:n,file:u(t),nativeFile:t,status:e.STATUS_WAITING}})}function r(e){var t=e.inner("fileQueue"),n=t.index;if(t.files&&"number"===$.type(n))return t.files[n];else;}function a(e){var t=[];return $.each(e,function(e,n){if(f[n])t.push(f[n])}),$.unique(t).join(",")}function u(e){var t=e.name,n=t.split("."),i=n.length>1?n.pop().toLowerCase():"";return{name:t,type:i,size:e.size}}var s=require("../function/ratio"),c=require("../function/restrain"),l=require("../util/life"),f=require("../util/mimeType"),p=e.prototype;p.type="AjaxUploader",p.init=function(){var e=this,t=e.option("mainElement");if(!t.is('input[type="file"]'))e.error('AjaxUploader mainElement must be <input type="file" />.');var n=$("<form></form>");t.replaceWith(n),n.append(t);var i={};if(e.option("accept"))i.accept=a(e.option("accept"));if(e.option("multiple"))i.multiple=!0;t.prop(i).on("change"+e.namespace(),function(){o(e,t.prop("files")),e.emit("filechange")}),e.inner({main:n,file:t,fileQueue:{}}),e.emit("ready")},p.getFiles=function(){return this.inner("fileQueue").files||[]},p.setAction=function(e){this.option("action",e)},p.setData=function(e){var t=this.option("data");if($.isPlainObject(t))$.extend(t,e);else t=e;this.option("data",t)},p.reset=function(){this.inner("main")[0].reset()},p.upload=function(i){var o=this,a=o.option("useChunk")?e.STATUS_UPLOADING:e.STATUS_WAITING;if(i=i||r(o),i&&!(i.status>a)){var u=new XMLHttpRequest;i.xhr=u,$.each(d,function(e,t){u["on"+t.type]=function(e){t.handler(o,e)}}),$.each(m,function(e,t){u.upload["on"+t.type]=function(e){t.handler(o,e)}}),u.open("post",o.option("action"),!0);var s=o.option("useChunk")?n:t;s(o,i)}},p.stop=function(){var t=this,n=r(t);if(n&&n.status===e.STATUS_UPLOADING)n.xhr.abort();t.reset()},p.enable=function(){this.option("file").prop("disabled",!1)},p.disable=function(){this.option("file").prop("disabled",!0)},p.dispose=function(){var e=this;l.dispose(e),e.stop(),e.inner("file").off(e.namespace())},l.extend(p),e.supportChunk="undefined"!=typeof FileReader,e.STATUS_WAITING=0,e.STATUS_UPLOADING=1,e.STATUS_UPLOAD_SUCCESS=2,e.STATUS_UPLOAD_ERROR=3,e.ERROR_CANCEL=0,e.ERROR_CHUNK_SIZE=-1;var d={uploadStart:{type:"loadstart",handler:function(t,n){var i=r(t);i.status=e.STATUS_UPLOADING,t.emit("uploadstart",{fileItem:i})}},uploadSuccess:{type:"load",handler:function(t,n){var o=r(t),a={fileItem:o,responseText:o.xhr.responseText},u=o.chunk;if(u)if(u.uploaded<o.file.size){var s=t.emit("chunkuploadsuccess",a);if(!s.isDefaultPrevented())if(u.index++,u.uploaded+=u.uploading,u.uploaded<o.file.size)t.upload();return}o.status=e.STATUS_UPLOAD_SUCCESS,t.emit("uploadsuccess",a),i(t,o)}},uploadError:{type:"error",handler:function(t,n,o){var a=r(t);a.status=e.STATUS_UPLOAD_ERROR,t.emit("uploaderror",{fileItem:a,errorCode:o}),i(t,a)}},uploadStop:{type:"abort",handler:function(t,n){d.uploadError.handler(t,n,e.ERROR_CANCEL)}}},m={uploadProgress:{type:"progress",handler:function(e,t){var n=r(e),i=n.file.size,o=t.loaded,a=n.chunk;if(a)o+=a.uploaded;e.emit("uploadprogress",{fileItem:n,uploaded:o,total:i,percent:100*c(s(o,i),0,1)+"%"})}}};return e}),define("cc/helper/Draggable",["require","exports","module","../function/page","../function/restrain","../function/position","../function/contains","../function/innerOffset","../function/outerOffset","../function/pageScrollLeft","../function/pageScrollTop","../function/viewportWidth","../function/viewportHeight","../function/enableSelection","../function/disableSelection","../util/life","../util/touch","../util/instance"],function(require,exports,module){"use strict";function e(e){m.init(this,e)}function t(e,t,n){var i=!1;if($.isArray(t))t=t.join(",");return e.find(t).each(function(){if(i=r(this,n))return!1;else;}),i}var n=require("../function/page"),i=require("../function/restrain"),o=require("../function/position"),r=require("../function/contains"),a=require("../function/innerOffset"),u=require("../function/outerOffset"),s=require("../function/pageScrollLeft"),c=require("../function/pageScrollTop"),l=require("../function/viewportWidth"),f=require("../function/viewportHeight"),p=require("../function/enableSelection"),d=require("../function/disableSelection"),m=require("../util/life"),h=require("../util/touch"),v=require("../util/instance").body,g=e.prototype;g.type="Draggable",g.init=function(){var e=this,i=e.option("mainElement");i.css(o(i)),e.inner({main:i});var s=e.option("containerElement"),c=n(),m=s||c,h=e.option("draggingClass"),g=e.option("containerDraggingClass"),T=e.option("bodyDraggingClass")||"dragging",A=function(n){var c,p=n[$.expando];if(p){var d=e.option("includeSelector"),h=e.option("excludeSelector"),v=n.target;if(d&&!t(i,d,v)||h&&t(i,h,v))return;$.each(E,function(e,t){if(0===n.type.indexOf(e))return c=t,!1;else;})}else if(n.type)c=E[n.type];if(!c)c=E.mouse;var g,T,A=o(i),C="fixed"===A.position,D=u(i),k=a(m);if(p)g=c.absoluteX(n)-D.x,T=c.absoluteY(n)-D.y;else g=n.offsetX,T=n.offsetY;var I=r(m,i);if(I)if(g+=k.x,T+=k.y,!C)g-=m.scrollLeft(),T-=m.scrollTop();S.left=A.left,S.top=A.top;var q,_,R=I?0:k.x,U=I?0:k.y,P=f();if(C){var O=!s||s.is("body");if(O)q=l(),_=P}if("number"!==$.type(q))if(I)q=m.prop("scrollWidth"),_=m.prop("scrollHeight");else q=m.innerWidth(),_=m.innerHeight();if(P>_)if(m.is("body")||m.is("html"))_=P;q=Math.max(0,q-i.outerWidth(!0)),_=Math.max(0,_-i.outerHeight(!0));var L=e.option("axis");return y="y"===L?w.constant(A.left):w.variable(c[C?"fixedX":"absoluteX"],g,R,R+q),x="x"===L?w.constant(A.top):w.variable(c[C?"fixedY":"absoluteY"],T,U,U+_),b=0,!0},C=function(t){S.left=y(t),S.top=x(t);var n;if(0===b){if(n=e.emit("beforedrag",S),n.isDefaultPrevented())return;if(d(),h)i.addClass(h);if(g)s.addClass(g);if(T)v.addClass(T)}if(b++,n=e.emit("drag",S),!n.isDefaultPrevented())e.execute("dragAnimation",{mainElement:i,mainStyle:S})},D=function(){if(b>0){if(p(),h)i.removeClass(h);if(g)s.removeClass(g);if(T)v.removeClass(T);e.emit("afterdrag",S)}b=y=x=null};e.execute("init",{mainElement:i,namespace:e.namespace(),downHandler:A,moveHandler:C,upHandler:D})},g.dispose=function(){var e=this;m.dispose(e),e.inner("main").off(e.namespace())},m.extend(g);var y,x,b,S={},w={constant:function(e){return function(){return e}},variable:function(e,t,n,o){return function(r){return i(e(r)-t,n,o)}}},E={};return $.each(h,function(e,t){if(t.support)E[e]={absoluteX:function(e){return t.client(e).x+s()},absoluteY:function(e){return t.client(e).y+c()},fixedX:function(e){return t.client(e).x},fixedY:function(e){return t.client(e).y}}}),e}),define("cc/helper/FlashUploader",["require","exports","module","../function/ucFirst","../function/ratio","../util/life","../util/supload/supload"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("../function/ucFirst"),n=require("../function/ratio"),i=require("../util/life");require("../util/supload/supload");var o=window.Supload,r=e.prototype;r.type="FlashUploader",r.init=function(){var e=this,n=e.option("mainElement"),i={element:n[0],flashUrl:e.option("flashUrl"),action:e.option("action"),accept:e.option("accept"),multiple:e.option("multiple"),data:e.option("data"),fileName:e.option("fileName"),ignoreError:e.option("ignoreError"),customSettings:{uploader:e}};$.each(a,function(e,n){i["on"+t(e)]=n}),e.inner({supload:new o(i)})},r.getFiles=function(){return this.inner("supload").getFiles()},r.setAction=function(e){this.inner("supload").setAction(e)},r.setData=function(e){this.inner("supload").setData(e)},r.reset=function(){this.inner("supload").reset()},r.upload=function(){this.inner("supload").upload()},r.stop=function(){this.inner("supload").cancel()},r.enable=function(){this.inner("supload").enable()},r.disable=function(){this.inner("supload").disable()},r.dispose=function(){var e=this;i.dispose(e),e.inner("supload").dispose()},i.extend(r),e.STATUS_WAITING=o.STATUS_WAITING,e.STATUS_UPLOADING=o.STATUS_UPLOADING,e.STATUS_UPLOAD_SUCCESS=o.STATUS_UPLOAD_SUCCESS,e.STATUS_UPLOAD_ERROR=o.STATUS_UPLOAD_ERROR,e.ERROR_CANCEL=o.ERROR_CANCEL,e.ERROR_SECURITY=o.ERROR_SECURITY,e.ERROR_IO=o.ERROR_IO;var a={ready:function(){var e=this.customSettings.uploader;e.emit("ready")},fileChange:function(){var e=this.customSettings.uploader;e.emit("filechange")},uploadStart:function(e){var t=this.customSettings.uploader;t.emit("uploadstart",e)},uploadProgress:function(e){var t=this.customSettings.uploader;e.percent=100*n(e.uploaded,e.total)+"%",t.emit("uploadprogress",e)},uploadSuccess:function(e){var t=this.customSettings.uploader;t.emit("uploadsuccess",e)},uploadError:function(e){var t=this.customSettings.uploader;t.emit("uploaderror",e)},uploadComplete:function(e){var t=this.customSettings.uploader;t.emit("uploadcomplete",e)}};return e}),define("cc/helper/Input",["require","exports","module","../function/toString","../util/life","../util/input","../util/keyboard","./Keyboard"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/toString"),n=require("../util/life"),i=require("../util/input"),o=require("../util/keyboard"),r=require("./Keyboard"),a=e.prototype;return a.type="Input",a.init=function(){var e=this,t=e.option("mainElement");i.init(t);var n,a=new r({mainElement:t,shortcut:e.option("shortcut")}),u=function(n){if("string"!==$.type(n))n=t.val();e.set("value",n)};a.on("dispatch",function(i,r){var a=i.originalEvent;switch(a.type){case"beforelongpress":n=!0;break;case"afterlongpress":n=!1;var s=r.keyCode;if(o.isCharKey(s)||o.isDeleteKey()||t.is("textarea")&&s===o.enter)u()}e.emit(a,r,!0)});var s=e.namespace();t.on("blur"+s,u).on(i.INPUT+s,function(){if(!n||!e.option("silentOnLongPress"))u()}),e.inner({keyboard:a,main:t}),u(e.option("value"))},a.dispose=function(){var e=this;n.dispose(e);var t=e.inner("main");t.off(e.namespace()),i.dispose(t),e.inner("keyboard").dispose()},n.extend(a),e.propertyUpdater={value:function(e,t,n){var i=this.inner("main");if(i.val()!==e||n.value.force)i.val(e)}},e.propertyValidator={value:function(e){return t(e)}},e}),define("cc/helper/Iterator",["require","exports","module","../function/plus","../function/minus","../function/toNumber","../util/Timer","../util/life"],function(require,exports,module){"use strict";function e(e){r.init(this,e)}var t=require("../function/plus"),n=require("../function/minus"),i=require("../function/toNumber"),o=require("../util/Timer"),r=require("../util/life"),a=e.prototype;return a.init=function(){var e=this;e.set({index:e.option("index"),minIndex:e.option("minIndex"),maxIndex:e.option("maxIndex")})},a.start=function(e){var t=this,n=t.inner("timer");if(n)n.dispose();var i=e?t.prev:t.next,r=t.option("interval");if("number"!==$.type(r))t.error("interval must be a number.");n=new o({task:$.proxy(i,t),interval:r}),n.start(),t.inner("timer",n)},a.pause=function(){this.inner("timer").dispose(),this.inner("timer",null)},a._pause=function(){if(!this.inner("timer"))return!1;else;},a.stop=function(){var e=this;e.pause(),e.set("index",e.option("defaultIndex"))},a.prev=function(){var e=this,t=n(e.get("index"),e.option("step")),o=e.get("minIndex"),r=e.get("maxIndex");if(!$.isNumeric(t)||o>t||t>r)t=r;e.set("index",i(t,0))},a._prev=function(){var e=this;if(!e.option("loop")&&n(e.get("index"),e.option("step"))<e.get("minIndex"))return!1;else return},a.next=function(){var e=this,n=t(e.get("index"),e.option("step")),o=e.get("minIndex"),r=e.get("maxIndex");if(!$.isNumeric(n)||n>r||o>n)n=o;e.set("index",i(n,0))},a._next=function(){var e=this;if(!e.option("loop")&&t(e.get("index"),e.option("step"))>e.get("maxIndex"))return!1;else return},a.dispose=a.stop,r.extend(a),e.propertyValidator={index:function(e){if(e=i(e,null),null==e)e=this.option("defaultIndex");return e}},e}),define("cc/helper/Keyboard",["require","exports","module","../function/split","../util/life","../util/keyboard"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}function t(e){var t=[];return $.each(e,function(e,i){var r=[],a="plus",u=n(e.replace(/\$\+/g,a),"+");if($.each(o.combinationKey,function(e){if($.inArray(e,u)<0)u.push("!"+e)}),$.each(u,function(e,t){var n=0===t.indexOf("!");if(n)t=t.substr(1);if(t===a)t="$+";if(o.combinationKey[t])r.push((n?"!":"")+"e."+t+"Key");else if(o[t])r.push("e.keyCode==="+o[t]);else return r.length=0,!1}),r.length>0)t.push({test:new Function("e","return "+r.join("&")),handler:i})}),t}var n=require("../function/split"),i=require("../util/life"),o=require("../util/keyboard"),r=e.prototype;return r.type="Keyboard",r.init=function(){var e=this,n=e.option("shortcut");if($.isPlainObject(n))n=t(n);var i,o=0,r=1,a=function(){return o>r},u=e.namespace();e.option("mainElement").on("keydown"+u,function(t){var u=t.keyCode;if(i===u&&o>0){if(o===r)e.emit("beforelongpress",{keyCode:u},!0);o++}else i=u,o=1;if(e.emit(t,!0),n){var s={isLongPress:a()},c=[t,s];$.each(n,function(n,i){if(i.test(t))e.execute(i.handler,c)})}}).on("keyup"+u,function(t){if(a())e.emit("afterlongpress",{keyCode:t.keyCode},!0);o=0,i=null,e.emit(t,!0)})},r.dispose=function(){var e=this;i.dispose(e),e.option("mainElement").off(e.namespace())},i.extend(r),e}),define("cc/helper/KeyboardIterator",["require","exports","module","./Keyboard","./Iterator","../util/life","../util/keyboard"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("./Keyboard"),n=require("./Iterator"),i=require("../util/life"),o=require("../util/keyboard"),r=e.prototype;r.init=function(){var e=this,i=new n({index:e.option("index"),minIndex:e.option("minIndex"),maxIndex:e.option("maxIndex"),defaultIndex:e.option("defaultIndex"),interval:e.option("interval"),step:e.option("step"),loop:e.option("loop"),watchSync:{index:function(t){e.set("index",t)},minIndex:function(t){e.set("minIndex",t)},maxIndex:function(t){e.set("maxIndex",t)}}}),r=function(t,n){e.emit(t,n)};$.each(a,function(e,t){i.before(t,r).after(t,r)});var u=e.option("prevKey"),s=e.option("nextKey"),c={};c[u]=function(e,t){if(!t.isLongPress)i.prev()},c[s]=function(e,t){if(!t.isLongPress)i.next()};var l=e.option("mainElement"),f=new t({mainElement:l,shortcut:c}),p=!1;if(f.before("longpress",function(t,n){var i,r=n.keyCode;if(r===o[u])i=!0;else if(r===o[s])i=!1;if(null!=i)p=!0,e.start(i)}).after("longpress",function(){if(p)p=!1,e.pause()}),l.is('input[type="text"]'))f.on("keydown",function(e){if(e.keyCode===o.up)return!1;else;});e.inner({iterator:i,keyboard:f})},r.start=function(e){this.inner("iterator").start(e)},r.pause=function(){this.inner("iterator").pause()},r.stop=function(){this.inner("iterator").stop()},r.prev=function(){this.inner("iterator").prev()},r.next=function(){this.inner("iterator").next()},r.dispose=function(){this.inner("iterator").dispose(),this.inner("keyboard").dispose()};var a=["start","pause","stop","prev","next"];return i.extend(r,a),e.propertyUpdater={index:function(e){this.inner("iterator").set("index",e)},minIndex:function(e){this.inner("iterator").set("minIndex",e)},maxIndex:function(e){this.inner("iterator").set("maxIndex",e)}},e}),define("cc/helper/Placeholder",["require","exports","module","../function/isHidden","../function/toString","../function/supportPlaceholder","../util/life","../util/input"],function(require,exports,module){"use strict";function e(e){r.init(this,e)}function t(e,t){var n=e.inner("proxy"),i=n[t];if(i)return i(e);else;}var n=require("../function/isHidden"),i=require("../function/toString"),o=require("../function/supportPlaceholder")(),r=require("../util/life"),a=require("../util/input"),u=e.prototype;u.type="Placeholder",u.init=function(){var e=this;e.initStruct(),e.inner({proxy:e.option("nativeFirst")&&o?s:c}),t(e,"init"),e.set({value:e.option("value")}),e.state({hidden:e.option("hidden")})},u.show=function(){this.state("hidden",!1)},u._show=function(){if(!this.is("hidden"))return!1;else;},u.hide=function(){this.state("hidden",!0)},u._hide=function(){if(this.is("hidden"))return!1;else;},u.render=function(){t(this,"render")},u.dispose=function(){t(this,"dispose"),r.dispose(this)},r.extend(u),e.propertyUpdater={value:function(){this.render()}},e.propertyValidator={value:function(e){if(e=i(e,null),null==e)e=this.inner("input").attr("placeholder");return e||""}},e.stateUpdater={hidden:function(e){t(this,e?"hide":"show")}},e.stateValidator={hidden:function(e){if("boolean"!==$.type(e))e=t(this,"isHidden");return e}};var s={init:function(e){var t=e.option("mainElement"),n=e.option("inputSelector"),i=t.prop("tagName");e.inner({main:t,input:"INPUT"===i||"TEXTAREA"===i?t:t.find(n)})},render:function(e){e.inner("input").attr("placeholder",e.get("value"))},isHidden:function(e){return e.inner("input").val().length>0}},c={init:function(e){var t=e.option("mainElement"),n=e.option("inputSelector"),i=e.option("labelSelector"),o=t.find(n);e.inner({main:t,input:o,label:t.find(i)}),a.init(o);var r=function(){var t=$.trim(o.val()).length>0;if(t!==e.is("hidden"))if(t)e.hide();else e.show()};r();var u=e.namespace();t.on("click"+u,i,function(){o.focus()}).on(a.INPUT+u,n,r)},show:function(e){e.execute("showAnimation",{labelElement:e.inner("label")})},hide:function(e){e.execute("hideAnimation",{labelElement:e.inner("label")})},render:function(e){var t=e.inner("input");if(t.removeAttr("placeholder"),e.inner("label").html(e.get("value")),$.trim(t.val()))e.hide();else e.show()},dispose:function(e){var t=e.inner("input");a.dispose(t),t.off(e.namespace())},isHidden:function(e){return n(e.inner("label"))}};return e}),define("cc/helper/Popup",["require","exports","module","../function/isHidden","../function/contains","../function/nextTick","../util/life","../util/trigger","../util/instance"],function(require,exports,module){"use strict";function e(e){h.init(this,e)}function t(e,t){return function(n){if($.isFunction(t))if(!t.call(this,n))return;e.open(n)}}function n(e,t){return function(n){if($.isFunction(t))if(!t.call(this,n))return;e.close(n);var i=e.inner(S);if(i)e.sync(),i.resolve()}}function i(e,t,n,i){if(e)e.on(t,i,n)}function o(e,t,n){if(e)e.off(t,n)}function r(e,t){var n=e.option("triggerElement"),o=e.option("triggerSelector");if(n||o)i(n||g.body,t.type,t.handler,o)}function a(e,t){o(e.option("triggerElement")||g.body,t.type,t.handler)}function u(e,t){i(g.document,t.type,t.handler)}function s(e,t){o(g.document,t.type,t.handler)}function c(e){return n(e,function(t){return!d(e.inner("layer"),t.target)})}function l(e,t){var n=e.option("triggerElement"),i=e.option("triggerSelector");if(n&&!i)return n;if(t)return $(t.currentTarget);else;}function f(e,t){var n=e.option("layerElement");if(n&&n.jquery&&n.length)return n;if(t&&$.isFunction(n)){if(n=e.execute(n,t),n&&n.tagName)n=$(n);return n}}var p=require("../function/isHidden"),d=require("../function/contains"),m=require("../function/nextTick"),h=require("../util/life"),v=require("../util/trigger"),g=require("../util/instance"),y=e.prototype;y.type="Popup",y.init=function(){var e=this,t=function(t,n){if($.isFunction(t[n]))return t[n](e);else;},n=v.parse(e.option("showLayerTrigger"),function(n){var i=T.show[n];return{delay:e.option("showLayerDelay"),startDelay:t(i,"startDelay"),endDelay:t(i,"endDelay"),handler:t(i,"handler"),beforeHandler:function(t){var n=function(){e.inner({trigger:l(e,t),layer:f(e,t)})};if(e.is("opened")){var i=$.Deferred();return i.then(n),e.inner(S,i),i}else n()}}}),i=v.parse(e.option("hideLayerTrigger"),function(n){var i=T.hide[n];return{delay:e.option("hideLayerDelay"),startDelay:t(i,"startDelay"),endDelay:t(i,"endDelay"),handler:t(i,"handler")}}),o=function(t){$.each(n,function(n,i){T.show[n][t](e,i)})},r=function(t){$.each(i,function(n,i){T.hide[n][t](e,i)})},a=!1,u=!1,s=function(){if(!a)o("on"),a=!0},c=function(){if(a)o("off"),a=!1},p=function(){if(!u)r("on"),u=!0},d=function(){if(u)r("off"),u=!1},h=function(t,n){var i=n.opened;if(i)if(i.newValue){if(!e.option("triggerSelector"))c();m(p)}else d(),s()};e.before("dispose",function(){e.off("statechange",h),c(),d(),e.close()}).on("statechange",h),e.inner({trigger:l(e),layer:f(e)}),e.state({opened:e.option("opened")})},y.open=function(){this.state("opened",!0)},y._open=function(e){var t=this;if(t.is("opened")){var n=t.inner("layer"),i=t.inner("trigger"),o=n.data(b);if(i&&o&&i[0]!==o[0])n.data(x).close(),m(function(){if(t.$)t.open(e)});return!1}return{dispatch:!0}},y.open_=function(){var e=this,t=e.inner("layer");if(t){var n={};n[b]=e.inner("trigger"),n[x]=e,t.data(n)}return{dispatch:!0}},y.close=function(){this.state("opened",!1)},y._close=function(){if(!this.is("opened"))return!1;else return{dispatch:!0}},y.close_=function(){var e=this,t=e.inner("layer");if(t)t.removeData(x).removeData(b);return{dispatch:!0}},y.dispose=function(){h.dispose(this)},h.extend(y),e.stateUpdater={opened:function(e){var t=this.inner("layer");if(t)this.execute(e?"showLayerAnimation":"hideLayerAnimation",{layerElement:t})}},e.stateValidator={opened:function(e){if("boolean"!==$.type(e)){var t=this.inner("layer");if(t)e=!p(t)}return e}};var x="__prev_popup__",b="__trigger_element__",S="__hide_promise__",w=v.enter.type,E=v.leave.type,T={show:{focus:{on:r,off:a,handler:t},click:{on:r,off:a,handler:t},enter:{on:r,off:a,handler:t,startDelay:function(e){return function(t){i(e.inner("trigger"),E,t)}},endDelay:function(e){return function(t){o(e.inner("trigger"),E,t)}}},context:{on:r,off:a,handler:t}},hide:{blur:{on:r,off:a,handler:n},click:{on:u,off:s,handler:c},leave:{on:function(e,t){i(e.inner("trigger"),t.type,t.handler),i(e.inner("layer"),t.type,t.handler)},off:function(e,t){o(e.inner("trigger"),t.type,t.handler),o(e.inner("layer"),t.type,t.handler)},handler:n,startDelay:function(e){return function(t){i(e.inner("trigger"),w,t),i(e.inner("layer"),w,t)}},endDelay:function(e){return function(t){o(e.inner("trigger"),w,t),o(e.inner("layer"),w,t)}}},context:{on:u,off:s,handler:c}}};return e}),define("cc/helper/Switchable",["require","exports","module","../function/toNumber","../util/life","../util/trigger"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/toNumber"),n=require("../util/life"),i=require("../util/trigger"),o=e.prototype;o.type="Switchable",o.init=function(){var e=this,t=e.option("mainElement"),n=e.option("itemSelector");if(n){var o=function(t,n){if($.isFunction(t[n]))return t[n](e);else;};$.each(i.parse(e.option("switchTrigger"),function(t){var n=r[t];return{delay:e.option("switchDelay"),startDelay:o(n,"startDelay"),endDelay:o(n,"endDelay"),handler:o(n,"handler")}}),function(i,o){t.on(o.type+e.namespace(),n,o.handler)})}e.inner({main:t}),e.set({index:e.option("index")})},o.dispose=function(){var e=this;n.dispose(e),e.inner("main").off(e.namespace())},n.extend(o),e.propertyValidator={index:function(e){var n=this;if(e=t(e,null),null==e){var i=n.option("itemSelector"),o=n.option("itemActiveClass");if(i&&o){var r=n.inner("main");e=r.find(i).index(r.find("."+o))}}if(!$.isNumeric(e))n.error("index must be a number.");return e}};var r={enter:{startDelay:function(e){return function(t){e.inner("main").on(i.leave.type,e.option("itemSelector"),t)}},endDelay:function(e){return function(t){e.inner("main").off(i.leave.type,t)}}},click:{}};return r.enter.handler=r.click.handler=function(e){return function(){var t=e.option("itemSelector"),n=e.inner("main").find(t);e.set("index",n.index(this))}},e}),define("cc/main",["require","exports","module","./form/Box","./form/BoxGroup","./form/Date","./form/DateRange","./form/Number","./form/Select","./form/Text","./form/Validator","./function/around","./function/autoScrollDown","./function/autoScrollUp","./function/contains","./function/offsetDate","./function/debounce","./function/decimalLength","./function/decodeHTML","./function/disableSelection","./function/divide","./function/dragGlobal","./function/enableSelection","./function/encodeHTML","./function/eventOffset","./function/eventPage","./function/extend","./function/float2Int","./function/guid","./function/offsetHour","./function/imageDimension","./function/innerOffset","./function/isActiveElement","./function/isHidden","./function/lpad","./function/minus","./function/offsetMinute","./function/firstDateInMonth","./function/lastDateInMonth","./function/offsetMonth","./function/multiply","./function/nextTick","./function/offsetParent","./function/outerOffset","./function/page","./function/pageHeight","./function/pageScrollLeft","./function/pageScrollTop","./function/pageWidth","./function/parseDate","./function/parsePercent","./function/parseTime","./function/pin","./function/pinGlobal","./function/plus","./function/position","./function/ratio","./function/replaceWith","./function/restrain","./function/scrollBottom","./function/offsetSecond","./function/simplifyDate","./function/simplifyTime","./function/toNumber","./function/toString","./function/ucFirst","./function/viewport","./function/viewportHeight","./function/viewportWidth","./function/firstDateInWeek","./function/lastDateInWeek","./function/offsetWeek","./helper/AjaxUploader","./helper/KeyboardIterator","./helper/Draggable","./helper/FlashUploader","./helper/Input","./helper/Iterator","./helper/Keyboard","./helper/Placeholder","./helper/Popup","./helper/Switchable","./ui/AutoComplete","./ui/Calendar","./ui/Carousel","./ui/ComboBox","./ui/ContextMenu","./ui/Dialog","./ui/Pager","./ui/Rater","./ui/ScrollBar","./ui/Slider","./ui/SpinBox","./ui/Tab","./ui/Tooltip","./ui/Tree","./ui/Uploader","./ui/Zoom","./util/browser","./util/cookie","./util/etpl","./util/FiniteArray","./util/fullScreen","./util/input","./util/instance","./util/json","./util/keyboard","./util/life","./util/localStorage","./util/mimeType","./util/newTab","./util/orientation","./util/position","./util/Queue","./util/Range","./util/string","./util/support","./util/swipe","./util/Timer","./util/touch","./util/trigger","./util/url","./util/validator","./util/Value","./util/visibility","./util/wheel","./util/supload/supload"],function(require,exports,module){
"use strict";require("./form/Box"),require("./form/BoxGroup"),require("./form/Date"),require("./form/DateRange"),require("./form/Number"),require("./form/Select"),require("./form/Text"),require("./form/Validator"),require("./function/around"),require("./function/autoScrollDown"),require("./function/autoScrollUp"),require("./function/contains"),require("./function/offsetDate"),require("./function/debounce"),require("./function/decimalLength"),require("./function/decodeHTML"),require("./function/disableSelection"),require("./function/divide"),require("./function/dragGlobal"),require("./function/enableSelection"),require("./function/encodeHTML"),require("./function/eventOffset"),require("./function/eventPage"),require("./function/extend"),require("./function/float2Int"),require("./function/guid"),require("./function/offsetHour"),require("./function/imageDimension"),require("./function/innerOffset"),require("./function/isActiveElement"),require("./function/isHidden"),require("./function/lpad"),require("./function/minus"),require("./function/offsetMinute"),require("./function/firstDateInMonth"),require("./function/lastDateInMonth"),require("./function/offsetMonth"),require("./function/multiply"),require("./function/nextTick"),require("./function/offsetParent"),require("./function/outerOffset"),require("./function/page"),require("./function/pageHeight"),require("./function/pageScrollLeft"),require("./function/pageScrollTop"),require("./function/pageWidth"),require("./function/parseDate"),require("./function/parsePercent"),require("./function/parseTime"),require("./function/pin"),require("./function/pinGlobal"),require("./function/plus"),require("./function/position"),require("./function/ratio"),require("./function/replaceWith"),require("./function/restrain"),require("./function/scrollBottom"),require("./function/offsetSecond"),require("./function/simplifyDate"),require("./function/simplifyTime"),require("./function/toNumber"),require("./function/toString"),require("./function/ucFirst"),require("./function/viewport"),require("./function/viewportHeight"),require("./function/viewportWidth"),require("./function/firstDateInWeek"),require("./function/lastDateInWeek"),require("./function/offsetWeek"),require("./helper/AjaxUploader"),require("./helper/KeyboardIterator"),require("./helper/Draggable"),require("./helper/FlashUploader"),require("./helper/Input"),require("./helper/Iterator"),require("./helper/Keyboard"),require("./helper/Placeholder"),require("./helper/Popup"),require("./helper/Switchable"),require("./ui/AutoComplete"),require("./ui/Calendar"),require("./ui/Carousel"),require("./ui/ComboBox"),require("./ui/ContextMenu"),require("./ui/Dialog"),require("./ui/Pager"),require("./ui/Rater"),require("./ui/ScrollBar"),require("./ui/Slider"),require("./ui/SpinBox"),require("./ui/Tab"),require("./ui/Tooltip"),require("./ui/Tree"),require("./ui/Uploader"),require("./ui/Zoom"),require("./util/browser"),require("./util/cookie"),require("./util/etpl"),require("./util/FiniteArray"),require("./util/fullScreen"),require("./util/input"),require("./util/instance"),require("./util/json"),require("./util/keyboard"),require("./util/life"),require("./util/localStorage"),require("./util/mimeType"),require("./util/newTab"),require("./util/orientation"),require("./util/position"),require("./util/Queue"),require("./util/Range"),require("./util/string"),require("./util/support"),require("./util/swipe"),require("./util/Timer"),require("./util/touch"),require("./util/trigger"),require("./util/url"),require("./util/validator"),require("./util/Value"),require("./util/visibility"),require("./util/wheel"),require("./util/supload/supload")}),define("cc/ui/AutoComplete",["require","exports","module","../function/contains","../function/autoScrollUp","../function/autoScrollDown","../helper/Input","../helper/Popup","../helper/KeyboardIterator","../util/life"],function(require,exports,module){"use strict";function e(e){u.init(this,e)}var t=require("../function/contains"),n=require("../function/autoScrollUp"),i=require("../function/autoScrollDown"),o=require("../helper/Input"),r=require("../helper/Popup"),a=require("../helper/KeyboardIterator"),u=require("../util/life"),s=e.prototype;s.type="AutoComplete",s.init=function(){var e,u=this,s=u.option("inputElement"),l=u.option("menuElement"),f=(u.option("autoScroll"),u.option("itemSelector")),p=u.option("itemActiveClass"),d=[{element:s,data:{value:s.val()}}],m=function(e,t){var n=d[e];if(n)t(n.element,n.data)},h=function(t){if(p)m(e,function(e){if(e[0]!==s[0])e[t](p)})},v=function(){m(e,function(e,t){s.val(t.value)})},g=function(t){m(e,function(e){t(l,e)})},y=new a({mainElement:s,minIndex:u.option("includeInput")?0:1,defaultIndex:0,step:1,loop:u.option("loop"),prevKey:"up",nextKey:"down",interval:u.option("interval"),watchSync:{index:function(t){h("removeClass"),e=t,h("addClass")}}});y.after("prev",function(){v(),g(n)}).after("next",function(){v(),g(i)});var x,b=function(){u.execute("load",[$.trim(d[0].data.value),function(e,t){if(t)u.set("data",t),u.open();else u.close()}])},S=new o({mainElement:s,silentOnLongPress:!0,shortcut:{enter:function(t,n){if(!n.isLongPress){if(u.is("opened"))u.close();m(e,function(e,t){u.emit("enter",t)})}}},watchSync:{value:function(e){d[0].data.value=e,b()}}}),w=u.option("showMenuTrigger"),E=u.option("hideMenuTrigger");if(w&&E)x=new r({triggerElement:s,layerElement:l,showLayerTrigger:w,showLayerDelay:u.option("showMenuDelay"),hideLayerTrigger:E,hideLayerDelay:u.option("hideMenuDelay"),showLayerAnimation:function(){u.execute("showMenuAnimation",{menuElement:l})},hideLayerAnimation:function(){u.execute("hideMenuAnimation",{menuElement:l})},watchSync:{opened:function(e){u.state("opened",e)}}}),x.on("dispatch",function(e,n){var i=e.originalEvent,o=i.originalEvent.target;if(o)switch(i.type){case"beforeopen":if(t(s,o))return b(),!1;break;case"beforeclose":if(t(s,o)||t(l,o))return!1}u.emit(i,n,!0)});else s.on("blur",function(){y.stop()});u.after("open",function(){y.set("maxIndex",d.length-1)}).after("close",function(){y.stop(),y.set("maxIndex",0),A=null}).before("render",function(){y.stop()}).after("render",function(){d.length=1;var e=0,t=u.option("valueAttribute");l.find(f).each(function(){var n,i=$(this);if(t)n=i.attr(t);if(!n)n=i.html();e++,d[e]={element:i,data:{value:n}},i.data(c,e)});var n={maxIndex:e};if(p){var i=l.find("."+p);if(1===i.length){var o=i.data(c);m(o,function(){n.index=o})}}y.set(n)});var T,A,C=u.namespace();l.on("scroll"+C,function(){if(T)clearTimeout(T);T=setTimeout(function(){T=null},500)}).on("click"+C,f,function(){var e=$(this).data(c);m(e,function(e,t){v(),u.close(),u.emit("select",t)})}).on("mouseenter"+C,f,function(){if(!T){A=$(this);var e=A.data(c);m(e,function(){y.set("index",e),y.sync()})}}).on("mouseleave"+C,f,function(){if(!T)if(A){if(A[0]===this)y.set("index",y.option("defaultIndex")),y.sync();A=null}}),u.inner({iterator:y,input:S,popup:x})},s.render=function(){var e=this;e.renderWith(e.get("data"),e.option("menuTemplate"),e.option("menuElement"))},s._render=function(){if(!this.get("data"))return!1;else;},s.open=function(){this.state("opened",!0)},s.close=function(){this.state("opened",!1)},s.dispose=function(){var e=this;u.dispose(e),e.inner("iterator").dispose(),e.inner("input").dispose();var t=e.inner("popup");if(t)t.dispose();e.option("menuElement").off(e.namespace())},u.extend(s,["open","close"]),e.propertyUpdater={data:function(){this.render()}},e.stateUpdater={opened:function(e){var t=this.inner("popup");if(t)if(e)t.open();else t.close()}};var c="__index__";return e}),define("cc/ui/Calendar",["require","../function/offsetWeek","../function/offsetMonth","../function/firstDateInWeek","../function/lastDateInWeek","../function/firstDateInMonth","../function/lastDateInMonth","../function/parseDate","../function/simplifyDate","../util/life","../util/Value"],function(require){"use strict";function e(e){m.init(this,e)}function t(e,t){var i,o,a=e.option("firstDay"),u=r(e.get("today")),p=e.option("mode")===g;if(p)i=s(l(t),a),o=c(f(t),a);else i=s(t,a),o=c(t,a);if(i=r(i),o=r(o),p&&e.option("stable")){var m=o-i,h=x-m;if(h>0)o+=h}var v={};e.inner("value").each(function(t){if(t){var n=e.execute("parse",t);v[r(n)]=1}});var y=n(i,o,u,v);return $.extend(d(t),{start:y[0],end:y[y.length-1],list:y})}function n(e,t,n,i){for(var o,r=[],a=e;t>=a;a+=y){if(o=d(a),a>n)o.phase="future";else if(n>a)o.phase="past";else o.phase="today";if(i[a])o.active=!0;r.push(o)}return r}function i(e,t){var n=e.get("data");return n&&t>=p(n.start)&&t<p(n.end).getTime()+y}function o(e,n){var i=e.get("date");i=e.option("mode")===g?u(i,n):a(i,n),e.set({date:i,data:t(e,i)})}function r(e){return e.setHours(0,0,0,0)}var a=require("../function/offsetWeek"),u=require("../function/offsetMonth"),s=require("../function/firstDateInWeek"),c=require("../function/lastDateInWeek"),l=require("../function/firstDateInMonth"),f=require("../function/lastDateInMonth"),p=require("../function/parseDate"),d=require("../function/simplifyDate"),m=require("../util/life"),h=require("../util/Value"),v=e.prototype;v.type="Calendar",v.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n="click"+e.namespace(),i=e.option("itemSelector");if(i){var o=e.option("valueAttribute");if(!o)e.error("valueAttribute is missing.");t.on(n,i,function(){var t=$(this).attr(o),n=e.inner("value");if(n.has(t)){if(e.option("toggle"))n.remove(t)}else n.add(t);e.set("value",n.get()),e.sync()})}var r=e.option("prevSelector");if(r)t.on(n,r,$.proxy(e.prev,e));var a=e.option("nextSelector");if(a)t.on(n,a,$.proxy(e.next,e));e.inner({main:t,value:new h({multiple:e.option("multiple"),validate:function(t){var n=e.execute("parse",t);return"date"===$.type(n)}})});var u=e.option("today")||new Date;e.set({today:u,date:e.option("date")||u,value:e.option("value")})},v.prev=function(){o(this,-1)},v.next=function(){o(this,1)},v.render=function(){this.renderWith(this.get("data"))},v._render=function(){if(!this.get("data"))return!1;else;},v.dispose=function(){var e=this;m.dispose(e),e.inner("main").off(e.namespace()),e.inner("value").dispose()},m.extend(v),e.propertyUpdater={},e.propertyUpdater.data=e.propertyUpdater.date=e.propertyUpdater.value=function(e,n,o){var r,a=this;if(o.date){var u=o.date.newValue;if(!i(a,u))r=!0,a.set("data",t(a,u),{silent:!0})}if(!r&&o.data)r=!0;if(r)a.render();if(r||o.value){var s=a.option("valueAttribute"),c=a.option("itemActiveClass");if(s&&c){var l=a.inner("main");return l.find("."+c).removeClass(c),a.inner("value").each(function(e){if(e)l.find("["+s+'="'+e+'"]').addClass(c)}),!1}}},e.propertyValidator={value:function(e){var t=this.inner("value");return t.set(e),t.get()}};var g="month",y=864e5,x=41*y;return e}),define("cc/ui/Carousel",["require","exports","module","../function/toNumber","../helper/Switchable","../helper/Iterator","../util/life"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}var t=require("../function/toNumber"),n=require("../helper/Switchable"),i=require("../helper/Iterator"),o=require("../util/life"),r=e.prototype;r.type="Carousel",r.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),o=e.namespace(),r="click"+o,u=e.option("prevSelector");if(u)t.on(r,u,$.proxy(e.prev,e));var s=e.option("nextSelector");if(s)t.on(r,s,$.proxy(e.next,e));var c=e.option("itemSelector");if(e.option("autoPlay")&&e.option("pauseOnHover"))t.on("mouseenter"+o,c,$.proxy(e.pause,e)).on("mouseleave"+o,c,$.proxy(e.play,e));var l,f=e.option("navTrigger"),p=e.option("navSelector"),d=e.option("navActiveClass");if(f&&p)l=new n({mainElement:t,switchTrigger:f,switchDelay:e.option("navDelay"),itemSelector:p,itemActiveClass:d,watchSync:{index:function(t){e.set("index",t)}}});var m=new i({interval:e.option("interval"),step:e.option("step"),loop:e.option("loop"),watchSync:{index:function(t){e.set("index",t)},minIndex:function(t){e.set("minIndex",t)},maxIndex:function(t){e.set("maxIndex",t)}}}),h=function(t,n){e.emit(t,n)};$.each(a,function(e,t){m.before(t,h).after(t,h)}),e.inner({main:t,switcher:l,iterator:m}),e.set({index:e.option("index"),minIndex:e.option("minIndex"),maxIndex:e.option("maxIndex")})},r.prev=function(){this.inner("iterator").prev()},r.next=function(){this.inner("iterator").next()},r.play=function(){this.inner("iterator").start(this.option("reverse"))},r.pause=function(){this.inner("iterator").pause()},r.stop=function(){this.inner("iterator").stop()},r.dispose=function(){var e=this;o.dispose(e),e.inner("iterator").dispose();var t=e.inner("switcher");if(t)t.dispose();e.inner("main").off(e.namespace())};var a=["prev","next","play","pause","stop"];return o.extend(r,a),e.propertyUpdater={index:function(e,t){var n=this,i=n.inner("main");n.inner("iterator").set("index",e);var o=n.inner("switcher");if(o)o.set("index",e),n.execute("navAnimation",{mainElement:i,navSelector:n.option("navSelector"),navActiveClass:n.option("navActiveClass"),fromIndex:t,toIndex:e});if(n.execute("itemAnimation",{mainElement:i,itemSelector:n.option("itemSelector"),itemActiveClass:n.option("itemActiveClass"),fromIndex:t,toIndex:e}),n.option("autoPlay"))n.play()},minIndex:function(e){var t=this.inner("iterator");t.set("minIndex",e),t.option("defaultIndex",e)},maxIndex:function(e){this.inner("iterator").set("maxIndex",e)}},e.propertyValidator={minIndex:function(e){return t(e,0)},maxIndex:function(e){if(e=t(e,null),null==e){var n=this.inner("main").find(this.option("itemSelector"));e=n.length-1}return e}},e}),define("cc/ui/ComboBox",["require","exports","module","../function/toString","../helper/Popup","../util/life"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("../function/toString"),n=require("../helper/Popup"),i=require("../util/life"),o=e.prototype;return o.type="ComboBox",o.init=function(){var e=this;e.initStruct();var t=e.option("buttonElement"),i=e.option("menuElement"),o=new n({triggerElement:t,layerElement:i,showLayerTrigger:e.option("showMenuTrigger"),showLayerDelay:e.option("showMenuDelay"),hideLayerTrigger:e.option("hideMenuTrigger"),hideLayerDelay:e.option("hideMenuDelay"),showLayerAnimation:function(){e.execute("showMenuAnimation",{menuElement:i})},hideLayerAnimation:function(){e.execute("hideMenuAnimation",{menuElement:i})},watchSync:{opened:function(t){e.state("opened",t)}}});o.on("dispatch",function(t,n){e.emit(t.originalEvent,n,!0)});var r=e.option("mainElement"),a=e.option("menuActiveClass");if(a){var u=r||i;o.after("open",function(){u.addClass(a)}).after("close",function(){u.removeClass(a)})}var s=e.option("itemSelector"),c=e.option("valueAttribute");i.on("click"+e.namespace(),s,function(t){if(e.is("opened"))e.close(t);if(!t.isDefaultPrevented()){e.set("value",$(this).attr(c));var n=$.Event(t.originalEvent);n.type="select",e.emit(n,!0)}}),e.inner({main:r,popup:o}),e.set({data:e.option("data"),value:e.option("value")})},o.render=function(){var e=this;e.renderWith(e.get("data"),e.option("menuTemplate"),e.option("menuElement"))},o._render=function(){if(!this.get("data"))return!1;else;},o.open=function(){this.state("opened",!0)},o.close=function(){this.state("opened",!1)},o.dispose=function(){var e=this;i.dispose(e),e.inner("popup").dispose(),e.option("menuElement").off(e.namespace())},i.extend(o,["open","close"]),e.propertyUpdater={},e.propertyUpdater.data=e.propertyUpdater.value=function(e,n,i){var o=this,r=o.option("menuElement"),a=o.option("itemActiveClass"),u=o.option("textAttribute"),s=o.option("valueAttribute");if(i.data)this.render();else if(i.value&&a)r.find("."+a).removeClass(a);var c,l=t(o.get("value"),null);if(null!=l){var f=function(e){if(c=e.attr(u),null==c)c=e.html();return c};if(""!==l){var p=r.find("["+s+'="'+l+'"]');switch(p.length){case 1:if(a)p.addClass(a);c=f(p);break;case 0:break;default:o.error("value repeated.")}}else r.find("["+s+"]").each(function(){var e=$(this),t=e.attr(s);if(""===t)return c=f(e),!1;else;})}return o.execute("setText",{buttonElement:o.option("buttonElement"),text:c||o.option("defaultText")}),!1},e.propertyValidator={value:function(e){var t=this,n=t.option("itemActiveClass");if(null==e&&n){var i=t.option("menuElement").find("."+n);if(1===i.length)e=i.attr(t.option("valueAttribute"))}return e}},e.stateUpdater={opened:function(e){var t=this.inner("popup");if(e)t.open();else t.close()}},e}),define("cc/ui/ContextMenu",["require","exports","module","../function/pin","../function/eventPage","../helper/Popup","../util/instance","../util/life"],function(require,exports,module){"use strict";function e(e){r.init(this,e)}var t=require("../function/pin"),n=require("../function/eventPage"),i=require("../helper/Popup"),o=require("../util/instance").body,r=require("../util/life"),a=e.prototype;a.type="ContextMenu",a.init=function(){var e=this;e.initStruct();var r,a=e.option("mainElement"),s=e.namespace(),c=e.option("action");if(c)$.each(c,function(t,n){a.on("click"+s,t,function(){e.execute(n,r)})});var l=new i({opened:!1,layerElement:a,hideLayerTrigger:"click,context",showLayerAnimation:function(){e.execute("showAnimation",{mainElement:a})},hideLayerAnimation:function(){e.execute("hideAnimation",{mainElement:a})},watchSync:{opened:function(t){e.state("hidden",!t)}}}),f={beforeopen:"beforeshow",afteropen:"aftershow",beforeclose:"beforehide",afterclose:"afterhide"};l.on("dispatch",function(t,n){var i=t.originalEvent,o=f[i.type];if(o)i.type=o;e.emit(i,n,!0)}),e.inner({popup:l,main:a});var p=e.option("containerElement")||o;p.on("contextmenu"+s,function(i){if(u){var s=u.inner("popup");s.close(i),s.sync()}r=i,u=e,l.open(i),l.sync();var c=n(i);return t({element:a,x:0,y:0,attachment:{element:o,x:c.x,y:c.y}}),!1})},a.show=function(){this.state("hidden",!1)},a.hide=function(){this.state("hidden",!0)},a.dispose=function(){var e=this;if(r.dispose(e),e.inner("popup").dispose(),e.option("containerElement").off(e.namespace()),u===e)u=null},r.extend(a,["show","hide"]),e.stateUpdater={hidden:function(e){var t=this.inner("popup");if(e)t.close();else t.open()}};var u;return e}),define("cc/ui/Dialog",["require","exports","module","../function/contains","../function/debounce","../function/pageWidth","../function/pageHeight","../function/pinGlobal","../function/dragGlobal","../util/life","../util/instance"],function(require,exports,module){"use strict";function e(e){u.init(this,e)}var t=require("../function/contains"),n=require("../function/debounce"),i=require("../function/pageWidth"),o=require("../function/pageHeight"),r=require("../function/pinGlobal"),a=require("../function/dragGlobal"),u=require("../util/life"),s=require("../util/instance").window,c=e.prototype;return c.type="Dialog",c.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),i=e.option("maskElement");if(e.option("modal")){if(!i)i=$(e.option("maskTemplate"));if(!t(i,n))n.before(i)}else if(i)i=null;var o=[],r=e.option("skinClass");if(r)o.push(r);var a=e.option("draggableClass");if(e.option("draggable")&&a)o.push(a);if(o.length>0)n.addClass(o.join(" "));var u=e.option("removeOnEmpty");$.each(["content","footer"],function(t,i){var o=e.option(i),r=e.option(i+"Selector");if(o)n.find(r).html(o);else if(u)n.find(r).remove()});var s=e.option("title");if(s)n.find(e.option("titleSelector")).html(s);else if(u)n.find(e.option("headerSelector")).remove();var c=e.option("closeSelector");if(e.option("removeClose"))n.find(c).remove();var l={},f=e.option("width");switch($.type(f)){case"string":case"number":l.width=f}var p=e.option("fixed")?"fixed":"absolute";if(n.css("position")!==p)l.position=p;if(i){var d="z-index",m=e.option("zIndex");if(!$.isNumeric(m))if(m=i.css(d),!$.isNumeric(m))m="auto";i.css(d,m),l[d]=m}n.css(l);var h="click"+e.namespace();if(c)n.on(h,c,$.proxy(e.hide,e));if(e.option("disposeOnHide"))e.on("statechange",function(t,n){var i=n.hidden;if(i&&i.newValue===!0&&i.oldValue===!1)e.dispose()});if(i){if(e.option("hideOnClickMask"))i.on(h,function(i){if(!t(n,i.target))e.hide()});if(e.option("removeOnDispose"))e.after("dispose",function(){i.remove()})}e.inner({main:n,mask:i});var v=e.option("hidden");if(v)e.hide();else e.show()},c.show=function(){this.state("hidden",!1)},c._show=function(){if(this.is("hidden")===!1)return!1;else;},c.hide=function(){this.state("hidden",!0)},c._hide=function(){if(this.is("hidden")===!0)return!1;else;},c.refresh=function(){var e=this,t={},n=e.inner("main");t.mainElement=n,t.mainStyle=r({element:n,x:e.option("x"),y:e.option("y"),fixed:e.option("fixed")});var a=e.inner("mask");if(a)t.maskElement=a,t.maskStyle={width:i(),height:o()};e.execute(arguments[0]?"resizeWindowAnimation":"refreshAnimation",t)},c.dispose=function(){var e=this;if(u.dispose(e),!e.is("hidden"))e.hide();var t=e.inner("main"),n=e.inner("mask"),i=e.namespace();if(t.off(i),n)n.off(i)},u.extend(c),e.stateUpdater={hidden:function(e){var t=this,i=t.namespace();s.off(i);var o=t.inner("dragger");if(o)o.dispose(),o=null;var r=t.inner("main"),u=t.inner("mask"),c={mainElement:r};if(u)c.maskElement=u;if(e)t.execute("hideAnimation",c);else{if(s.on("resize"+i,n(function(){t.refresh(!0)},50)),t.option("draggable"))o=a({element:r,includeSelector:t.option("draggableIncludeSelector"),excludeSelector:t.option("draggableExcludeSelector"),draggingClass:t.option("draggingClass"),dragAnimation:t.option("dragAnimation")});t.execute("showAnimation",c),t.refresh()}t.inner("dragger",o)}},e}),define("cc/ui/Pager",["require","exports","module","../function/toNumber","../util/life"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/toNumber"),n=require("../util/life"),i=e.prototype;i.type="Pager",i.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n=e.option("pageSelector"),i=e.option("pageAttribute");if(n&&i)t.on("click"+e.namespace(),n,function(t){var n=$(this).attr(i);if(n>=o){e.set("page",n);var r=$.Event(t.originalEvent);r.type="select",e.emit(r,!0)}});e.inner({main:t}),e.set({page:e.option("page"),count:e.option("count")})},i.render=function(){var e=this,t=e.get("count");if(2>t&&e.option("hideOnSingle"))return void e.state("hidden",!0);var n=Math.min(e.get("page"),t),i=e.option("showCount"),r=e.option("startCount"),a=e.option("endCount"),u=e.option("pageTemplate"),s=e.option("prevTemplate"),c=e.option("nextTemplate"),l=e.option("ellipsisTemplate"),f=[],p=Math.max(o,n-Math.ceil(i/2)),d=Math.min(t,p+i-1);if(d===t&&i>d-p)p=Math.max(o,d-i+1);f.push({range:[p,d],tpl:u});var m;if(r>0&&p>o)if(m=p-r,m>1)f.unshift({range:[o,r],tpl:u},{tpl:l});else f.unshift({range:[o,p-1],tpl:u});if(a>0&&t>d)if(m=t-d-a,m>1)f.push({tpl:l},{range:[t-a+1,t],tpl:u});else f.push({range:[d+1,t],tpl:u});f.unshift({tpl:s}),f.push({tpl:c});var h=$.map(f,function(i){var r=i.tpl;if(r){var a="",u={first:o,last:t,active:n},s=function(){a+=e.execute("render",[u,r])},c=i.range;if(c)for(var l=c[0],f=c[1];f>=l;l++)u.page=l,s();else s();return a}}).join("");e.renderWith(h),e.state("hidden",!1)},i.prev=function(){this.set("page",this.get("page")-1)},i._prev=function(){if(this.get("page")>o);else return!1},i.next=function(){this.set("page",this.get("page")+1)},i._next=function(){if(this.get("page")<this.get("count"));else return!1},i.show=function(){this.state("hidden",!1)},i._show=function(){if(!this.is("hidden"))return!1;else;},i.hide=function(){this.state("hidden",!0)},i._hide=function(){if(this.is("hidden"))return!1;else;},i.dispose=function(){var e=this;n.dispose(e),e.inner("main").off(e.namespace())},n.extend(i),e.propertyUpdater={},e.propertyUpdater.page=e.propertyUpdater.count=function(){return this.render(),!1},e.propertyValidator={page:function(e){return t(e,0)},count:function(e){return t(e,0)}},e.stateUpdater={hidden:function(e){this.execute(e?"hideAnimation":"showAnimation",{mainElement:this.inner("main")})}};var o=1;return e}),define("cc/ui/Rater",["require","exports","module","../function/debounce","../function/restrain","../function/toNumber","../function/eventOffset","../util/life"],function(require,exports,module){"use strict";function e(e){u.init(this,e)}function t(e,t){var i=e.inner("main").find(e.option("itemSelector")),o=e.option("itemFullClass"),r=e.option("itemHalfClass"),a=e.option("itemEmptyClass");n(t,e.get("count"),function(e,t){var n=i.eq(e);if(o)n[1===t?"addClass":"removeClass"](o);if(r)n[.5===t?"addClass":"removeClass"](r);if(a)n[0===t?"addClass":"removeClass"](a)})}function n(e,t,n){for(var i,o,r=0;t>r;r++){if(i=e-(r+1),i>=0)o=1;else if(-1>=i)o=0;else o=.5;n(r,o)}}var i=require("../function/debounce"),o=require("../function/restrain"),r=require("../function/toNumber"),a=require("../function/eventOffset"),u=require("../util/life"),s=e.prototype;return s.type="Rater",s.init=function(){var e=this;e.initStruct();var t=e.option("mainElement");if(e.inner({main:t}),e.set({count:e.option("count"),value:e.option("value"),minValue:e.option("minValue"),maxValue:e.option("maxValue")}),!e.option("readOnly")){var n=e.option("itemSelector");if(!n)e.error("itemSelector is missing.");var r,u=e.option("half"),s=e.namespace(),c=function(t,n){var i=n.attr(e.option("valueAttribute"));if(u)if(a(t).x/n.width()<.5)i-=.5;return o(i,e.get("minValue"),e.get("maxValue"))},l=function(t){if(r)e.preview(c(t,r))};t.on("mouseenter"+s,n,function(t){if(r=$(this),u)r.on("mousemove"+s,i(l,50));e.preview(c(t,r))}).on("mouseleave"+s,n,function(t){if(u)r.off(s);r=null,e.preview()}).on("click"+s,n,function(t){e.set("value",c(t,r||$(this)))})}},s.render=function(){var e=this,t=[],i=e.option("hint")||{},o={1:e.option("itemFullClass"),.5:e.option("itemHalfClass"),0:e.option("itemEmptyClass")};n(e.get("value"),e.get("count"),function(e,n){var r=o[n];n=e+1,t.push({value:n,className:r||"",hint:i[n]||""})}),e.renderWith({list:t})},s.preview=function(e){var n=this;if(n.inner("value",e),e=r(e,-1),0>e)e=n.get("value");t(n,e)},s.dispose=function(){var e=this;u.dispose(e),e.inner("main").off(e.namespace())},u.extend(s),e.propertyUpdater={},e.propertyUpdater.value=e.propertyUpdater.count=function(e,n,i){var o=this;if(i.count)o.render();else{var r=i.value;if(r)t(o,r.newValue)}return!1},e.propertyValidator={count:function(e){if(e=r(e,-1),0>e)this.error("count must be a number.");return e},value:function(e){return o(r(e,0),this.get("minValue"),this.get("maxValue"))},minValue:function(e){return e=r(e,-1),0>e?0:e},maxValue:function(e){var t=this.option("count");return e=r(e,t+1),e>t?t:e}},e}),define("cc/ui/ScrollBar",["require","exports","module","../function/ratio","../function/isHidden","../util/life","../util/orientation","./Slider"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("../function/ratio"),n=require("../function/isHidden"),i=require("../util/life"),o=require("../util/orientation"),r=require("./Slider"),a=e.prototype;return a.type="ScrollBar",a.init=function(){var e=this,t=e.option("orientation"),n=o[t],i=e.option("panelElement"),a=new r({minValue:0,maxValue:100,value:e.option("value"),mainElement:e.option("mainElement"),mainTemplate:e.option("mainTemplate"),orientation:t,scrollElement:i,scrollStep:e.option("scrollStep"),scrollStepType:e.option("scrollStepType"),thumbSelector:e.option("thumbSelector"),draggingClass:e.option("draggingClass"),slideAnimation:function(t){e.execute("scrollAnimation",t)},watchSync:{value:function(t){var o=this.valueToPixel(t);i.prop(n.scrollPosition,o*e.inner("ratio")),e.set("value",t)}}}),u=function(t,n){e.emit(t,n)};a.on("beforedrag",u).on("drag",u).on("afterdrag",u),e.inner({main:a.inner("main"),slider:a}),e.state("hidden",e.option("hidden")),e.refresh()},a.show=function(){this.state("hidden",!1)},a._show=function(){if(!this.is("hidden"))return!1;else;},a.hide=function(){this.state("hidden",!1)},a._hide=function(){if(this.is("hidden"))return!1;else;},a.refresh=function(){var e=this,n=e.inner("slider"),i=e.option("orientation"),r=o[i],a=e.option("panelElement"),u=a[r.innerSize](),s=a.prop(r.scrollSize),c=t(u,s);if(c>0&&1>c){e.show();var l=n.inner("track"),f=n.inner("thumb"),p=l[r.innerSize](),d=p*c,m=e.option(r.minSize);if(m>d)d=m;f[r.outerSize](Math.round(d)),e.inner("ratio",t(s,p))}else e.hide();n.refresh()},a.dispose=function(){i.dispose(this),this.inner("slider").dispose()},i.extend(a),e.propertyUpdater={value:function(e){this.inner("slider").set("value",e)}},e.stateUpdater={hidden:function(e){this.execute(e?"hideAnimation":"showAnimation",{mainElement:this.inner("main")})}},e.stateValidator={hidden:function(e){if("boolean"!==$.type(e))e=n(this.inner("main"));return e}},e}),define("cc/ui/Slider",["require","exports","module","../function/plus","../function/minus","../function/divide","../function/multiply","../function/toNumber","../function/restrain","../function/contains","../function/eventOffset","../helper/Draggable","../util/life","../util/wheel","../util/touch","../util/orientation","../util/instance"],function(require,exports,module){"use strict";function e(e){l.init(this,e)}var t=require("../function/plus"),n=require("../function/minus"),i=require("../function/divide"),o=require("../function/multiply"),r=require("../function/toNumber"),a=require("../function/restrain"),u=require("../function/contains"),s=require("../function/eventOffset"),c=require("../helper/Draggable"),l=require("../util/life"),f=require("../util/wheel"),p=require("../util/touch"),d=require("../util/orientation"),m=require("../util/instance").document,h=e.prototype;return h.type="Slider",h.init=function(){var e=this;e.initStruct();var t,n=e.option("mainElement"),i=n.find(e.option("thumbSelector")),o=e.option("trackSelector"),a=o?n.find(o):n,l=e.option("barSelector");if(l)t=n.find(l);var h=d[e.option("orientation")],v=e.option("reverse"),g=function(t,n){if("number"!==$.type(t))t=r(t,0,"float");if(v)t=e.inner("maxPixel")-t;return y(e.pixelToValue(t),n)},y=function(t,n){var i={action:n},o=e.get("value");return e.set("value",t,i),o!==e.get("value")},x=e.namespace(),b=new c({mainElement:i,containerElement:a,containerDraggingClass:e.option("draggingClass"),axis:h.axis,init:function(e){$.each(p,function(t,n){if(n.support)i.on(n.down+x,function(t){if(e.downHandler(t))m.off(x).on(n.move+x,e.moveHandler).on(n.up+x,function(){e.upHandler(),m.off(x)})})})},dragAnimation:function(e){g(e.mainStyle[h.position],"drag")}}),S=function(t,n){e.emit(t,n)};b.on("beforedrag",S).on("drag",S).on("afterdrag",S),a.on("click"+x,function(t){if(!u(i,t.target))g(s(t)[h.axis]-e.inner("thumbSize")/2,"click")});var w,E=e.option("scrollStep"),T=e.option("scrollStepType"),A=$.isFunction(E);if(A||E>0){w=[];var C=function(t,n){var i=n.delta,o=A?E(i):i*E;if(o){if(v)o*=-1;var r,a="scroll",u=e.get("value");if("value"===T)r=y(u+o,a);else r=g(e.valueToPixel(u)+o,a);return!r}},D=function(e){f.init(e),e.on(f.WHEEL,C),w.push(e)};D(a);var k=e.option("scrollElement");if(k)D(k)}e.inner({main:n,track:a,thumb:i,bar:t,drager:b,wheels:w}),e.set({minValue:e.option("minValue"),maxValue:e.option("maxValue")}),e.refresh();var I=e.option("value");if("number"===$.type(I))y(I);else g(i.css(h.position))},h.refresh=function(){var e,r,a=this,u=d[a.option("orientation")],s=a.inner("track"),c=a.inner("thumb"),l=c[u.outerSize](!0),f=s[u.innerSize]()-l,p=a.get("minValue"),m=a.get("maxValue"),h=a.option("step");if("number"===$.type(h)){var v=i(f,i(n(m,p),h));e=function(e){return t(p,Math.round(i(e,v)))},r=function(e){return o(n(e,p),v)}}else e=function(e){return t(p,o(n(m,p),i(e,f)))},r=function(e){return o(n(e,p),i(f,n(m,p)))};a.inner({thumbSize:l,maxPixel:f}),a.pixelToValue=e,a.valueToPixel=r;var g=a.get("value");if("number"===$.type(g))a.set("value",g,{force:!0})},h.dispose=function(){var e=this;l.dispose(e);var t=e.namespace();m.off(t),e.inner("thumb").off(t),e.inner("track").off(t),e.inner("drager").dispose();var n=e.inner("wheels");if(n)$.each(n,function(e,t){f.dispose(t)})},l.extend(h),e.propertyUpdater={value:function(e,t,n){var i,o=this,r=d[o.option("orientation")],a=o.inner("thumb"),u=o.inner("thumbSize"),s=o.valueToPixel(e),c=o.inner("bar");if(c)i={},i[r.size]=s+u/2;if(o.option("reverse"))s=o.inner("maxPixel")-s;var l={};l[r.position]=s;var f={thumbElement:a,
thumbStyle:l};if(i)f.barStyle=i,f.barElement=c;var p=n.value;if(p.action)f.action=p.action;o.execute("slideAnimation",f)}},e.propertyValidator={value:function(e){var t=this.get("minValue"),n=this.get("maxValue");return a(r(e,t),t,n)},minValue:function(e){if(e=r(e,null),null==e)this.error("minValue must be a number.");return e},maxValue:function(e){if(e=r(e,null),null==e)this.error("maxValue must be a number.");return e}},e}),define("cc/ui/SpinBox",["require","exports","module","../function/minus","../function/divide","../function/toNumber","../helper/KeyboardIterator","../util/life","../util/instance"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}var t=require("../function/minus"),n=(require("../function/divide"),require("../function/toNumber")),i=require("../helper/KeyboardIterator"),o=require("../util/life"),r=require("../util/instance").document,a=e.prototype;return a.type="SpinBox",a.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n=t.find(e.option("inputSelector")),o=new i({mainElement:n,index:e.option("value"),minIndex:e.option("minValue"),maxIndex:e.option("maxValue"),interval:e.option("interval"),step:e.option("step"),prevKey:"down",nextKey:"up",watchSync:{index:function(t){e.set("value",t)},minIndex:function(t){e.set("minValue",t)},maxIndex:function(t){e.set("maxValue",t)}}}),a=e.namespace(),u=e.option("upSelector"),s=e.option("downSelector"),c="mousedown"+a,l="mouseup"+a,f="focusout"+a,p=function(){o.pause(),r.off(a)};t.on(c,u,function(){o.next(),o.start(!1),r.on(l,p)}).on(c,s,function(){o.prev(),o.start(!0),r.on(l,p)}).on(f,function(){var t=$.trim(n.val());e.set("value",t)}),e.inner({main:t,input:n,iterator:o})},a.dispose=function(){var e=this;o.dispose(e),e.inner("iterator").dispose();var t=e.namespace();r.off(t),e.inner("main").off(t)},o.extend(a),e.propertyUpdater={value:function(e){this.inner("input").val(e),this.inner("iterator").set("index",e)},minValue:function(e){this.inner("iterator").set("minIndex",e)},maxValue:function(e){this.inner("iterator").set("maxIndex",e)}},e.propertyValidator={value:function(e,i){var o=e,r=!1,a=this,u=a.get("minValue"),s=a.get("maxValue");if(e=n(e,""),e>=u&&s>=e){var c=a.option("step");if(t(e,u)%c===0)r=!0}if(!r){var l=a.option("defaultValue");if("number"===$.type(l))e=l,i.force=!0;else e=o}return e},minValue:function(e){if(e=n(e,null),null==e)this.error("minValue must be a number.");return e},maxValue:function(e){if(e=n(e,null),null==e)this.error("maxValue must be a number.");return e}},e}),define("cc/ui/Tab",["require","exports","module","../util/life","../helper/Switchable"],function(require,exports,module){"use strict";function e(e){t.init(this,e)}var t=require("../util/life"),n=require("../helper/Switchable"),i=e.prototype;return i.type="Tab",i.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),i=e.option("navSelector"),o=e.option("navActiveClass"),r=new n({mainElement:t,index:e.option("index"),switchTrigger:e.option("navTrigger"),switchDelay:e.option("navDelay"),itemSelector:i,itemActiveClass:o,watchSync:{index:function(n,r){e.set("index",n),e.execute("navAnimation",{mainElement:t,navSelector:i,navActiveClass:o,fromIndex:r,toIndex:n}),e.execute("contentAnimation",{mainElement:t,contentSelector:e.option("contentSelector"),contentActiveClass:e.option("contentActiveClass"),fromIndex:r,toIndex:n})}}});e.inner({main:t,switcher:r})},i.dispose=function(){t.dispose(this),this.inner("switcher").dispose()},t.extend(i),e.propertyUpdater={index:function(e){this.inner("switcher").set("index",e)}},e}),define("cc/ui/Tooltip",["require","exports","module","../function/split","../util/position","../function/toNumber","../function/debounce","../function/pageWidth","../function/pageHeight","../function/offsetParent","../helper/Popup","../util/life","../util/instance"],function(require,exports,module){"use strict";function e(e){d.init(this,e)}function t(){var e=this.inner("main"),t=this.inner("trigger");return t.offset().left>e.outerWidth()}function n(){var e=this.inner("main"),t=this.inner("trigger");return l()>t.offset().left+t.outerWidth()+e.outerWidth()}function i(){var e=this.inner("main"),t=this.inner("trigger");return t.offset().top>e.outerHeight()}function o(){var e=this.inner("main"),t=this.inner("trigger");return f()>t.offset().top+t.outerHeight()+e.outerHeight()}function r(e){var t=[];return $.each(a(e,","),function(e,n){if(v[n])t.push(n);else if("auto"===n)return $.each(v,function(e){if($.inArray(e,t)<0)t.push(e)}),!1}),t}var a=require("../function/split"),u=require("../util/position"),s=require("../function/toNumber"),c=require("../function/debounce"),l=require("../function/pageWidth"),f=require("../function/pageHeight"),p=(require("../function/offsetParent"),require("../helper/Popup")),d=require("../util/life"),m=require("../util/instance").window,h=e.prototype;h.type="Tooltip",h.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n=e.option("triggerElement"),i=e.option("triggerSelector");if(!n&&!i)e.error("triggerElement、triggerSelector 至少传一个吧！");var o,a=e.option("hidden");if("boolean"===$.type(a))o=!a;var u=new p({layerElement:t,triggerElement:n,triggerSelector:i,showLayerTrigger:e.option("showTrigger"),showLayerDelay:e.option("showDelay"),hideLayerTrigger:e.option("hideTrigger"),hideLayerDelay:e.option("hideDelay"),opened:o,showLayerAnimation:function(){e.execute("showAnimation",{mainElement:t})},hideLayerAnimation:function(){e.execute("hideAnimation",{mainElement:t})},watchSync:{opened:function(t){e.state("hidden",!t)}}}),s=e.namespace();u.on("dispatch",function(t,n){var i=t.originalEvent,o=i.type;switch(o){case"beforeopen":return;case"afteropen":o="aftershow";break;case"beforeclose":o="beforehide";break;case"afterclose":o="afterhide",m.off(s)}i.type=o,e.emit(i,n,!0)}).before("open",function(i,o){var a=i.originalEvent;if(a&&a.target&&a.target.tagName){var u=e.inner("skinClass");if(u)t.removeClass(u);var l=e.inner("placement");if(l)t.removeClass(e.option(l+"Class"));var f=e.inner("maxWidth");if(f)t.css("max-width","");n=$(a.currentTarget),e.inner("trigger",n);var p=e.option("skinAttribute"),d=e.option("placementAttribute"),h=e.option("maxWidthAttribute");if(d)l=n.attr(d);if(!l)l=e.option("placement");var g=r(l);if(l=null,g.length>0)if(1===g.length)l=g[0];else $.each(g,function(t,n){for(var i=v[n].test,o=0,r=i.length;r>o;o++)if(!i[o].call(e))return;return l=n,!1});var y=function(){e.inner({skinClass:null,placement:null,maxWidth:null,offsetX:null,offsetY:null})};if(!l)return y(),!1;var x=function(){if(i.type="beforeshow",e.emit(i,o,!0),i.isDefaultPrevented())return void y();if(t.addClass(e.option(l+"Class")),u="",p)if(u=n.attr(p))t.addClass(u);if(f="",h)f=n.attr(h);if(!f)f=e.option("maxWidth");if(f)t.css("max-width",f);var r=e.option("offsetXAttribute"),a=e.option("offsetYAttribute"),d=r?n.attr(r):null,v=a?n.attr(a):null;e.inner({skinClass:u,placement:l,maxWidth:f,offsetX:d,offsetY:v}),e.pin(),m.on("resize"+s,c(function(){if(e.$)e.pin()},50))},b=e.execute("update",{mainElement:t,triggerElement:n});if(b&&$.isFunction(b.then))b.then(x);else x()}}),e.inner({main:t,popup:u})},h.show=function(){this.state("hidden",!1)},h.hide=function(){this.state("hidden",!0)},h.pin=function(){var e=this,t=e.inner("main"),n={element:t,attachment:e.inner("trigger"),offsetX:s(e.option("gapX"),0),offsetY:s(e.option("gapY"),0)},i=e.inner("placement"),o=v[i];if($.isFunction(o.gap))o.gap(n);var r=i+"Offset";n.offsetX+=s(e.option(r+"X"),0)+s(e.inner("offsetX"),0),n.offsetY+=s(e.option(r+"Y"),0)+s(e.inner("offsetY"),0),u[o.name](n)},h.dispose=function(){var e=this;d.dispose(e),e.inner("popup").dispose(),m.off(e.namespace())},d.extend(h,["show","hide"]),e.stateUpdater={hidden:function(e){var t=this.inner("popup");if(e)t.close();else t.open()}};var v={bottom:{name:"bottom",test:[o],gap:function(e){e.offsetX=0}},top:{name:"top",test:[i],gap:function(e){e.offsetY*=-1,e.offsetX=0}},right:{name:"right",test:[n],gap:function(e){e.offsetY=0}},left:{name:"left",test:[t],gap:function(e){e.offsetX*=-1,e.offsetY=0}}};return e}),define("cc/ui/Tree",["require","exports","module","../function/toString","../util/life"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}function t(e,t){var n,i=e.inner("main");if(t.jquery)n=t;else{var o=e.option("idAttribute");if(t||0===t)n=i.find("["+o+'="'+t+'"]');else i.find("["+o+"]").each(function(){var e=$(this),t=e.attr(o);if(""===t)return n=e,!1;else;})}if(n&&1===n.length)if(n=n.closest(e.option("nodeSelector")),1===n.length)return n}function n(e,t,i,o){var r=i(e,t);if(r!==!1){if($.isArray(e.children))$.each(e.children,function(t,a){return r=n(a,e,i,o)});if(r!==!1)r=o(e,t)}return r}var i=require("../function/toString"),o=require("../util/life"),r=e.prototype;return r.type="Tree",r.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),i="click"+e.namespace(),o=e.option("idAttribute"),r=e.option("labelSelector");if(r)n.on(i,r,function(){var n=t(e,$(this));e.select(n.attr(o))});var a=e.option("toggleSelector");if(a){var u=e.option("nodeExpandedClass");n.on(i,a,function(){var n=t(e,$(this));if(n){var i=n.attr(o);if(n.hasClass(u))e.collapse(i);else e.expand(i)}})}e.inner({main:n}),e.set({data:e.option("data"),value:e.option("value")})},r.render=function(e){var n=this,i="";if(n.walk({leave:function(t,o){var r="";if(t.children)$.each(t.children,function(e,t){r+=o[t.id].view});var a=o[t.id];if(a.view=n.execute("render",[{node:t,cache:a,childrenView:r},n.option("nodeTemplate")]),null==e){if(!a.level)i+=a.view}else if(e==t.id)return i+=a.view,!1}}),null==e)n.inner("main").html(i);else{var o=t(n,e);if(o)o.replaceWith(i)}},r.load=function(e){var t,n=this,i=$.Deferred();if(n.walk({enter:function(n){if(n.id==e)return t=n,!1;else;}}),t)n.execute("load",[t,function(e,t){if(e)i.reject(e);else i.resolve(t)}]);else i.reject("node["+e+"] is not found.");return i},r.walk=function(e,t){var i=this;if(1===arguments.length)t=e,e=i.get("data");if(!$.isArray(e))e=[e];var o=t.enter||$.noop,r=t.leave||$.noop,a={};$.each(e,function(e,t){n(t,null,function(e,t){var n=t?a[t.id].level+1:0;return a[e.id]={level:n,parent:t},o(e,a)},function(e,t){return r(e,a)})})},r.grep=function(e){var t;return this.walk({enter:function(n){if(n.id==e)return t=n,!1;else;}}),t},r.select=function(e){this.set("value",e)},r.unselect=function(){this.set("value","")},r.expand=function(e){var n=this;n.grep(e).expanded=!0,t(n,e).removeClass(n.option("nodeCollapsedClass")).addClass(n.option("nodeExpandedClass"))},r.collapse=function(e){var n=this;n.grep(e).expanded=!1,t(n,e).removeClass(n.option("nodeExpandedClass")).addClass(n.option("nodeCollapsedClass"))},r._select=r._expand=r._collapse=function(e){var n=this,i=n.grep(e);if(i&&t(n,e))return{node:i};else return!1},r._render=function(e){if(null!=e){var n=this.grep(e);if(n&&t(this,e))return{node:n};else return!1}},r.select_=r.expand_=r.collapse_=function(e){return{node:this.grep(e)}},r.render_=function(e){if(null!=e)return{node:this.grep(e)};else;},r.dispose=function(){var e=this;o.dispose(e),e.inner("main").off(e.namespace())},o.extend(r),e.propertyUpdater={data:function(){this.render()},value:function(e,n){var i=this,o=i.option("nodeActiveClass");if(o){var r,a;if(n)if(r=i.grep(n),a=t(i,n),r&&a)r.active=!1,a.removeClass(o);if(e)if(r=i.grep(e),a=t(i,e),r&&a)r.active=!0,a.addClass(o)}}},e.propertyValidator={data:function(e){return $.isArray(e)?e:[]},value:function(e){return i(e)}},e}),define("cc/ui/Uploader",["require","exports","module","../helper/AjaxUploader","../helper/FlashUploader"],function(require,exports,module){"use strict";function e(){return"files"in $('<input type="file" />')[0]}function t(){if(!XMLHttpRequest)return!1;var e=new XMLHttpRequest;return"upload"in e&&"onprogress"in e.upload}return e()&&t()?require("../helper/AjaxUploader"):require("../helper/FlashUploader")}),define("cc/ui/Zoom",["require","exports","module","../function/imageDimension","../helper/Draggable","../util/instance","../util/life"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}var t=require("../function/imageDimension"),n=require("../helper/Draggable"),i=require("../util/instance").document,o=require("../util/life"),r=e.prototype;return r.type="Zoom",r.init=function(){var e=this,o=e.option("thumbnailElement");if(!o.is("img"))e.error("thumbnailElement must be a <img />.");var r,a,u,s=e.option("viewportElement"),c=e.option("finderElement"),l=o.prop("width"),f=o.prop("height"),p=c.outerWidth(),d=c.outerHeight(),m=function(){var n=e.option("imageUrl");t(n,function(e,t){r=l/e,a=f/t,s.css({width:p/r,height:d/a,background:"url("+n+") no-repeat"})})},h=e.namespace();if(!l&&!f)o.one("load"+h,function(){l=this.width,f=this.height,m()});else m();var v=new n({mainElement:c,containerElement:o,dragAnimation:function(e){c.css(e.mainStyle)},init:function(e){var t,n="mouseenter"+h,r="mouseleave"+h,a=function(){if(t)clearTimeout(t),t=null},s=function(){t=setTimeout(function(){t=null,e.upHandler(),i.off(h)},50)};o.on(n,function(){if(t)return void a();var n={offsetX:p/2,offsetY:d/2};if(e.downHandler(n))u=o.position(),i.off(h).on("mousemove"+h,e.moveHandler)}).on(r,s),c.on(n,a).on(r,s)},onbeforedrag:function(){e.execute("showFinderAnimation",{finderElement:c}),e.execute("showViewportAnimation",{viewportElement:s})},onafterdrag:function(){e.execute("hideFinderAnimation",{finderElement:c}),e.execute("hideViewportAnimation",{viewportElement:s})},ondrag:function(e,t){var n=(t.left-u.left)/r,i=(t.top-u.top)/a;s.css({"background-position":"-"+n+"px -"+i+"px"})}});e.inner({dragger:v})},r.dispose=function(){var e=this;o.dispose(e),e.inner("dragger").dispose();var t=e.namespace();i.off(t),e.option("thumbnailElement").off(t),e.option("finderElement").off(t)},o.extend(r),e}),define("cc/util/FiniteArray",["require","exports","module"],function(require,exports,module){"use strict";function e(e){$.extend(this,e),this.init()}var t=e.prototype;return t.init=function(){this.list=[]},t.push=function(e){var t=this,n=t.list;if(t.isFull())n.shift();if(n.length<t.max)n.push(e)},t.get=function(e){return this.list[e]},t.first=function(){return this.get(0)},t.last=function(){return this.get(this.list.length-1)},t.isFull=function(){return this.list.length===this.max},t.each=function(e){$.each(this.list,function(t,n){return e(n,t)})},t.size=function(){return this.list.length},t.clear=function(){this.list.length=0},e}),define("cc/util/Queue",["require","exports","module"],function(require,exports,module){"use strict";function e(e){$.extend(this,e),this.init()}var t=e.prototype;return t.init=function(){this.list=[]},t.add=function(e){var t=this,n=t.list;if(n.push(e),!$.isFunction(t.waiting)){var i=function(){t.waiting=null,o()},o=function(){if(t.list){var e=n.shift();if(e)t.waiting=i,t.process(e,i)}};o()}},t.size=function(){return this.list.length},t.clear=function(){this.list.length=0},t.dispose=function(){this.list=this.waiting=null},e}),define("cc/util/Range",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var t=e.element;if(t.jquery)t=t[0];this.element=t}function t(){var e=this.element;return{start:e.selectionStart,end:e.selectionEnd}}function n(e,t){var n=this.element;n.focus(),n.setSelectionRange(e,t)}function i(){var e=this.element;e.focus();var t=document.selection.createRange().getBookmark(),n=e.createTextRange();n.moveToBookmark(t);var i=n.duplicate();i.setEndPoint("StartToStart",n);for(var o=e.value,r=0;0!==i.moveStart("character",-1);r++)if("\n"===o.charAt(r))r++;return{start:r,end:r+n.text.length}}function o(e,t){var n=this.element;if(!(n.value.length<t)){var i=n.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",t-e),i.select()}}var r=!window.getSelection,a=e.prototype;return a.getRange=r?i:t,a.setRange=r?o:n,a.getText=function(){var e=this.element.value,t=this.getRange();return e.substring(t.start,t.end)},a.setText=function(e){var t=this.element,n=t.value,i=this.getRange();t.value=n.substring(0,i.start)+e+n.substr(i.end)},a.dispose=function(){this.element=null},r=null,e}),define("cc/util/Timer",["require","exports","module"],function(require,exports,module){"use strict";function e(e){$.extend(this,e)}var t=e.prototype;return t.execute=function(){this.task()},t.start=function(){var e=this;e.stop();var t=e.interval,n=function(){e.execute(),e.timer=setTimeout(n,t)};e.timer=setTimeout(n,t)},t.stop=function(){var e=this;if(e.timer)clearTimeout(e.timer),e.timer=null},t.dispose=function(){var e=this;e.stop(),e.task=e.interval=null},e}),define("cc/util/Value",["require","exports","module","../function/split"],function(require,exports,module){"use strict";function e(t){$.extend(this,e.defaultOptions,t),this.init()}var t=require("../function/split"),n=e.prototype;return n.init=function(){this.list=[]},n.get=function(){return this.list.join(this.sep)},n.set=function(e){var n=this;n.list.length=0,$.each(t(e,n.sep),function(e,t){n.add(t)})},n.add=function(e){var t=this,n=t.list,i=$.inArray(e,n);if(0>i){if(!t.validate||t.validate(e))n.push(e);else return;if(n.length>1)if(!t.multiple)n[0]=n.pop(),n.length=1;else if(t.sort)n.sort(t.sort)}else;},n.remove=function(e){var t=this.list,n=$.inArray(e,t);if(n>=0)t.splice(n,1)},n.has=function(e){return $.inArray(e,this.list)>=0},n.each=function(e){$.each(this.list,function(t,n){return e(n,t)})},n.dispose=function(){this.list=null},e.defaultOptions={sep:",",sort:function(e,t){if(e>t)return 1;else if(t>e)return-1;else return 0}},e}),define("cc/util/browser",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var n,i;return $.each(t,function(t,o){var r=o[1].exec(e);if(r){if(n=o[0],i=r[1])if(i=i.replace(/_/g,"."),o[2])i=parseInt(i,10)+o[2]+".0";return!1}}),{name:n||"",version:i||""}}var t=[["ie",/iemobile[ \/]([\d_.]+)/],["ie",/msie[ \/]([\d_.]+)/],["ie",/trident[ \/]([\d_.]+)/,4],["chrome",/chrome[ \/]([\d_.]+)/],["firefox",/firefox[ \/]([\d_.]+)/],["opera",/opera(?:.*version)?[ \/]([\d_.]+)/],["safari",/version[ \/]([\d_.]+) safari/]],n=e(navigator.userAgent.toLowerCase());if(n.name)n[n.name]=!0;return n}),define("cc/util/cookie",["require","exports","module","../function/split","../function/offsetDate"],function(require,exports,module){"use strict";function e(e){if(0===e.indexOf('"'))e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");var t={};try{e=decodeURIComponent(e.replace(/\+/g," ")),$.each(n(e,";"),function(e,i){var o=n(i,"="),r=o[0],a=o[1];if(r)t[r]=a})}catch(i){}return t}function t(e,t,n){var o=n.expires;if($.isNumeric(o))o=i(new Date,o);document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),o?";expires="+o.toUTCString():"",n.path?";path="+n.path:"",n.domain?";domain="+n.domain:"",n.secure?";secure":""].join("")}var n=require("../function/split"),i=require("../function/offsetDate");exports.get=function(t){var n=e(document.cookie);return"string"===$.type(t)?n[t]:n},exports.set=function(e,n,i){if($.isPlainObject(e))i=n,n=null;if(i=$.extend({},exports.defaultOptions,i),null===n)$.each(e,function(e,n){t(e,n,i)});else t(e,n,i)},exports.remove=function(e,n){n=n||{},n.expires=-1,t(e,"",$.extend({},exports.defaultOptions,n))},exports.defaultOptions={}}),define("cc/util/etpl",function(){function e(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}function t(){this.raw=[],this.length=0}function n(){return"___"+D++}function i(e,t){var n=new Function;n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e){return k[e]}function r(e){return'"'+e.replace(/\x5C/g,"\\\\").replace(/"/g,'\\"').replace(/\x0A/g,"\\n").replace(/\x09/g,"\\t").replace(/\x0D/g,"\\r")+'"'}function a(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return"\\"+e})}function u(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,n){return t[n-0+1]})}function s(e){return e=e.replace(/^\s*\*/,""),u('gv({0},["{1}"])',r(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return"."+t}).split(".").join('","'))}function c(e,t,n,i,o,r){for(var a=n.length,u=e.split(t),s=0,c=[],l=0,f=u.length;f>l;l++){var p=u[l];if(l){var d=1;for(s++;;){var m=p.indexOf(n);if(0>m){c.push(s>1&&d?t:"",p);break}if(s=i?s-1:0,c.push(s>0&&d?t:"",p.slice(0,m),s>0?n:""),p=p.slice(m+a),d=0,0===s)break}if(0===s)o(c.join("")),r(p),c=[]}else p&&r(p)}if(s>0&&c.length>0)r(t),r(c.join(""))}function l(e,t,n){var i,o=[],a=t.options,u="",f="",p="",d="";if(n)u="ts(",f=")",p=_,d=R,i=a.defaultFilter;return c(e,a.variableOpen,a.variableClose,1,function(e){if(n&&e.indexOf("|")<0&&i)e+="|"+i;var r=e.indexOf("|"),a=(r>0?e.slice(0,r):e).replace(/^\s+/,"").replace(/\s+$/,""),c=r>0?e.slice(r+1):"",m=0===a.indexOf("*"),h=[m?"":u,s(a),m?"":f];if(c){c=l(c,t);for(var v=c.split("|"),g=0,y=v.length;y>g;g++){var x=v[g];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(x)){if(h.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)h.push(",",RegExp.$3);h.push(")")}}}o.push(p,h.join(""),d)},function(e){o.push(p,n?r(e):e,d)}),o.join("")}function f(e,t){this.value=e,this.engine=t}function p(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[]}function d(e,t){var n=e.stack,i=t?n.find(function(e){return e instanceof t}):n.bottom();if(i){for(var o;(o=n.top())!==i;){if(!o.autoClose)throw new Error(o.type+" must be closed manually: "+o.value);o.autoClose(e)}i.close(e)}return i}function m(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.master=RegExp.$3,this.name=RegExp.$1,p.call(this,e,t),this.blocks={}}function h(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,p.call(this,e,t),this.cloneProps=["name"]}function v(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,p.call(this,e,t),this.cloneProps=["name","state","blocks"],this.blocks={}}function g(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.expr=RegExp.$2,p.call(this,e,t),this.cloneProps=["name","expr"]}function y(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,p.call(this,e,t),this.cloneProps=["name","args"]}function x(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,p.call(this,e,t),this.cloneProps=["name","args"]}function b(e,t){var n=new RegExp(u("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$",a(t.options.variableOpen),a(t.options.variableClose)),"i");if(!n.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,p.call(this,e,t),this.cloneProps=["list","item","index"]}function S(e,t){p.call(this,e,t)}function w(e,t){S.call(this,e,t)}function $(e,t){p.call(this,e,t)}function E(e,t){t.target=e;var n=t.engine,i=e.name;if(n.targets[i])switch(n.options.namingConflict){case"override":n.targets[i]=e,t.targets.push(i);case"ignore":break;default:throw new Error("Target exists: "+i)}else n.targets[i]=e,t.targets.push(i)}function T(e,t){L[e]=t,t.prototype.type=e}function A(t){this.options={commandOpen:"<!--",commandClose:"-->",commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:"${",variableClose:"}",defaultFilter:"html"},this.config(t),this.targets={},this.filters=e({},I)}function C(e,n){function i(){var e;if(m.length>0&&(e=m.join(""))){var t=new f(e,n);if(t.beforeAdd(l),s.top().addChild(t),m=[],n.options.strip&&l.current instanceof p)t.value=e.replace(/^[\x20\t\r]*\n/,"");l.current=t}}var o,r=n.options.commandOpen,a=n.options.commandClose,u=n.options.commandSyntax,s=new t,l={engine:n,targets:[],stack:s,target:null},m=[];return c(e,r,a,0,function(e){var t=u.exec(e);if(t&&(o=L[t[2].toLowerCase()])&&"function"==typeof o){i();var s=l.current;if(n.options.strip&&s instanceof f)s.value=s.value.replace(/\r?\n[\x20\t]*$/,"\n");if(t[1])s=d(l,o);else{if(s=new o(t[3],n),"function"==typeof s.beforeOpen)s.beforeOpen(l);s.open(l)}l.current=s}else if(!/^\s*\/\//.test(e))m.push(r,e,a);o=null},function(e){m.push(e)}),i(),d(l),l.targets}t.prototype={push:function(e){this.raw[this.length++]=e},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e}},top:function(){return this.raw[this.length-1]},bottom:function(){return this.raw[0]},find:function(e){for(var t=this.length;t--;){var n=this.raw[t];if(e(n))return n}}};var D=178245,k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I={html:function(e){return e.replace(/[&<>"']/g,o)},url:encodeURIComponent,raw:function(e){return e}},q='var r="";',_="r+=",R=";",U="return r;";if("undefined"!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)q="var r=[],ri=0;",_="r[ri++]=",U='return r.join("");';f.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;if(!e||t.strip&&/^\s*$/.test(e))return"";else return l(e,this.engine,1)},clone:function(){return this}},p.prototype={addChild:function(e){this.children.push(e)},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this)},close:function(e){if(e.stack.top()===this)e.stack.pop()},getRendererBody:function(){for(var e=[],t=this.children,n=0;n<t.length;n++)e.push(t[n].getRendererBody());return e.join("")},clone:function(){for(var e=this.constructor,t=new e(this.value,this.engine),n=0,i=this.children.length;i>n;n++)t.addChild(this.children[n].clone());for(var n=0,i=this.cloneProps.length;i>n;n++){var o=this.cloneProps[n];t[o]=this[o]}return t}};var P='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(m,p),i(h,p),i(v,p),i(g,p),i(y,p),i(x,p),i(b,p),i(S,p),i(w,S),i($,S);var O={READING:1,READED:2,APPLIED:3,READY:4};v.prototype.applyMaster=m.prototype.applyMaster=function(e){function t(e){var i=e.children;if(i instanceof Array)for(var o=0,r=i.length;r>o;o++){var a=i[o];if(a instanceof h&&n[a.name])a=i[o]=n[a.name];t(a)}}if(this.state>=O.APPLIED)return 1;var n=this.blocks,i=this.engine.targets[e];if(i&&i.applyMaster(i.master))return this.children=i.clone().children,t(this),this.state=O.APPLIED,1;else;},m.prototype.isReady=function(){function e(i){for(var o=0,r=i.children.length;r>o;o++){var a=i.children[o];if(a instanceof v){var u=t.targets[a.name];n=n&&u&&u.isReady(t)}else if(a instanceof p)e(a)}}if(this.state>=O.READY)return 1;var t=this.engine,n=1;if(this.applyMaster(this.master))return e(this),n&&(this.state=O.READY),n;else;},m.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function("data","engine",[P,q,this.getRendererBody(),U].join("\n")),t=this.engine;return this.renderer=function(n){return e(n,t)},this.renderer}return null},m.prototype.open=function(e){d(e),p.prototype.open.call(this,e),this.state=O.READING,E(this,e)},g.prototype.open=x.prototype.open=function(e){e.stack.top().addChild(this)},h.prototype.open=function(e){p.prototype.open.call(this,e),e.stack.find(function(e){return e.blocks}).blocks[this.name]=this},w.prototype.open=function(e){var t=new $;t.open(e);var n=d(e,S);n.addChild(this),e.stack.push(this)},$.prototype.open=function(e){var t=d(e,S);t.addChild(this),e.stack.push(this)},v.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,p.prototype.open.call(this,e),this.state=O.READING},x.prototype.close=g.prototype.close=function(){},v.prototype.close=function(e){p.prototype.close.call(this,e),this.state=O.READED},m.prototype.close=function(e){p.prototype.close.call(this,e),this.state=this.master?O.READED:O.APPLIED,e.target=null},v.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var n in this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(e)},x.prototype.beforeOpen=v.prototype.beforeOpen=g.prototype.beforeOpen=b.prototype.beforeOpen=y.prototype.beforeOpen=h.prototype.beforeOpen=S.prototype.beforeOpen=f.prototype.beforeAdd=function(e){if(!e.stack.bottom()){var t=new m(n(),e.engine);t.open(e)}},v.prototype.getRendererBody=function(){return this.applyMaster(this.name),p.prototype.getRendererBody.call(this)},x.prototype.getRendererBody=function(){return u("{0}engine.render({2},{{3}}){1}",_,R,r(this.name),l(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,n){return(t||"")+r(n)+":"}))},g.prototype.getRendererBody=function(){if(this.expr)return u("v[{0}]={1};",r(this.name),l(this.expr,this.engine));else return""},S.prototype.getRendererBody=function(){return u("if({0}){{1}}",l(this.value,this.engine),p.prototype.getRendererBody.call(this))},$.prototype.getRendererBody=function(){return u("}else{{0}",p.prototype.getRendererBody.call(this))},b.prototype.getRendererBody=function(){return u('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',n(),l(this.list,this.engine),r(this.index||n()),r(this.item),n(),n(),p.prototype.getRendererBody.call(this))},y.prototype.getRendererBody=function(){var e=this.args;return u("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}",q,U,_,R,p.prototype.getRendererBody.call(this),r(this.name),e?","+l(e,this.engine):"")};var L={};T("target",m),T("block",h),T("import",v),T("use",x),T("var",g),T("for",b),T("if",S),T("elif",w),T("else",$),T("filter",y),A.prototype.config=function(t){e(this.options,t)},A.prototype.compile=A.prototype.parse=function(e){if(e){var t=C(e,this);if(t.length)return this.targets[t[0]].getRenderer()}return new Function('return ""')},A.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer();else return},A.prototype.render=function(e,t){var n=this.getRenderer(e);if(n)return n(t);else return""},A.prototype.addFilter=function(e,t){if("function"==typeof t)this.filters[e]=t};var N=new A;return N.Engine=A,N}),define("cc/util/fullScreen",["require","exports","module"],function(require,exports,module){"use strict";var e,t,n,i=document.documentElement,o=$.noop;if(i.requestFullscreen)e=function(){i.requestFullscreen()},t=function(){document.exitFullscreen()},n=function(e){document.addEventListener("fullscreenchange",function(){e(document.fullscreen)})};else if(i.webkitRequestFullScreen)e=function(){i.webkitRequestFullScreen()},t=function(){document.webkitCancelFullScreen()},n=function(e){document.addEventListener("webkitfullscreenchange",function(){e(document.webkitIsFullScreen)})};else if(i.mozRequestFullScreen)e=function(){i.mozRequestFullScreen()},t=function(){document.mozCancelFullScreen()},n=function(e){document.addEventListener("mozfullscreenchange",function(){e(document.mozFullScreen)})};else e=t=n=o;exports.enter=e,exports.exit=t,exports.change=n,exports.support=n!==o}),define("cc/util/input",["require","exports","module","../function/guid","../function/around","../function/supportInput"],function(require,exports,module){"use strict";function e(e){var t="."+n();e.data(r,t).on("input"+t,function(t){t.type=a,e.trigger(t)})}function t(e){var t=e.val(),o=!1,u="."+n();e.data(r,u).on("propertychange"+u,function(n){if(o)return void(o=!1);if("value"===n.originalEvent.propertyName){var i=e.val();if(i!==t)if(n.type=a,e.trigger(n),!n.isDefaultPrevented())t=i}}),i(e,"val",function(){if(0!==arguments.length)o=!0})}var n=require("../function/guid"),i=require("../function/around"),o=require("../function/supportInput"),r="cc-util-input",a="cc-input";exports.INPUT=a,exports.init=o()?e:t,exports.dispose=function(e){var t=e.data(r);if(t)e.removeData(r).off(t);
}}),define("cc/util/instance",["require","exports","module"],function(require,exports,module){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body)}),define("cc/util/json",["require","exports","module"],function(require,exports,module){if("object"!=typeof JSON)JSON={};return function(){"use strict";function f(e){return 10>e?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,r,a,u=gap,s=t[e];if(s&&"object"==typeof s&&"function"==typeof s.toJSON)s=s.toJSON(e);if("function"==typeof rep)s=rep.call(t,e,s);switch(typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(r=s.length,n=0;r>n;n+=1)a[n]=str(n,s)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+u+"]":"["+a.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep){for(r=rep.length,n=0;r>n;n+=1)if("string"==typeof rep[n])if(i=rep[n],o=str(i,s))a.push(quote(i)+(gap?": ":":")+o)}else for(i in s)if(Object.prototype.hasOwnProperty.call(s,i))if(o=str(i,s))a.push(quote(i)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+u+"}":"{"+a.join(",")+"}",gap=u,o}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if("function"!=typeof Date.prototype.toJSON)Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value;var gap,indent,meta,rep;if("function"!=typeof JSON.stringify)meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else if("string"==typeof n)indent=n;if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};if("function"!=typeof JSON.parse)JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)if(Object.prototype.hasOwnProperty.call(o,n))if(i=walk(o,n),void 0!==i)o[n]=i;else delete o[n];return reviver.call(e,t,o)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text))text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}(),JSON}),define("cc/util/keyboard",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var t={};return $.each(e,function(e,n){t[n]=e}),t}var t={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,"`":192,"-":173,"=":61,"[":219,"]":221,"\\":220,";":59,"'":222,",":188,".":190,"/":191,$0:96,$1:97,$2:98,$3:99,$4:100,$5:101,$6:102,$7:103,$8:104,$9:105,"$.":110,"$+":107,"$-":109,"$*":106,"$/":111,space:32,tab:9},n={backspace:8,"delete":46},i={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,enter:13,esc:27,capslock:20,insert:45,home:36,end:35,pageup:33,pagedown:34,left:37,right:39,up:38,down:40},o={shift:16,ctrl:17,meta:91,alt:18};$.extend(exports,t,i,o),exports.charKey=t,exports.deleteKey=n,exports.functionKey=i,exports.combinationKey=o,exports.isCharKey=function(n){return n in e(t)},exports.isDeleteKey=function(t){return t in e(n)},exports.isFunctionKey=function(t){return t in e(i)},exports.isCombinationKey=function(t){return t in e(o)}}),define("cc/util/life",["require","exports","module","../function/guid","../function/around","../function/extend","../function/ucFirst","../function/nextTick","../function/toBoolean","../function/createEvent","../function/replaceWith","../function/offsetParent"],function(require,exports,module){"use strict";function e(e,t,n,i,o){return function(u,s,c){var l=this;if($.isPlainObject(u))return c=s,void $.each(u,function(e,t){l[n](e,t,c)});c=c||{};var p=l[i](u),d=l.constructor[e+"Validator"];if(d)if($.isFunction(d[u]))s=d[u].call(l,s,c);if($.isFunction(o))s=o(l,s,c);if(p!==s||c.force)if(l[t][u]=s,!c.silent){var m={};r(m,c),m.newValue=s,m.oldValue=p;var h=l.inner(e+"Changes");if(!h)h={},l.inner(e+"Changes",h);var v=h[u];if(v)if(v.oldValue===m.newValue)return void delete h[u];h[u]=m;var g=l.option("watchSync");if(g&&g[u])l.execute(g[u],[s,p,m]);if(!l.inner(f))l.inner(f,a(function(){l.sync(f)}))}}}function t(){this.error("initStruct() can just call one time.")}function n(e,t,n,i,o){var r,a="before"===i?"_"+t:t+"_",u=e[a];if($.isFunction(u))if(r=u.apply(e,n),r!==!1&&!$.isPlainObject(r))r=null;if(r===!1)return!1;var s=!1;if(r&&r.dispatch)s=!0,delete r.dispatch;if(o=$.Event(o),o.type=i+t,e.emit(o,r,s),o.isDefaultPrevented())return!1;else;}var i=require("../function/guid"),o=require("../function/around"),r=require("../function/extend"),a=(require("../function/ucFirst"),require("../function/nextTick")),u=require("../function/toBoolean"),s=require("../function/createEvent"),c=require("../function/replaceWith"),l=(require("../function/offsetParent"),{}),f="__update_async__",p={},d={initStruct:function(){var e=this,n=e.option("mainElement"),i=e.option("mainTemplate");if("string"===$.type(i)){var o=e.option("share"),r=e.type+i;if(o)n=p[r];var a;if(!n){if(a=$(i),o)p[r]=a}else if(e.option("replace"))c(n,a=$(i));else n.html(i);if(a)n=a,e.option("mainElement",n)}var u=e.option("parentSelector");if(u&&!n.parent().is(u))n.appendTo(u);e.initStruct=t},warn:function(e){if("undefined"!=typeof console)console.warn(["[CC warn]",this.type,e].join(" "))},error:function(e){throw new Error(["[CC error]",this.type,e].join(" "))},on:function(e,t,n){return this.$.on(e,t,n),this},once:function(e,t,n){return this.$.one(e,t,n),this},off:function(e,t){return this.$.off(e,t),this},live:function(e,t,n){var i=this,o=i.inner("main");if(o)o.on(e+i.namespace(),t,n);return i},emit:function(e,t,n){var i=this,o=i.option("context")||i;e=s(e),e.cc=o;var r=[e];if($.isPlainObject(t))r.push(t);else if(t===!0&&2===arguments.length)t=null,n=!0;e.type=e.type.toLowerCase(),o.$.trigger.apply(o.$,r);var a="on"+e.type;if("dispatch"!==e.type)o.execute("ondebug",r);if(!e.isPropagationStopped()&&o.execute(a,r)===!1)e.preventDefault(),e.stopPropagation();if(o.execute(a+"_",r),n&&!e.isPropagationStopped()){if(!e.originalEvent)e.originalEvent={preventDefault:$.noop,stopPropagation:$.noop};var u=$.Event(e);if(u.type="dispatch",i.emit(u,t),u.isPropagationStopped())e.preventDefault(),e.stopPropagation()}return e},before:function(e,t){return this.on("before"+e.toLowerCase(),t)},after:function(e,t){return this.on("after"+e.toLowerCase(),t)},find:function(e){var t=this.inner("main");if(t){var n=t.find(e);if(n.length)return n}},appendTo:function(e){var t=this.inner("main");if(t)t.appendTo(e)},prependTo:function(e){var t=this.inner("main");if(t)t.prependTo(e)},execute:function(e,t){var n=this,i=e;if("string"===$.type(e))i=n.option(e);if($.isFunction(i)){var o=n.option("context")||n;if($.isArray(t))return i.apply(o,t);else return i.call(o,t)}},renderWith:function(e,t,n){var i=this;if(!t)if(t=i.option("renderTemplate"),!t)t=i.option("mainTemplate");if(!n)n=i.option("mainElement");var o=i.option("renderSelector");if(o)n=n.find(o);var r;if($.isPlainObject(e)||$.isArray(e))r=i.execute("render",[e,t]);else if("string"===$.type(e))r=e;n.html(r)},namespace:function(){return"."+this.guid},option:function(e,t){var n=this;if(1===arguments.length&&"string"===$.type(e))return n.options[e];else{if($.isPlainObject(e))return void $.each(e,function(e,t){n.option(e,t)});n.options[e]=t}},inner:function(e,t){var n=this,i=n.inners||{};if(1===arguments.length&&"string"===$.type(e))return i[e];else{if($.isPlainObject(e))return void $.each(e,function(e,t){n.inner(e,t)});i[e]=t}},is:function(e){return this.states[e]},state:e("state","states","state","is",function(e,t){return u(t,!1)}),get:function(e){return this.properties[e]},set:e("property","properties","set","get")},m={sync:function(){var e=this,t=function(t,n,i){$.each(t,function(o,r){return e.execute(n[o],[r.newValue,r.oldValue,i?t:r])})};if($.each(["property","state"],function(n,i){var o=e.inner(i+"Changes");if(o){e.inner(i+"Changes",null);var r=e.constructor[i+"Updater"];if(r)t(o,r,!0);var a=e.option("watch");if(a)t(o,a);e.emit(i+"change",o)}}),arguments[0]!==f)e.inner(f)();e.inner(f,!1)},_sync:function(){if(!this.inner(f))return!1;else;},_init:function(){if(this.is("inited"))return!1;else;},_dispose:function(){if(this.is("disposed"))return!1;else;}};exports.extend=function(e,t){r(e,m),$.each(e,function(i,r){var a=i.indexOf("_");if($.isFunction(r)&&0!==a&&a!==i.length-1)if(!($.isArray(t)&&$.inArray(i,t)>=0)){var u=function(e){return n(this,i,arguments,"before",e)},s=function(e){var t=this,o=arguments,a=function(){return n(t,i,o,"after",e)};if(r.length+1===o.length){var u=o[o.length-1];if(u&&$.isFunction(u.then))return void u.then(a)}a()};o(e,i,u,s)}}),r(e,d)},exports.init=function(e,t){if(!t)t={};return r(t,e.constructor.defaultOptions),t.onafterinit_=function(){e.state("inited",!0)},t.onafterdispose_=function(){e.state("disposed",!0);var t=e.inner("main");if(e.option("removeOnDispose")&&t)t.remove();a(function(){delete l[e.guid],e.properties=e.options=e.changes=e.states=e.inners=e.guid=e.$=null})},l[e.guid=i()]=e,e.properties={},e.options=t,e.states={},e.inners={},e.$=$({}),e.init(),e},exports.dispose=function(e){e.sync(),e.$.off();var t=e.inner("main");if(t)t.off()}}),define("cc/util/localStorage",["require","exports","module","../function/supportLocalStorage"],function(require,exports,module){"use strict";function e(t,n){if($.isPlainObject(t))$.each(t,e);else try{localStorage[t]=n}catch(i){}}function t(e){var t;try{t=localStorage[e]}catch(n){}return t}function n(e){try{localStorage.removeItem(e)}catch(t){}}var i=require("../function/supportLocalStorage")();if(exports.support=i,i)exports.set=e,exports.get=t,exports.remove=n;else exports.set=exports.get=exports.remove=$.noop}),define("cc/util/mimeType",["require","exports","module"],function(require,exports,module){"use strict";return{html:"text/html",htm:"text/html",shtml:"text/html",xml:"text/xml",css:"text/css",js:"application/x-javascript",json:"application/json",atom:"application/atom+xml",rss:"application/rss+xml",mml:"text/mathml",txt:"text/plain",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",htc:"text/x-component",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",tif:"image/tiff",tiff:"image/tiff",wbmp:"image/vnd.wap.wbmp",ico:"image/x-icon",jng:"image/x-jng",bmp:"image/x-ms-bmp",svg:"image/svg+xml",svgz:"image/svg+xml",webp:"image/webp",mp3:"audio/mpeg",wma:"audio/x-ms-wma",wav:"audio/x-wav",mid:"audio/midi",midd:"audio/midi",kar:"audio/midi",ogg:"audio/ogg",m4a:"audio/x-m4a",ra:"audio/x-realaudio",ram:"audio/x-pn-realaudio",mod:"audio/mod","3gp":"video/3gpp","3gpp":"video/3gpp",mp4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mov:"video/quicktime",webm:"video/webm",flv:"video/x-flv",m4v:"video/x-m4v",mng:"video/x-mng",asx:"video/x-ms-asf",asf:"video/x-ms-asf",wmv:"video/x-ms-wmv",avi:"video/x-msvideo",rm:"video/vnd.rn-realvideo",rmvb:"video/vnd.rn-realvideo",ts:"video/MP2T",dv:"video/x-dv",mkv:"video/x-matroska",jar:"application/java-archive",war:"application/java-archive",ear:"application/java-archive",hqx:"application/mac-binhex40",pdf:"application/pdf",ps:"application/postscript",eps:"application/postscript",ai:"application/postscript",rtf:"application/rtf",wmlc:"application/vnd.wap.wmlc",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz","7z":"application/x-7z-compressed",cco:"application/x-cocoa",jardiff:"application/x-java-archive-diff",jnlp:"application/x-java-jnlp-file",run:"application/x-makeself",pl:"application/x-perl",pm:"application/x-perl",prc:"application/x-pilot",pdb:"application/x-pilot",rar:"application/x-rar-compressed",rpm:"application/x-redhat-package-manager",sea:"application/x-sea",swf:"application/x-shockwave-flash",sit:"application/x-stuffit",tcl:"application/x-tcl",tk:"application/x-tcl",der:"application/x-x509-ca-cert",pem:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",xpi:"application/x-xpinstall",xhtml:"application/xhtml+xml",zip:"application/zip",bin:"application/octet-stream",exe:"application/octet-stream",dll:"application/octet-stream",deb:"application/octet-stream",dmg:"application/octet-stream",eot:"application/octet-stream",iso:"application/octet-stream",img:"application/octet-stream",msi:"application/octet-stream",msp:"application/octet-stream",msm:"application/octet-stream",doc:"application/msword",xls:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}}),define("cc/util/newTab",["require","exports","module","./url"],function(require,exports,module){"use strict";function e(e,n){var i=t.parse(e),o='<form action="'+i.origin+i.pathname+'" target="_blank"';if(n)o+=' accept-charset="'+n+'" onsubmit="document.charset=\''+n+"';\"";return o+=">",$.each(t.parseQuery(i.search),function(e,t){o+='<input type="hidden" name="'+e+'" value="'+t+'" />'}),o+="</form>",$(o)}var t=require("./url");exports.byForm=function(t,n){var i=e(t,n);i.appendTo("body").submit().remove()},exports.byLink=function(e){var t=$('<a href="'+e+'" target="_blank"></a>');t.appendTo("body");try{t[0].click()}catch(n){exports.openForm(e)}t.remove()}}),define("cc/util/orientation",["require","exports","module"],function(require,exports,module){"use strict";return{horizontal:{axis:"x",position:"left",scrollPosition:"scrollLeft",size:"width",minSize:"minWidth",maxSize:"maxWidth",innerSize:"innerWidth",outerSize:"outerWidth",scrollSize:"scrollWidth"},vertical:{axis:"y",position:"top",scrollPosition:"scrollTop",size:"height",minSize:"minHeight",maxSize:"maxHeight",innerSize:"innerHeight",outerSize:"outerHeight",scrollSize:"scrollHeight"}}}),define("cc/util/position",["require","exports","module","../function/pin"],function(require,exports,module){"use strict";var e=require("../function/pin");exports.topLeft=function(t){e({element:t.element,x:"right",y:"bottom",attachment:{element:t.attachment,x:"left",y:"top"},offset:{x:t.offsetX,y:t.offsetY}})},exports.top=function(t){e({element:t.element,x:"center",y:"bottom",attachment:{element:t.attachment,x:"center",y:"top"},offset:{x:t.offsetX,y:t.offsetY}})},exports.topRight=function(t){e({element:t.element,x:"left",y:"bottom",attachment:{element:t.attachment,x:"right",y:"top"},offset:{x:t.offsetX,y:t.offsetY}})},exports.left=function(t){e({element:t.element,x:"right",y:"middle",attachment:{element:t.attachment,x:"left",y:"middle"},offset:{x:t.offsetX,y:t.offsetY}})},exports.center=function(t){e({element:t.element,x:"center",y:"middle",attachment:{element:t.attachment,x:"center",y:"middle"},offset:{x:t.offsetX,y:t.offsetY}})},exports.right=function(t){e({element:t.element,x:"left",y:"middle",attachment:{element:t.attachment,x:"right",y:"middle"},offset:{x:t.offsetX,y:t.offsetY}})},exports.bottomLeft=function(t){e({element:t.element,x:"right",y:"top",attachment:{element:t.attachment,x:"left",y:"bottom"},offset:{x:t.offsetX,y:t.offsetY}})},exports.bottom=function(t){e({element:t.element,x:"center",y:"top",attachment:{element:t.attachment,x:"center",y:"bottom"},offset:{x:t.offsetX,y:t.offsetY}})},exports.bottomRight=function(t){e({element:t.element,x:"left",y:"top",attachment:{element:t.attachment,x:"right",y:"bottom"},offset:{x:t.offsetX,y:t.offsetY}})}}),define("cc/util/string",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var t=e.charCodeAt(0);if(0===(-128&t))return 1;if(0===(-2048&t))return 2;if(0===(-65536&t))return 3;else return 4}function t(t,n){for(var i=0,o=0,r=t.length;r>o&&(i+=Math.floor((e(t.charAt(o))+1)/2),n(i,o+1)!==!1);o++);}exports.size=function(e){var n=0;if("string"===$.type(e))t(e,function(e){n=e});return n},exports.cut=function(e,n,i){if("number"!==$.type(n)||exports.size(e)<=n)return e;var o="";return t(e,function(t,i){if(t>n)return!1;else return void(o=e.substr(0,i))}),i="string"===$.type(i)?i:"...",o+i}}),define("cc/util/supload/supload",["require","exports","module","../cookie","../json"],function(require,exports,module){function e(e){$.extend(this,e),this.init()}function t(){return"_Supload_"+o++}if(window.Supload===e)return window.Supload;var n=require("../cookie"),i=require("../json");e.prototype={constructor:e,init:function(){var i=t();this.movieName=i;var o=this.element;if("string"===$.type(o))o=document.getElementById(o);var r=this.data||(this.data={});$.each(n.get(),function(e,t){if("undefined"===$.type(r[e]))r[e]=t});var a=e.createSWF(i,this.flashUrl,this.getFlashVars());o.parentNode.replaceChild(a,o),this.element=a,this.onLog=function(e){console.log(e)},e.instances[i]=this},getFlashVars:function(){var t=this,n=[];return $.each(["movieName","action","accept","multiple","fileName","data","ignoreError"],function(e,o){var r=t[o];if(null!=r){if($.isPlainObject(r))r=i.stringify(r);else if($.isArray(r))r=r.join(",");n.push(o+"="+encodeURIComponent(r))}}),n.push("projectName="+e.projectName),n.join("&amp;")},getFiles:function(){return this.element.getFiles&&this.element.getFiles()||[]},setAction:function(e){this.element.setAction&&this.element.setAction(e)},setData:function(e){this.element.setData&&this.element.setData(e)},reset:function(){this.element.reset&&this.element.reset()},upload:function(){this.element.upload&&this.element.upload()},cancel:function(){this.element.cancel&&this.element.cancel()},enable:function(){this.element.enable&&this.element.enable()},disable:function(){this.element.disable&&this.element.disable()},dispose:function(){this.element.dispose&&this.element.dispose(),e.instances[this.movieName]=null,window[this.movieName]=null}},e.projectName="Supload",e.createSWF=function(t,n,i){var o='<object id="'+t+'" class="'+e.projectName.toLowerCase()+'" type="application/x-shockwave-flash" data="'+n+'"><param name="movie" value="'+n+'" /><param name="allowscriptaccess" value="always" /><param name="wmode" value="transparent" /><param name="flashvars" value="'+i+'" /></object>';return $(o)[0]},e.instances={},e.STATUS_WAITING=0,e.STATUS_UPLOADING=1,e.STATUS_UPLOAD_SUCCESS=2,e.STATUS_UPLOAD_ERROR=3,e.ERROR_CANCEL=0,e.ERROR_SECURITY=1,e.ERROR_IO=2;var o=178245;return window.Supload=e,e}),define("cc/util/support",["require","exports","module","../function/supportWebSocket","../function/supportLocalStorage","../function/supportFlash","../function/supportCanvas","../function/supportPlaceholder","../function/supportInput"],function(require,exports,module){"use strict";function e(e){var t=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+i.join(t+" ")+t).split(" "),r=!1;return $.each(o,function(e,t){if(t in n)return r=!0,!1;else;}),r}var t=document.createElement("musicode"),n=t.style,i=["Webkit","Moz","O","ms"];exports.animation=function(){return e("animationName")},exports.boxShadow=function(){return e("boxShadow")},exports.flexbox=function(){return e("flexWrap")},exports.transform=function(){return e("transform")},exports.webSocket=require("../function/supportWebSocket"),exports.localStorage=require("../function/supportLocalStorage"),exports.flash=require("../function/supportFlash"),exports.canvas=require("../function/supportCanvas"),exports.placeholder=require("../function/supportPlaceholder"),exports.input=require("../function/supportInput")}),define("cc/util/swipe",["require","exports","module","../function/guid"],function(require,exports,module){"use strict";function e(e){e=e.originalEvent;var t=e.changedTouches||e.touches;if(1===t.length)return t[0];else return}var t=require("../function/guid"),n="cc-util-swipe",i="cc-swipe",o="cc-swiping";exports.SWIPE=i,exports.SWIPING=o,exports.init=function(r){var a,u="."+t(),s=function(e,t,n){var i=n.pageX-c.x,o=n.pageY-c.y;e.type=t,r.trigger(e,{x:i,y:o})},c={},l={};l["touchmove"+u]=function(t){var n=e(t);if(n){if(s(t,o,n),a)clearTimeout(a);a=setTimeout(function(){l["touchend"+u](t)},200)}},l["touchend"+u]=function(t){if(a)clearTimeout(a),a=null;var n=e(t);if(n)s(t,i,n);r.off(l)},r.data(n,u).on("touchstart"+u,function(t){var n=e(t);if(n)c.x=n.pageX,c.y=n.pageY,c.time=+new Date,r.on(l)})},exports.dispose=function(e){var t=e.data(n);if(t)e.removeData(n).off(t)}}),define("cc/util/touch",["require","exports","module","../function/eventPage","../function/eventOffset"],function(require,exports,module){"use strict";function t(e){return e.originalEvent.changedTouches[0]}var n=require("../function/eventPage"),i=require("../function/eventOffset"),o=document.createElement("div"),r={support:"ontouchend"in o,click:"touchstart",down:"touchstart",move:"touchmove",up:"touchend",page:function(e){var n=t(e);return{x:n.pageX,y:n.pageY}},client:function(e){var n=t(e);return{x:n.clientX,y:n.clientY}},offset:function(e){var n=t(e);return{x:n.offsetX,y:n.offsetY}}},a={support:"onclick"in o,click:"click",down:"mousedown",move:"mousemove",up:"mouseup",page:function(e){return n(e)},client:function(e){return{x:e.clientX,y:e.clientY}},offset:function(){return i(e)}};return o=null,{touch:r,mouse:a}}),define("cc/util/trigger",["require","exports","module","../function/split"],function(require,exports,module){"use strict";function e(e){return function(t){var i=e.delay,o=e.startDelay,r=e.endDelay,a=function(){e.handler.call(t.currentTarget,t)},u=function(){if(i>0&&o&&r){var t=function(){e[n]=setTimeout(function(){s(n)},i)},u=function(){clearTimeout(e[n]),r(s,e),e[n]=null},s=function(t){if(e[n])u();if(n===t)a()};if(!e[n])o(s,e),t()}else a()},s=e.beforeHandler;if($.isFunction(s)){var c=s.call(t.currentTarget,t);if(c===!1)return;else if(c&&$.isFunction(c.then))return void c.then(u)}u()}}var t=require("../function/split"),n="delayTimer";return exports={focus:{type:"focusin",handler:e},blur:{type:"focusout",handler:e},click:{type:"click",handler:e},enter:{type:"mouseenter",handler:e},leave:{type:"mouseleave",handler:e},context:{type:"contextmenu",handler:e}},exports.parse=function(e,n){var i={};if(e)$.each(t(e,","),function(e,t){var o=exports[t];if(o)i[t]={type:o.type,handler:o.handler(n(t))}});return i},exports}),define("cc/util/url",["require","exports","module","../function/split"],function(require,exports,module){"use strict";var e=require("../function/split");exports.parseQuery=function(t){var n={};if("string"===$.type(t)&&t.indexOf("=")>=0){var i="?"===t.charAt(0)?1:0;if(i>0)t=t.substr(i);t=t.split("#")[0],$.each(e(t,"&"),function(t,i){var o=e(i,"=");if(2===o.length){var r=o[0];if(r)n[r]=decodeURIComponent(o[1])}})}return n},exports.parse=function(e){var t=document.createElement("a");t.href=e,e=t.href;var n="";if(t.protocol&&t.host)n=t.protocol+"//"+t.host;else if(/^(http[s]?:\/\/[^/]+)(?=\/)/.test(e))n=RegExp.$1;var i=n.split(":");if(0===n.indexOf("http:")&&3===i.length&&80==i[2])i.length=2,n=i.join(":");var o=t.pathname;if(o&&"/"!==o.charAt(0))o="/"+o;return{origin:n,pathname:o,search:t.search,hash:t.hash}}}),define("cc/util/validator",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var t=$.Deferred();return $.when.apply($,e).done(function(){t.resolve(arguments)}),t}var t={required:function(e,t){if(e.value)return!0;else if(t.required)return!1},pattern:function(e,t){var n=t.pattern;if("string"===$.type(n))n=exports.buildInPatterns[n];if(n instanceof RegExp)return n.test(e.value);else return},minlength:function(e,t){if($.isNumeric(t.minlength))return e.value.length>=+t.minlength;else;},maxlength:function(e,t){if($.isNumeric(t.maxlength))return e.value.length<=+t.maxlength;else;},min:function(e,t){if($.isNumeric(t.min))return e.value>=+t.min;else;},max:function(e,t){if($.isNumeric(t.max))return e.value<=+t.max;else;},step:function(e,t){var n=t.min,i=t.step;if($.isNumeric(n)&&$.isNumeric(i))return(e.value-n)%i===0;else;},equals:function(e,t,n){var i=t.equals;if(i)return e.value===n[i].value;else return}};exports.buildInPatterns={"int":/^\d+$/,number:/^-?[\d.]*$/,positive:/^[\d.]*$/,negative:/^-[\d.]*$/,"char":/^[\w\u2E80-\u9FFF]+$/,url:/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/,tel:/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/,mobile:/^1[3-9]\d{9}$/,email:/^(?:[a-z0-9]+[_\-+.]+)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i},exports.validate=function(n,i){var o=[],r=[];if($.each(n,function(a,u){var s=i[a];if(s){var c=$.extend({},u);if($.isFunction(s.before)&&s.before(n)===!1)return void o.push(c);var l,f=[],p=[],d=function(e,i){if(!$.isFunction(i))i=t[e];if($.isFunction(i)){var o=function(t){if(t===!1)l=e;else if(t&&$.isFunction(t.then))t.then(o),f.push(e),p.push(t);else if("boolean"!==$.type(t))t=!1;return t};return o(i(u,s.rules,n))}};if($.isArray(s.sequence))$.each(s.sequence,function(e,t){return d(t,s.rules[t])});else $.each(s.rules,function(e,t){return d(e,t)});var m,h=function(){if(l)c.rule=l,c.error=s.errors[l];if($.isFunction(s.after))s.after(c)};if(p.length){var v=e(p).then(function(e){$.each(e,function(e,t){if(t===!1)return l=f[e],!1;else;}),h(),o[m-1]=c});m=o.push(v),r.push(v)}else h(),o.push(c)}}),r.length)return e(r).then(function(){return o});else return o}}),define("cc/util/visibility",["require","exports","module"],function(require,exports,module){"use strict";function e(e,t){if(!e)return t;else return e+t.slice(0,1).toUpperCase()+t.slice(1)}var t;$.each(["webkit","moz","ms","o",""],function(n,i){if(e(i,"hidden")in document)return t=i,!1;else;}),exports.support=null!=t,exports.hidden=function(){return document[e(t,"hidden")]},exports.state=function(){return document[e(t,"visibilityState")]},exports.change=function(e){document.addEventListener(t+"visibilitychange",e)}}),define("cc/util/wheel",["require","exports","module","../function/guid"],function(require,exports,module){"use strict";var e=require("../function/guid"),t="cc-util-wheel",n="cc-wheel",i="onmousewheel"in document.body?"mousewheel":"DOMMouseScroll";exports.WHEEL=n,exports.init=function(o){var r="."+e();o.data(t,r).on(i+r,function(e){var t,i=e.originalEvent,r=i.wheelDelta;if(r%120===0)t=-r/120;else if(r%3===0)t=-r/3;else if(i.detail%3===0)t=-i.detail/3;else t=i.delta||0;e.type=n,o.trigger(e,{delta:t})})},exports.dispose=function(e){var n=e.data(t);if(n)e.removeData(t).off(n)}});