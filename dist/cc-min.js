define("cc/form/Box",["require","exports","module","../function/debounce","../util/life","./common"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/debounce"),n=require("../util/life"),i=require("./common"),o=e.prototype;return o.type="Box",o.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),o=e.option("toggle");n.on("click"+e.namespace(),t(function(t){if(!e.is("disabled")){var n=e.is("checked");if(n){if(o)n=!1}else n=!0;e.state("checked",n)}},50)),e.inner({main:n,"native":i.findNative(e,o?":checkbox":":radio")}),e.set({name:e.option("name"),value:e.option("value")}),e.state({checked:e.option("checked"),disabled:e.option("disabled")})},o.dispose=function(){var e=this;n.dispose(e),e.inner("main").off(e.namespace())},n.extend(o),e.propertyUpdater={name:function(e){i.prop(this,"name",e)},value:function(e){i.prop(this,"value",e)}},e.propertyValidator={name:function(e){return i.validateName(this,e)},value:function(e){return i.validateValue(this,e)}},e.stateUpdater={checked:function(e){i.prop(this,"checked",e),i.setClass(this,"checkedClass",e?"add":"remove")},disabled:function(e){i.prop(this,"disabled",e),i.setClass(this,"disabledClass",e?"add":"remove")}},e.stateValidator={checked:function(e){if("boolean"!==$.type(e))e="checked"===i.prop(this,"checked");return e},disabled:function(e){if("boolean"!==$.type(e))e="disabled"===i.prop(this,"disabled");return e}},e}),define("cc/form/BoxGroup",["require","exports","module","../function/values","../util/life","./common","./Box"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/values"),n=require("../util/life"),i=require("./common"),o=require("./Box"),r=e.prototype;return r.type="BoxGroup",r.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n=t.find(e.option("boxSelector")),r=[];$.each(n,function(t){r.push(new o({mainElement:n.eq(t),mainTemplate:e.option("boxTemplate"),checkedClass:e.option("boxCheckedClass"),disabledClass:e.option("boxDisabledClass"),toggle:e.option("toggle")}))}),e.once("sync",function(){$.each(r,function(t,n){n.option("stateChange",{checked:function(t){e.set("value",e.inner("values")(n.get("value"),t))}})})}),e.inner({main:t,"native":i.findNative(e,"input:hidden"),boxes:r}),e.set({name:e.option("name"),value:e.option("value")})},r.dispose=function(){var e=this;n.dispose(e),$.each(e.inner("boxes"),function(e,t){t.dispose()})},n.extend(r),e.propertyUpdater={name:function(e){i.prop(this,"name",e)},value:function(e){var t=this;if(i.prop(t,"value",e),e)$.each(t.inner("boxes"),function(n,i){if(i.get("value")===e)i.state("checked",!0);else if(!t.option("multiple"))i.state("checked",!1)})}},e.propertyValidator={name:function(e){return i.validateName(this,e)},value:function(e){var n=this,o=t(i.validateValue(n,e),n.option("multiple"),n.option("toggle"));return n.inner("values",o),o()}},e}),define("cc/form/Date",["require","exports","module","../function/split","../function/contains","../function/replaceWith","../helper/Popup","../ui/Calendar","../util/life","./common"],function(require,exports,module){"use strict";function e(e){r.init(this,e)}var t=require("../function/split"),n=require("../function/contains"),i=(require("../function/replaceWith"),require("../helper/Popup")),o=require("../ui/Calendar"),r=require("../util/life"),a=require("./common"),u=e.prototype;return u.type="Date",u.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),r=t.find(e.option("layerSelector")),a=e.option("calendarSelector"),u=a?r.find(a):r,s=new o({mainElement:u,mainTemplate:e.option("calendarTemplate"),mode:e.option("mode"),date:e.option("date"),today:e.option("today"),stable:e.option("stable"),toggle:e.option("toggle"),multiple:e.option("multiple"),firstDay:e.option("firstDay"),parse:e.option("parse"),renderSelector:e.option("renderSelector"),renderTemplate:e.option("renderTemplate"),prevSelector:e.option("prevSelector"),nextSelector:e.option("nextSelector"),itemSelector:e.option("itemSelector"),itemActiveClass:e.option("itemActiveClass"),valueAttribute:e.option("valueAttribute"),onselect:function(){l.close()},render:function(t,n){return e.execute("render",[t,n])},propertyChange:{value:function(t){e.set("value",t)}}}),l=new i({triggerElement:t,layerElement:r,showLayerTrigger:e.option("showLayerTrigger"),showLayerDelay:e.option("showLayerDelay"),hideLayerTrigger:e.option("hideLayerTrigger"),hideLayerDelay:e.option("hideLayerDelay"),showLayerAnimation:function(){e.execute("showLayerAnimation",{layerElement:r})},hideLayerAnimation:function(){e.execute("hideLayerAnimation",{layerElement:r})},stateChange:{opened:function(t){e.state("opened",t)}}}),c=function(t,n){if(n&&n.event)e.emit(t,n)};l.before("open",c).after("open",c).before("close",c).after("close",c);var f=t.find(e.option("inputSelector"));e.before("close",function(e,t){var i=t&&t.event;if(i){var o=i.target;if(!n(document,o)||n(f,o)||n(r,o))return!1}}),e.inner({main:t,"native":f,input:f,popup:l,calendar:s}),e.set({name:e.option("name"),value:e.option("value")})},u.open=function(){this.state("opened",!0)},u._open=function(){if(this.is("opened"))return!1;else return void 0},u.close=function(){this.state("opened",!1)},u._close=function(){if(!this.is("opened"))return!1;else return void 0},u.render=function(){this.inner("calendar").render()},u.dispose=function(){var e=this;r.dispose(e),e.inner("popup").dispose(),e.inner("calendar").dispose()},r.extend(u),e.propertyUpdater={name:function(e){a.prop(this,"name",e)},value:function(e){a.prop(this,"value",e),this.inner("calendar").set("value",e)}},e.propertyValidator={name:function(e){return a.validateName(this,e)},value:function(e){var n=this;if(e=a.validateValue(n,e),"string"===$.type(e)){var i=[];$.each(t(e,","),function(e,t){if(n.execute("parse",t))i.push(t)}),e=i.join(",")}return e}},e.stateUpdater={opened:function(e){this.inner("popup").state("opened",e)}},e}),define("cc/form/Number",["require","exports","module","../ui/SpinBox","../util/life","./common"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../ui/SpinBox"),n=require("../util/life"),i=require("./common"),o=e.prototype;return o.type="Number",o.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),i=new t({mainElement:n,value:e.option("value"),minValue:e.option("minValue"),maxValue:e.option("maxValue"),upSelector:e.option("upSelector"),downSelector:e.option("downSelector"),inputSelector:e.option("inputSelector"),interval:e.option("interval"),step:e.option("step"),propertyChange:{value:function(t){e.set("value",t)},minValue:function(t){e.set("minValue",t)},maxValue:function(t){e.set("maxValue",t)}}});e.inner({main:n,"native":i.inner("input"),spinbox:i}),e.set({name:e.option("name")})},o.dispose=function(){var e=this;n.dispose(e),e.inner("spinbox").dispose()},n.extend(o),e.propertyUpdater={name:function(e){i.prop(this,"name",e)},value:function(e){this.inner("spinbox").set("value",e)}},e.propertyValidator={name:function(e){return i.validateName(this,e)}},e}),define("cc/form/Select",["require","exports","module","../ui/ComboBox","../util/life","./common"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../ui/ComboBox"),n=require("../util/life"),i=require("./common"),o=e.prototype;return o.type="Select",o.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),o=new t({mainElement:n,data:e.option("data"),value:e.option("value"),defaultText:e.option("defaultText"),buttonElement:n.find(e.option("buttonSelector")),menuElement:n.find(e.option("menuSelector")),menuTemplate:e.option("menuTemplate"),renderSelector:e.option("renderSelector"),renderTemplate:e.option("renderTemplate"),showMenuTrigger:e.option("showMenuTrigger"),showMenuDelay:e.option("showMenuDelay"),hideMenuTrigger:e.option("hideMenuTrigger"),hideMenuDelay:e.option("hideMenuDelay"),itemSelector:e.option("itemSelector"),itemActiveClass:e.option("itemActiveClass"),menuActiveClass:e.option("menuActiveClass"),textAttribute:e.option("textAttribute"),valueAttribute:e.option("valueAttribute"),showMenuAnimation:function(t){e.execute("showMenuAnimation",t)},hideMenuAnimation:function(t){e.execute("hideMenuAnimation",t)},render:function(t,n){return e.execute("render",[t,n])},setText:function(t){var i=e.option("labelSelector");n.find(i).html(t.text)},propertyChange:{value:function(t){e.set("value",t)}},stateChange:{opened:function(t){e.state("opened",t)}}}),r=function(t,n){if(n&&n.event)e.emit(t,n)};o.before("open",r).after("open",r).before("close",r).after("close",r);var a=i.findNative(e,"input:hidden");e.after("open",function(){a.trigger("focusin")}).after("close",function(){a.trigger("focusout")}),e.inner({main:n,"native":a,combobox:o}),e.set({data:e.option("data"),name:e.option("name"),value:e.option("value")})},o.open=function(){this.state("opened",!0)},o._open=function(){if(this.is("opened"))return!1;else return void 0},o.close=function(){this.state("opened",!1)},o._close=function(){if(!this.is("opened"))return!1;else return void 0},o.dispose=function(){var e=this;n.dispose(e),e.inner("combobox").dispose()},n.extend(o),e.propertyUpdater={name:function(e){i.prop(this,"name",e)}},e.propertyUpdater.data=e.propertyUpdater.value=function(e,t,n){var o=this,r={},a=n.value;if(a){var u=a.newValue;i.prop(o,"value",u),r.value=u}var s=n.data;if(s)r.data=s.newValue;return o.inner("combobox").set(r),!1},e.propertyValidator={name:function(e){return i.validateName(this,e)},value:function(e){return i.validateValue(this,e)}},e.stateUpdater={opened:function(e){this.inner("combobox").state("opened",e)}},e}),define("cc/form/Text",["require","exports","../helper/Input","../helper/Placeholder","../util/life","./common"],function(require,exports){"use strict";function e(e){i.init(this,e)}var t=require("../helper/Input"),n=require("../helper/Placeholder"),i=require("../util/life"),o=require("./common"),r=e.prototype;return r.type="Text",r.init=function(){var e=this;e.initStruct();var i=new n({mainElement:e.option("mainElement"),value:e.option("placeholder"),nativeFirst:e.option("nativeFirst"),inputSelector:e.option("inputSelector"),labelSelector:e.option("labelSelector"),showAnimation:e.option("showAnimation"),hideAnimation:e.option("hideAnimation"),propertyChange:{value:function(t){e.set("placeholder",t)}}}),o=i.inner("input"),r=new t({mainElement:o,shortcut:e.option("shortcut"),propertyChange:{value:function(t){e.set("value",t)}}});e.inner({main:i.inner("main"),"native":o,input:r,placeholder:i})},r.dispose=function(){var e=this;i.dispose(e),e.inner("input").dispose(),e.inner("placeholder").dispose()},i.extend(r),e.propertyUpdater={name:function(e){o.prop(this,"name",e)},value:function(e){this.inner("input").set("value",e),this.inner("placeholder").render()},placeholder:function(e){this.inner("placeholder").set("value",e)}},e.propertyValidator={name:function(e){return o.validateName(this,e)}},e}),define("cc/form/Validator",["require","exports","module","../function/isHidden","../function/nextTick","../util/life"],function(require,exports,module){"use strict";function e(e){u.init(this,e)}function t(t,n){var i=n.type;if(!i)i=t.attr("type")||"text";var o=e.type[i];if($.isArray(o)){var r=[],a=n.rules||{};return $.each(o,function(e,n){var o=a[n];if(null==o){var u=l[n];if($.isFunction(u))o=u(t,i)}if(null!=o)r.push({name:n,value:o})}),r}}function n(e,t,n){var i,o=e.option("successClass"),r=e.option("errorClass"),a=e.option("errorTemplate"),u=e.option("errorPlacement"),s=e.option("errorSelector");if(s)i=t.find(s);$.each(n,function(n,s){var l=s.error;if("string"!==$.type(l))l=s.error="";if(l){if(o)t.removeClass(o);if(r)t.addClass(r);if(i&&i.length>n){var c=e.execute("render",[{error:l},a]);if(i.eq(n).html(c),$.isFunction(u))e.execute(u,{fieldElement:s.element,errorElement:i.eq(n)})}}else{if(o)t.addClass(o);if(r)t.removeClass(r)}})}function i(e,t){if(e.length>0){var n=e[0].element;if(n.is(":hidden"))n=n.parent();var i=n.offset().top;if("number"===$.type(t))i+=t;window.scrollTo(window.scrollX,i)}}function o(e){var t=$.Deferred();return $.when.apply($,e).done(function(){t.resolve(arguments)}),t}var r=require("../function/isHidden"),a=require("../function/nextTick"),u=require("../util/life"),s=e.prototype;s.type="Validator",s.init=function(){var e=this,t=e.option("mainElement"),n=e.namespace(),i="FORM"===t.prop("tagName")?t:t.find("form");if(i.length>0)i.attr("novalidate","novalidate").on("submit"+n,$.proxy(e.validate,e));if(t.on("focusin"+n,function(t){var n=$(t.target),i=e.option("groupSelector"),o=n.closest(i);if(1===o.length){var r=[e.option("successClass"),e.option("errorClass")].join(" ");if(r=$.trim(r))o.removeClass(r)}}),e.option("validateOnBlur"))t.on("focusout"+n,function(t){var n=$(t.target),i=n.prop("name");if(!i)if(n=n.find("[name]"),1===n.length)i=n.prop("name");if(i)e.validate(i)});e.inner({main:t})},s.validate=function(e,t){var n,r=this,u=r.option("mainElement"),s=r.option("groupSelector");if("string"===$.type(e))e=[e];if($.isArray(e)&&e.length>0){var l=[];$.each(e,function(e,t){var n=u.find('[name="'+t+'"]');if(1===n.length){var i=n.closest(s);if(1===i.length)l.push(i[0])}}),n=$($.unique(l))}else if(n=u.find(s),"boolean"===$.type(e))t=e;for(var c=[],f=[],p=0,d=n.length;d>p;p++){var m=r.validateGroup(n.eq(p));if(m.then)f.push(m),m=m.result;$.merge(c,m)}var e=[],h=[],v=function(){if($.each(c,function(t,n){if(n.error)h.push(n);e.push(n.name)}),t&&h.length>0)i(h,r.option("scrollOffset"));a(function(){r.emit("validatecomplete",{fields:e,errors:h})})};if(f.length>0)return o(f).then(v);else return v(),0===h.length},s._validate=function(e){if("string"===$.type(e))e=[e];if($.isArray(e)&&e.length>0)return{fields:e};else return void 0},s.validateGroup=function(i){if(!r(i)){var a=this,u=[],s=[],l=[];if(i.find("[name]").each(function(n){var i=this,o=$(i),r="boolean"===$.type(i.disabled)?i.disabled:"disabled"===o.attr("disabled");if(!r){var c="string"===$.type(i.name)?i.name:o.attr("name"),f=a.option("fields")[c];if(f){var p=a.inner(c+"Rules");if(null==p)p=t(o,f),a.inner(c+"Rules",p||!1);var d,m;if(p){var h={};$.each(p,function(e,t){h[t.name]=t.value});var v="string"===$.type(i.value)?i.value:o.attr("value");v=$.trim(v);var g={rules:h,value:v};$.each(p,function(t,n){var i=a.execute(e.rule[n.name],g);if(i===!1)return d=n,!1;else if(""===v&&"required"===n.name)return!1})}if(d){var x=f.errors;if(x)m=x[d.name]}else if($.isFunction(f.custom)){var y=$.Deferred(),b=a.execute(f.custom,[o,function(e){y.resolve(e)}]);m=null==b||b.then?y:b}var w={name:c,element:o,error:m};if(d)w.rule=d.name;var n=u.push(w);if(m&&m.then)s.push(m),l.push(n-1)}}}),s.length>0){var c=o(s).then(function(e){$.each(e,function(e,t){u[l[e]].error=t}),n(a,i,u)});return c.result=u,c}else return n(a,i,u),u}},s.dispose=function(){var e=this;u.dispose(e),e.inner("main").off(e.namespace())},u.extend(s),e.type={text:["required","pattern","min","max","minlength","maxlength"],hidden:["required"],password:["required","pattern","minlength","maxlength","equals"],number:["required","pattern","min","max","step"],range:["required","pattern","min","max","step"],tel:["required","pattern"],url:["required","pattern"],email:["required","pattern"],mobile:["required","pattern"],money:["required","pattern","min","max"],idcard:["required","pattern"],"int":["required","pattern","min","max"],internationalMobile:["required","pattern"]},e.rule={required:function(e){if(e.value)return!0;else if(e.rules.required)return!1},pattern:function(e){var t=e.rules.pattern;if(t instanceof RegExp)return t.test(e.value);else return void 0},minlength:function(e){var t=e.rules.minlength;if($.isNumeric(t))return e.value.length>=+t;else return void 0},maxlength:function(e){var t=e.rules.maxlength;if($.isNumeric(t))return e.value.length<=+t;else return void 0},min:function(e){var t=e.rules.min;if($.isNumeric(t))return e.value>=+t;else return void 0},max:function(e){var t=e.rules.max;if($.isNumeric(t))return e.value<=+t;else return void 0},step:function(e){var t=e.rules.min,n=e.rules.step;if($.isNumeric(t)&&$.isNumeric(n))return(e.value-t)%n===0;else return void 0},equals:function(e){var t=e.rules.equals;if(t){var n=this.inner("main").find('[name="'+t+'"]');return e.value===$.trim(n.val())}}},e.pattern={number:/^[\d.]*$/,"int":/^\d+$/,url:/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/,tel:/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/,mobile:/^1[3-9]\d{9}$/,email:/^(?:[a-z0-9]+[_\-+.]+)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i,money:/^[\d.]*$/,idcard:/(^\d{15}$)|(^\d{17}([0-9]|X)$)/i,internationalMobile:/^\d{7,20}$/};var l={required:function(e){return"required"===e.attr("required")},pattern:function(t,n){var i=t.attr("pattern")||e.pattern[n];if("string"===$.type(i))i=new RegExp(i);return i},minlength:function(e){return e.attr("minlength")},maxlength:function(e){return e.attr("maxlength")},min:function(e){return e.attr("min")},max:function(e){return e.attr("max")},step:function(e){return e.attr("step")},equals:function(e){return e.attr("equals")}};return e}),define("cc/form/common",["require","exports","module"],function(require,exports,module){"use strict";exports.prop=function(e,t,n){if($.isPlainObject(t))$.each(t,function(t,n){exports.prop(e,t,n)});else{var i=e.inner("native");if(2===arguments.length)return i.prop(t);else if(i.prop(t,n),"value"===t)i.trigger("change")}},exports.setClass=function(e,t,n){var i=e.option(t);if(i)e.option("mainElement")[n+"Class"](i)},exports.findNative=function(e,t){var n=e.option("mainElement").find(t);if(1!==n.length)e.error("form/"+e.type+" 必须包含一个 "+t+".");return n},exports.validateName=function(e,t){if("string"!==$.type(t))if(t=exports.prop(e,"name"),!t||"string"!==$.type(t))e.error("name attribute is missing.");return t},exports.validateValue=function(e,t){var n=$.type(t);if("number"===n)t=""+t;else if("string"!==n)t=exports.prop(e,"value")||"";return t}}),define("cc/function/around",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n,i){var o="string"===$.type(t),r=o?e[t]:e;if(!o)i=n,n=t;var a=function(){var e,t=$.makeArray(arguments);if($.isFunction(n))e=n.apply(this,t);if(e!==!1){if($.isFunction(r))e=r.apply(this,t);if($.isFunction(i)){t.push(e);var o=i.apply(this,t);if("undefined"!==$.type(o))e=o}return e}};return o?e[t]=a:a}}),define("cc/function/autoScrollDown",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=e.height(),i=e.scrollTop(),o=i+n,r=t.prop("offsetTop")+t.outerHeight(!0);if(i>r||r>o)e.scrollTop(r-n)}}),define("cc/function/autoScrollUp",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=e.scrollTop(),i=n+e.height(),o=t.prop("offsetTop");if(n>o||o>i)e.scrollTop(o)}}),define("cc/function/contains",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if(e=e.jquery?e[0]:e,t=t.jquery?t[0]:t,!e||!t)return!1;if(e===t)return!0;else return $.contains(e,t)}}),define("cc/function/dateOffset",["require","exports","module"],function(require,exports,module){"use strict";var e=864e5;return function(t,n){if("date"===$.type(t))t=t.getTime();return new Date(t+n*e)}}),define("cc/function/debounce",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){t="number"===$.type(t)?t:50;var n;return function(){if(!n){var i=arguments;n=setTimeout(function(){n=null,e.apply(null,$.makeArray(i))},t)}}}}),define("cc/function/decimalLength",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=(""+e).split(".");return 2===t.length?t[1].length:0}}),define("cc/function/disableSelection",["require","exports","module"],function(require,exports,module){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=function(){return!1}};if(n)return function(e){e=e||document.body,e.style.MozUserSelect="none"};else return $.noop}),define("cc/function/divide",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),n/i}}),define("cc/function/dragGlobal",["require","exports","module","../helper/Draggable","../util/instance"],function(require,exports,module){"use strict";var e=require("../helper/Draggable"),t=require("../util/instance");return function(n){return new e({mainElement:n.element,containerElement:t.body,mainDraggingClass:n.draggingClass,handleSelector:n.handleSelector,cancelSelector:n.cancelSelector,dragAnimation:n.dragAnimation,bind:function(e){var n=e.namespace;e.mainElement.on("mousedown"+n,function(i){if(e.downHandler(i))t.document.off(n).on("mousemove"+n,e.moveHandler).on("mouseup"+n,function(i){e.upHandler(i),t.document.off(n)})})}})}}),define("cc/function/enableSelection",["require","exports","module"],function(require,exports,module){"use strict";var e=$("<i></i>")[0],t="onselectstart"in e,n="MozUserSelect"in e.style;if(e=null,t)return function(e){e=e||document,e.onselectstart=null};if(n)return function(e){e=e||document.body,e.style.MozUserSelect=""};else return $.noop}),define("cc/function/eventOffset",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=e.offsetX,n=e.offsetY;if("number"!==$.type(t)){var i=e.target.getBoundingClientRect();t=e.clientX-i.left,n=e.clientY-i.top}return{x:t,y:n}}}),define("cc/function/eventPage",["require","exports","module"],function(require,exports,module){"use strict";return function(e){var t=e.pageX,n=e.pageY;if("number"!==$.type(t)){var i=document.documentElement;t=e.clientX+i.scrollLeft,n=e.clientY+i.scrollTop}return{x:t,y:n}}}),define("cc/function/extend",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if($.isPlainObject(t))$.each(t,function(t,n){if(!(t in e))e[t]=n})}}),define("cc/function/float2Int",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n,i=(""+e).split(".");if(t>=0);else t=0;if(1===i.length)n=e+new Array(t+1).join("0");else t=Math.max(0,t-i[1].length),n=i.join("")+new Array(t+1).join("0");return+n}}),define("cc/function/guid",["require","exports","module"],function(require,exports,module){var e=0;return function(){return"cc_"+e++}}),define("cc/function/imageDimension",["require","exports","module"],function(require,exports,module){"use strict";var e=[];return function(t,n){var i=new Image,o=e.push(i);i.onload=function(){var t=i.height;if(null!=t&&t>0)n(i.width,t),delete e[o-1],i=null;else setTimeout(i.onload,10)},i.src=t}}),define("cc/function/innerOffset",["require","exports","module","./toNumber"],function(require,exports,module){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=t.css("border-left-width"),o=t.css("border-top-width");return{x:n.left+e(i,0,"int"),y:n.top+e(o,0,"int")}}}),define("cc/function/isHidden",["require","exports","module"],function(require,exports,module){"use strict";return function(e){e.css("display");return"none"===e.css("display")||0==e.css("opacity")||"hidden"===e.css("visibility")}}),define("cc/function/minus",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),(n-i)/Math.pow(10,o)}}),define("cc/function/monthFirst",["require","exports","module","./dateOffset"],function(require,exports,module){"use strict";var e=require("./dateOffset");return function(t){if("number"===$.type(t))t=new Date(t);return e(t,1-t.getDate())}}),define("cc/function/monthLast",["require","exports","module","./dateOffset","./monthOffset","./monthFirst"],function(require,exports,module){"use strict";var e=require("./dateOffset"),t=require("./monthOffset"),n=require("./monthFirst");return function(i){return e(n(t(i,1)),-1)}}),define("cc/function/monthOffset",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if("date"===$.type(e))e=e.getTime();return e=new Date(e),e.setDate(1),e.setMonth(e.getMonth()+t),e}}),define("cc/function/multiply",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));n=t(n,o),i=t(i,o);var r=Math.pow(10,o);return n*i/(r*r)}}),define("cc/function/nextTick",["require","exports","module","../util/instance"],function(require,exports,module){"use strict";var e,t=require("../util/instance"),n=window;if($.isFunction(n.setImmediate))e=n.setImmediate;else{var i="musicode",o=$.Callbacks(),r=n.MutationObserver||n.webKitMutationObserver;if(r){var a=new r(function(e){if(e[0].attributeName===i)o.fire().empty()}),u=document.createElement("div");a.observe(u,{attributes:!0}),e=function(e){o.add(e),u.setAttribute(i,$.now())}}else if($.isFunction(n.postMessage))t.window.on("message",function(e){if(e.source===n&&e.data===i)o.fire().empty()}),e=function(e){o.add(e),postMessage(i,"*")};else e=function(e){setTimeout(e,0)}}return e}),define("cc/function/offsetParent",["require","exports","module"],function(require,exports,module){"use strict";function e(e){return e.is("body")||"static"!==e.css("position")}return function(t){if(t.is("body"))return t;for(var n=t.parent();!e(n);)n=n.parent();return n}}),define("cc/function/outerOffset",["require","exports","module","./toNumber"],function(require,exports,module){"use strict";var e=require("./toNumber");return function(t){var n=t.offset(),i=e(t.css("margin-left"),0,"int"),o=e(t.css("margin-top"),0,"int");return{x:n.left-i,y:n.top-o}}}),define("cc/function/page",["require","exports","module","../util/instance"],function(require,exports,module){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")<e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cc/function/pageHeight",["require","exports","module","./page"],function(require,exports,module){"use strict";var e=require("./page");return function(){var t=e()[0];return Math.max(t.scrollHeight,t.clientHeight)}}),define("cc/function/pageScrollLeft",["require","exports","module"],function(require,exports,module){"use strict";return function(){return Math.max(document.body.scrollLeft,document.documentElement.scrollLeft)}}),define("cc/function/pageScrollTop",["require","exports","module"],function(require,exports,module){"use strict";return function(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)}}),define("cc/function/pageWidth",["require","exports","module","./page"],function(require,exports,module){"use strict";var e=require("./page");return function(){var t=e()[0];return Math.max(t.scrollWidth,t.clientWidth)}}),define("cc/function/parseDate",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n){var i=!1;if($.isNumeric(e)&&$.isNumeric(t)&&$.isNumeric(n))i=!0;else if(1===arguments.length)if(i=!0,$.isPlainObject(e))n=e.date,t=e.month,e=e.year;else if("string"===$.type(e)){var o=e.split("-");e=o[0],t=o[1],n=o[2]}if(i)if(4===String(e).length&&t>=1&&12>=t&&n>=1&&31>=n)return new Date(e,t-1,n)}}),define("cc/function/parsePercent",["require","exports","module","./divide"],function(require,exports,module){"use strict";var e=require("./divide"),t=/(-?\d+(\.\d+)?)%/;return function(n){if(t.test(n))return e(RegExp.$1,100);else return void 0}}),define("cc/function/pin",["require","exports","module","../util/instance","./parsePercent"],function(require,exports,module){"use strict";function e(e){var t=o[e.x];if(null==t)t=e.x;if("string"===$.type(t)){var n=i(t);if(null!=n)t=n*(e.width||e.element.outerWidth())}return t}function t(e){var t=o[e.y];if(null==t)t=e.y;if("string"===$.type(t)){var n=i(t);if(null!=n)t=n*(e.height||e.element.outerHeight())}return t}var n=require("../util/instance"),i=require("./parsePercent"),o={left:0,top:0,center:"50%",middle:"50%",right:"100%",bottom:"100%"};return function(i){var o=i.element,r=i.attachment||{};if(!r.element)r.element=n.body;var a=r.element.offset(),u=a.left+e(r),s=a.top+t(r),l=u-e(i),c=s-t(i),f=i.offset;if(f){if("number"===$.type(f.x))l+=f.x;if("number"===$.type(f.y))c+=f.y}var p={left:l,top:c},d=o.css("position");if("absolute"!==d&&"fixed"!==d)p.position="absolute";if(i.silence)return p;else o.css(p)}}),define("cc/function/pinGlobal",["require","exports","module","./pin","./viewport","./viewportWidth","./viewportHeight","./pageScrollLeft","./pageScrollTop"],function(require,exports,module){"use strict";var e=require("./pin"),t=require("./viewport"),n=require("./viewportWidth"),i=require("./viewportHeight"),o=require("./pageScrollLeft"),r=require("./pageScrollTop");return function(a){var u={silence:!0,element:a.element,x:"50%"===a.x?"50%":0,y:"50%"===a.y?"50%":0,attachment:{element:t(),width:n(),height:i(),x:a.x,y:a.y}};if(!a.fixed)u.offset={x:o(),y:r()};return e(u)}}),define("cc/function/plus",["require","exports","module","./decimalLength","./float2Int"],function(require,exports,module){"use strict";var e=require("./decimalLength"),t=require("./float2Int");return function(n,i){var o=Math.max(e(n),e(i));return n=t(n,o),i=t(i,o),(n+i)/Math.pow(10,o)}}),define("cc/function/position",["require","exports","module","./offsetParent"],function(require,exports,module){"use strict";var e=require("./offsetParent");return function(t){var n=e(t),i=t.css("position"),o=parseInt(t.css("left"),10),r=parseInt(t.css("top"),10),a=isNaN(o),u=isNaN(r);if(a||u)if(1===n.length){var s=t.offset(),l=n.offset();if(a)o=s.left-l.left-(parseInt(n.css("border-left-width"),10)||0);if(u)r=s.top-l.top-(parseInt(n.css("border-top-width"),10)||0)}else o=r=0;if(!i||"static"===i)i="absolute";return{position:i,left:o,top:r}}}),define("cc/function/ratio",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){if(e>=0&&t>0)return e/t;else return 0}}),define("cc/function/replaceWith",["require"],function(require){"use strict";return function(e,t){e=e[0],t=t[0],e.parentNode.replaceChild(t,e)}}),define("cc/function/restrain",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n){if(t>e)e=t;else if(e>n)e=n;return e}}),define("cc/function/simplifyDate",["require","exports","module"],function(require,exports,module){"use strict";return function(e){if(e){if("number"===$.type(e))e=new Date(e);return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),day:e.getDay()}}}}),define("cc/function/split",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=[];if("number"===$.type(e))e=""+e;if(e&&"string"===$.type(e))$.each(e.split(t),function(e,t){if(t=$.trim(t))n.push(t)});return n}}),define("cc/function/toNumber",["require","exports","module"],function(require,exports,module){"use strict";var e={"int":parseInt,"float":parseFloat};return function(t,n,i){if("number"!==$.type(t)){var o=e[i];if(o)t=o(t,10);else if($.isNumeric(t))t=+t;else t=NaN}return isNaN(t)?n:t}}),define("cc/function/toString",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t){var n=$.type(e);if("number"===n)e=""+e;else if("string"!==n){if(1===arguments.length)t="";e=t}return e}}),define("cc/function/ucFirst",["require","exports","module"],function(require,exports,module){"use strict";return function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}),define("cc/function/values",["require","exports","module","./split"],function(require,exports,module){"use strict";var e=require("./split"),t=",";return function(n,i,o,r){
var a=e(n,t);if(!$.isFunction(r))r=function(e,t){if(e>t)return 1;else if(t>e)return-1;else return 0};return function(e,n){if(null!=e){var u=$.inArray(e,a);if(u>=0){if(o||!n)a.splice(u,1)}else if(n)a.push(e)}if(a.length>1)if(!i)a=[a.pop()];else if(r)a.sort(r);return a.join(t)}}}),define("cc/function/viewport",["require","exports","module","../util/instance"],function(require,exports,module){"use strict";var e=require("../util/instance");return function(){if(e.body.prop("clientHeight")>e.html.prop("clientHeight"))return e.html;else return e.body}}),define("cc/function/viewportHeight",["require","exports","module"],function(require,exports,module){"use strict";return function(){return window.innerHeight||document.documentElement.clientHeight}}),define("cc/function/viewportWidth",["require","exports","module"],function(require,exports,module){"use strict";return function(){return window.innerWidth||document.documentElement.clientWidth}}),define("cc/function/weekFirst",["require","exports","module","./dateOffset"],function(require,exports,module){"use strict";var e=require("./dateOffset");return function(t,n){if("number"===$.type(t))t=new Date(t);var i=t.getDay();return i=i>=n?i:i+7,e(t,-1*(i-n))}}),define("cc/function/weekLast",["require","exports","module","./weekFirst","./dateOffset"],function(require,exports,module){"use strict";var e=require("./weekFirst"),t=require("./dateOffset");return function(n,i){return t(e(n,i),6)}}),define("cc/function/weekOffset",["require","exports","module","./dateOffset"],function(require,exports,module){"use strict";var e=require("./dateOffset");return function(t,n){return e(t,7*n)}}),define("cc/helper/AjaxUploader",["require","exports","module","../function/ratio","../util/life","../util/mimeType"],function(require,exports,module){"use strict";function e(e){l.init(this,e)}function t(e,t){var n=new FormData;$.each(e.option("data"),function(e,t){n.append(e,t)}),n.append(e.option("fileName"),t.nativeFile),t.xhr.send(n)}function n(e,t){var n=t.nativeFile,i=t.chunk;if(!i)i=t.chunk={index:0,uploaded:0};var o=i.index,r=e.option("chunkSize"),a=r*o,u=r*(o+1);if(u>n.size)u=n.size;i.uploading=u-a;var s="bytes "+(a+1)+"-"+u+"/"+n.size,l=t.xhr;l.setRequestHeader("Content-Type",""),l.setRequestHeader("X_FILENAME",encodeURIComponent(n.name)),l.setRequestHeader("Content-Range",s),l.send(n.slice(a,u))}function i(t,n){var i=n.xhr;if(i)$.each(p,function(e,t){i["on"+t.type]=null}),$.each(d,function(e,t){i.upload["on"+t.type]=null}),delete n.xhr;if(t.emit("uploadcomplete",{fileItem:n}),n.status===e.STATUS_UPLOAD_SUCCESS||n.status===e.STATUS_UPLOAD_ERROR&&t.option("ignoreError")){var r=n.index+1,a=t.inner("fileQueue");if(r<a.files.length)a.index=r,t.upload();else o(t,[])}}function o(t,n){var i=t.inner("fileQueue");i.index=0,i.files=$.map(n,function(t,n){return{index:n,file:u(t),nativeFile:t,status:e.STATUS_WAITING}})}function r(e){var t=e.inner("fileQueue"),n=t.index;if(t.files&&"number"===$.type(n))return t.files[n];else return void 0}function a(e){var t=[];return $.each(e,function(e,n){if(c[n])t.push(c[n])}),$.unique(t).join(",")}function u(e){var t=e.name,n=t.split("."),i=n.length>1?n.pop().toLowerCase():"";return{name:t,type:i,size:e.size}}var s=require("../function/ratio"),l=require("../util/life"),c=require("../util/mimeType"),f=e.prototype;f.type="AjaxUploader",f.init=function(){var e=this,t=e.option("mainElement");if(!t.is(":file"))e.error('AjaxUploader mainElement must be <input type="file" />.');var n=$("<form></form>");t.replaceWith(n),n.append(t);var i={};if(e.option("accept"))i.accept=a(e.option("accept"));if(e.option("multiple"))i.multiple=!0;t.prop(i).on("change"+e.namespace(),function(){o(e,t.prop("files")),e.emit("filechange")}),e.inner({main:n,file:t,fileQueue:{}}),e.emit("ready")},f.getFiles=function(){return this.inner("fileQueue").files||[]},f.setAction=function(e){this.option("action",e)},f.setData=function(e){var t=this.option("data");if($.isPlainObject(t))$.extend(t,e);else t=e;this.option("data",t)},f.reset=function(){this.inner("main")[0].reset()},f.upload=function(i){var o=this,a=o.option("useChunk")?e.STATUS_UPLOADING:e.STATUS_WAITING;if(i=i||r(o),i&&!(i.status>a)){var u=new XMLHttpRequest;i.xhr=u,$.each(p,function(e,t){u["on"+t.type]=function(e){t.handler(o,e)}}),$.each(d,function(e,t){u.upload["on"+t.type]=function(e){t.handler(o,e)}}),u.open("post",o.option("action"),!0);var s=o.option("useChunk")?n:t;s(o,i)}},f.stop=function(){var t=this,n=r(t);if(n&&n.status===e.STATUS_UPLOADING)n.xhr.abort();t.reset()},f.enable=function(){this.option("file").prop("disabled",!1)},f.disable=function(){this.option("file").prop("disabled",!0)},f.dispose=function(){var e=this;l.dispose(e),e.stop(),e.inner("file").off(e.namespace())},l.extend(f),e.supportChunk="undefined"!=typeof FileReader,e.STATUS_WAITING=0,e.STATUS_UPLOADING=1,e.STATUS_UPLOAD_SUCCESS=2,e.STATUS_UPLOAD_ERROR=3,e.ERROR_CANCEL=0;var p={uploadStart:{type:"loadstart",handler:function(t,n){var i=r(t);i.status=e.STATUS_UPLOADING,t.emit("uploadstart",{fileItem:i})}},uploadSuccess:{type:"load",handler:function(t,n){var o=r(t),a={fileItem:o,responseText:o.xhr.responseText},u=o.chunk;if(u)if(u.uploaded+=u.uploading,u.uploaded<o.file.size)return t.emit("chunkuploadsuccess",a),u.index++,void t.upload();o.status=e.STATUS_UPLOAD_SUCCESS,t.emit("uploadsuccess",a),i(t,o)}},uploadError:{type:"error",handler:function(t,n,o){var a=r(t);a.status=e.STATUS_UPLOAD_ERROR,t.emit("uploaderror",{fileItem:a,errorCode:o}),i(t,a)}},uploadStop:{type:"abort",handler:function(t,n){p.uploadError.handler(t,n,e.ERROR_CANCEL)}}},d={uploadProgress:{type:"progress",handler:function(e,t){var n=r(e),i=n.file.size,o=t.loaded,a=n.chunk;if(a)o+=a.uploaded;e.emit("uploadprogress",{fileItem:n,uploaded:o,total:i,percent:100*s(o,i)+"%"})}}};return e}),define("cc/helper/DOMIterator",["require","exports","module","./Keyboard","./Iterator","../util/life","../util/keyboard"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("./Keyboard"),n=require("./Iterator"),i=require("../util/life"),o=require("../util/keyboard"),r=e.prototype;return r.init=function(){var e=this,i=new n({index:e.option("index"),minIndex:e.option("minIndex"),maxIndex:e.option("maxIndex"),defaultIndex:e.option("defaultIndex"),interval:e.option("interval"),step:e.option("step"),loop:e.option("loop"),propertyChange:{index:function(t,n,i){e.set("index",t,i.index)},minIndex:function(t){e.set("minIndex",t)},maxIndex:function(t){e.set("maxIndex",t)}}}),r=e.option("prevKey"),a=e.option("nextKey"),u={};u[r]=function(e,t){if(!t.isLongPress)i.prev()},u[a]=function(e,t){if(!t.isLongPress)i.next()};var s=e.option("watchElement"),l=new t({watchElement:s,shortcut:u}),c=!1;if(l.before("longpress",function(e,t){var n,u=t.keyCode;if(u===o[r])n=!0;else if(u===o[a])n=!1;if(null!=n)c=!0,i.start(n)}).after("longpress",function(){if(c)c=!1,i.pause()}),s.is(":text"))l.on("keydown",function(e){if(e.keyCode===o.up)e.preventDefault()});e.inner({iterator:i,keyboard:l})},r.start=function(e){this.inner("iterator").start(e)},r.pause=function(){this.inner("iterator").pause()},r.stop=function(){this.inner("iterator").stop()},r.prev=function(){this.inner("iterator").prev()},r.next=function(){this.inner("iterator").next()},r.dispose=function(){this.inner("iterator").dispose(),this.inner("keyboard").dispose()},i.extend(r),e.propertyUpdater={index:function(e){this.inner("iterator").set("index",e)},minIndex:function(e){this.inner("iterator").set("minIndex",e)},maxIndex:function(e){this.inner("iterator").set("maxIndex",e)}},e}),define("cc/helper/Draggable",["require","exports","module","../function/page","../function/restrain","../function/position","../function/contains","../function/innerOffset","../function/outerOffset","../function/pageScrollLeft","../function/pageScrollTop","../function/viewportWidth","../function/viewportHeight","../function/enableSelection","../function/disableSelection","../util/life","../util/touch","../util/instance"],function(require,exports,module){"use strict";function e(e){m.init(this,e)}function t(e,t,n){var i=!1;if($.isArray(t))t=t.join(",");return e.find(t).each(function(){if(i=r(this,n))return!1;else return void 0}),i}var n=require("../function/page"),i=require("../function/restrain"),o=require("../function/position"),r=require("../function/contains"),a=require("../function/innerOffset"),u=require("../function/outerOffset"),s=require("../function/pageScrollLeft"),l=require("../function/pageScrollTop"),c=require("../function/viewportWidth"),f=require("../function/viewportHeight"),p=require("../function/enableSelection"),d=require("../function/disableSelection"),m=require("../util/life"),h=require("../util/touch"),v=require("../util/instance").body,g=e.prototype;g.type="Draggable",g.init=function(){var e=this,i=e.option("mainElement");i.css(o(i)),e.inner({main:i});var m=e.option("containerElement"),h=n(),g=m||h,C=e.option("draggingClass"),A=e.option("containerDraggingClass"),T=e.option("bodyDraggingClass")||"dragging",k=function(n,p){var d=e.option("handleSelector"),h=e.option("cancelSelector"),v=n.target;if(!(d&&!t(i,d,v)||h&&t(i,h,v))){var C,A=o(i);if($.each(E,function(e,t){if(0===n.type.indexOf(e))return C=t,!1;else return void 0}),!C)e.error("event["+type+"] is not supported.");var T,k,D=u(i),O=a(g);if(p)T=p.x,k=p.y;else T=C.absoluteX(n)-D.x,k=C.absoluteY(n)-D.y;var q=r(g,i);if(q)T+=O.x,k+=O.y;w.left=A.left,w.top=A.top;var I,R,U=q?0:O.x,_=q?0:O.y,L="fixed"===A.position,N=f();if(L)U-=s(),_-=l(),I=m?m.innerWidth():c(),R=m?m.innerHeight():N;else I=g.innerWidth(),R=g.innerHeight();if(g.is("body")||g.is("html"))if(N>R)R=N;I=Math.max(0,I-i.outerWidth(!0)),R=Math.max(0,R-i.outerHeight(!0)),console.log(U,_,I,R);var P=e.option("axis");return x="y"===P?S.constant(A.left):S.variable(C[L?"fixedX":"absoluteX"],T,U,U+I),y="x"===P?S.constant(A.top):S.variable(C[L?"fixedY":"absoluteY"],k,_,_+R),b=0,!0}},D=function(t){var n=x(t),o=y(t);if(w.left!==n||w.top!==o){if(w.left=n,w.top=o,1===++b){if(d(),C)i.addClass(C);if(A)m.addClass(A);if(T)v.addClass(T);e.emit("beforedrag",w)}e.execute("dragAnimation",{mainElement:i,mainStyle:w}),e.emit("drag",w)}},O=function(t){if(p(),C)i.removeClass(C);if(A)m.removeClass(A);if(T)v.removeClass(T);if(b>0)e.emit("afterdrag",w);b=x=y=null};e.execute("bind",{mainElement:i,containerElement:m,namespace:e.namespace(),downHandler:k,moveHandler:D,upHandler:O})},g.dispose=function(){var e=this;m.dispose(e),e.inner("main").off(e.namespace())},m.extend(g);var x,y,b,w={},S={constant:function(e){return function(){return e}},variable:function(e,t,n,o){return function(r){return i(e(r)-t,n,o)}}},E={};return $.each(h,function(e,t){if(t.support)E[e]={absoluteX:function(e){return t.client(e).x+s()},absoluteY:function(e){return t.client(e).y+l()},fixedX:function(e){return t.client(e).x},fixedY:function(e){return t.client(e).y}}}),e}),define("cc/helper/FlashUploader",["require","exports","module","../function/ucFirst","../function/ratio","../util/life","../util/supload/supload"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("../function/ucFirst"),n=require("../function/ratio"),i=require("../util/life");require("../util/supload/supload");var o=window.Supload,r=e.prototype;r.type="FlashUploader",r.init=function(){var e=this,n=e.option("mainElement"),i={element:n[0],flashUrl:e.option("flashUrl"),action:e.option("action"),accept:e.option("accept"),multiple:e.option("multiple"),data:e.option("data"),fileName:e.option("fileName"),ignoreError:e.option("ignoreError"),customSettings:{uploader:e}};$.each(a,function(e,n){i["on"+t(e)]=n}),e.inner({supload:new o(i)})},r.getFiles=function(){return this.inner("supload").getFiles()},r.setAction=function(e){this.inner("supload").setAction(e)},r.setData=function(e){this.inner("supload").setData(e)},r.reset=function(){this.inner("supload").reset()},r.upload=function(){this.inner("supload").upload()},r.stop=function(){this.inner("supload").cancel()},r.enable=function(){this.inner("supload").enable()},r.disable=function(){this.inner("supload").disable()},r.dispose=function(){var e=this;i.dispose(e),e.inner("supload").dispose()},i.extend(r),e.STATUS_WAITING=o.STATUS_WAITING,e.STATUS_UPLOADING=o.STATUS_UPLOADING,e.STATUS_UPLOAD_SUCCESS=o.STATUS_UPLOAD_SUCCESS,e.STATUS_UPLOAD_ERROR=o.STATUS_UPLOAD_ERROR,e.ERROR_CANCEL=o.ERROR_CANCEL,e.ERROR_SECURITY=o.ERROR_SECURITY,e.ERROR_IO=o.ERROR_IO;var a={ready:function(){var e=this.customSettings.uploader;e.emit("ready")},fileChange:function(){var e=this.customSettings.uploader;e.emit("filechange")},uploadStart:function(e){var t=this.customSettings.uploader;t.emit("uploadstart",e)},uploadProgress:function(e){var t=this.customSettings.uploader;e.percent=100*n(e.uploaded,e.total)+"%",t.emit("uploadprogress",e)},uploadSuccess:function(e){var t=this.customSettings.uploader;t.emit("uploadsuccess",e)},uploadError:function(e){var t=this.customSettings.uploader;t.emit("uploaderror",e)},uploadComplete:function(e){var t=this.customSettings.uploader;t.emit("uploadcomplete",e)}};return e}),define("cc/helper/Input",["require","exports","module","../function/toString","../util/life","../util/input","../util/keyboard","./Keyboard"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/toString"),n=require("../util/life"),i=require("../util/input"),o=require("../util/keyboard"),r=require("./Keyboard"),a=e.prototype;return a.type="Input",a.init=function(){var e=this,t=e.option("mainElement");i.init(t);var n,a=new r({watchElement:t,shortcut:e.option("shortcut")}),u=function(t,n){e.emit(t,n)},s=function(n){if(null==n)n=t.val();e.set("value",n)};a.on("keydown",u).on("keyup",u).before("longpress",function(e,t){n=!0,u(e,t)}).after("longpress",function(e,t){if(n=!1,o.isCharKey(t.keyCode)||o.isDeleteKey())s();u(e,t)}),t.on("input"+e.namespace(),function(){if(!n||!e.option("silentOnLongPress"))s()}),e.inner({keyboard:a,main:t}),s(e.option("value"))},a.dispose=function(){var e=this;n.dispose(e);var t=e.inner("main");t.off(e.namespace()),i.dispose(t),e.inner("keyboard").dispose()},n.extend(a),e.propertyUpdater={value:function(e){this.inner("main").val(e)}},e.propertyValidator={value:function(e){return t(e)}},e}),define("cc/helper/Iterator",["require","exports","module","../function/toNumber","../util/timer","../util/life"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("../function/toNumber"),n=require("../util/timer"),i=require("../util/life"),o=e.prototype;return o.init=function(){var e=this;e.set({index:e.option("index"),minIndex:e.option("minIndex"),maxIndex:e.option("maxIndex")})},o.start=function(e){var t=this,i=t.inner("timer");if(i)i.stop();var o=e?t.prev:t.next,r=t.option("interval");i=n($.proxy(o,t),r,r),i.start(),t.inner("timer",i)},o.pause=function(){var e=this;e.inner("timer").stop(),e.inner("timer",null)},o._pause=function(){if(!this.inner("timer"))return!1;else return void 0},o.stop=function(){var e=this;e.pause(),e.set("index",e.option("defaultIndex"))},o.prev=function(){var e=this,n=e.get("index")-e.option("step"),i=e.get("minIndex"),o=e.get("maxIndex");if(!$.isNumeric(n)||i>n||n>o)n=o;e.set("index",t(n,0),{action:"prev"})},o._prev=function(){var e=this;if(e.get("index")-e.option("step")<e.get("minIndex"))if(!e.option("loop"))return!1},o.next=function(){var e=this,n=e.get("index")+e.option("step"),i=e.get("minIndex"),o=e.get("maxIndex");if(!$.isNumeric(n)||n>o||i>n)n=i;e.set("index",t(n,0),{action:"next"})},o._next=function(){var e=this;if(e.get("index")+e.option("step")>e.get("maxIndex"))if(!e.option("loop"))return!1},o.dispose=o.stop,i.extend(o),e.propertyValidator={index:function(e){if(e=t(e,null),null==e)e=this.option("defaultIndex");return e}},e}),define("cc/helper/Keyboard",["require","exports","module","../function/split","../util/life","../util/keyboard"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}function t(e){var t=[];return $.each(e,function(e,i){var r=[],a="plus",u=n(e.replace(/\$\+/g,a),"+");if($.each(o.combinationKey,function(e){if($.inArray(e,u)<0)u.push("!"+e)}),$.each(u,function(e,t){var n=0===t.indexOf("!");if(n)t=t.substr(1);if(t===a)t="$+";if(o.combinationKey[t])r.push((n?"!":"")+"e."+t+"Key");else if(o[t])r.push("e.keyCode==="+o[t]);else return r.length=0,!1}),r.length>0)t.push({test:new Function("e","return "+r.join("&")),handler:i})}),t}var n=require("../function/split"),i=require("../util/life"),o=require("../util/keyboard"),r=e.prototype;return r.type="Keyboard",r.init=function(){var e=this,n=e.option("shortcut");if($.isPlainObject(n))n=t(n);var i,o=0,r=1,a=function(){return o>r},u=e.namespace();e.option("watchElement").on("keydown"+u,function(t){var u=t.keyCode;if(i===u&&o>0){if(o===r)e.emit("beforelongpress",{keyCode:u});o++}else i=u,o=1;if(e.emit(t),n){var s={isLongPress:a()},l=[t,s];$.each(n,function(n,i){if(i.test(t))e.execute(i.handler,l)})}}).on("keyup"+u,function(t){if(a())e.emit("afterlongpress",{keyCode:t.keyCode});o=0,i=null,e.emit(t)})},r.dispose=function(){var e=this;i.dispose(e),e.option("watchElement").off(e.namespace())},i.extend(r),e}),define("cc/helper/Placeholder",["require","exports","module","../function/isHidden","../function/toString","../util/life","../util/input","../util/detection"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}function t(e,t){var n=e.inner("proxy"),i=n[t];if(i)return i(e);else return void 0}var n=require("../function/isHidden"),i=require("../function/toString"),o=require("../util/life"),r=require("../util/input"),a=require("../util/detection"),u=e.prototype;u.type="Placeholder",u.init=function(){var e=this;e.initStruct(),e.inner({proxy:e.option("nativeFirst")&&a.supportPlaceholder()?s:l}),t(e,"init"),e.set({value:e.option("value")}),e.state({hidden:e.option("hidden")})},u.show=function(){this.state("hidden",!1)},u._show=function(){if(!this.is("hidden"))return!1;else return void 0},u.hide=function(){this.state("hidden",!0)},u._hide=function(){if(this.is("hidden"))return!1;else return void 0},u.render=function(){t(this,"render")},u.dispose=function(){t(this,"dispose"),o.dispose(this)},o.extend(u),e.propertyUpdater={value:function(){this.render()}},e.propertyValidator={value:function(e){if(e=i(e,null),null==e)e=this.inner("input").attr("placeholder");return e||""}},e.stateUpdater={hidden:function(e){t(this,e?"hide":"show")}},e.stateValidator={hidden:function(e){if("boolean"!==$.type(e))e=t(this,"isHidden");return e}};var s={init:function(e){var t=e.option("mainElement");e.inner({main:t,input:t})},render:function(e){e.inner("input").attr("placeholder",e.get("value"))},isHidden:function(e){return e.inner("input").val().length>0}},l={init:function(e){var t=e.option("mainElement"),n=t.find(e.option("inputSelector"));e.inner({main:t,input:n,label:t.find(e.option("labelSelector"))}),r.init(n),n.on("input"+e.namespace(),function(){var t=$.trim(n.val()).length>0;if(t!==e.is("hidden"))if(t)e.hide();else e.show()})},show:function(e){e.execute("showAnimation",{labelElement:e.inner("label")})},hide:function(e){e.execute("hideAnimation",{labelElement:e.inner("label")})},render:function(e){var t=e.inner("input");t.removeAttr("placeholder"),e.inner("label").html(e.get("value"))},dispose:function(e){var t=e.inner("input");r.dispose(t),t.off(e.namespace())},isHidden:function(e){return n(e.inner("label"))}};return e}),define("cc/helper/Popup",["require","exports","module","../function/isHidden","../function/contains","../function/nextTick","../util/life","../util/trigger","../util/instance"],function(require,exports,module){"use strict";function e(e){p.init(this,e)}function t(e,t){return function(n){if($.isFunction(t))if(!t.call(this,n))return;e.open(n)}}function n(e,t){return function(n){if($.isFunction(t))if(!t.call(this,n))return;e.close(n)}}function i(e,t){e.option("triggerElement").on(t.type,e.option("triggerSelector"),t.handler)}function o(e,t){e.option("triggerElement").off(t.type,t.handler)}function r(e,t){m.document.on(t.type,t.handler)}function a(e,t){m.document.off(t.type,t.handler)}function u(e){return n(e,function(t){return!c(e.option("layerElement"),t.target)})}function s(e){if(e)return e.currentTarget;else return void 0}var l=require("../function/isHidden"),c=require("../function/contains"),f=require("../function/nextTick"),p=require("../util/life"),d=require("../util/trigger"),m=require("../util/instance"),h=e.prototype;h.type="Popup",h.init=function(){var e=this;if(!e.option("triggerElement"))e.option("triggerElement",$({}));var t=function(t,n){if($.isFunction(t[n]))return t[n](e);else return void 0},n=d.parse(e.option("showLayerTrigger"),function(n){var i=b.show[n];return{delay:e.option("showLayerDelay"),startDelay:t(i,"startDelay"),endDelay:t(i,"endDelay"),handler:t(i,"handler")}}),i=d.parse(e.option("hideLayerTrigger"),function(n){var i=b.hide[n];return{delay:e.option("hideLayerDelay"),startDelay:t(i,"startDelay"),endDelay:t(i,"endDelay"),handler:t(i,"handler")}}),o=function(t){$.each(n,function(n,i){b.show[n][t](e,i)})},r=function(t){$.each(i,function(n,i){b.hide[n][t](e,i)})},a=!1,u=!1,s=function(){if(!a)o("on"),a=!0},l=function(){if(a)o("off"),a=!1},c=function(){if(!u)r("on"),u=!0},f=function(){if(u)r("off"),u=!1},p=function(t,n){var i=n.opened;if(i)if(i.newValue){if(!e.option("triggerSelector"))l();setTimeout(c)}else f(),s()},m=e.option("context")||e;m.before("dispose",function(){m.off("statechange",p),l(),f(),e.close()}).on("statechange",p),e.state({opened:e.option("opened")})},h.open=function(){this.state("opened",!0)},h._open=function(e){var t=this;if(t.is("opened")){var n=t.option("layerElement"),i=s(e),o=n.data(g);if(i&&o&&i!==o)n.data(v).close(),f(function(){t.open(e)});return!1}},h.open_=function(e){var t=this,n=t.option("layerElement"),i={};i[g]=s(e),i[v]=t,n.data(i)},h.close=function(){this.state("opened",!1)},h._close=function(){if(!this.is("opened"))return!1;else return void 0},h.close_=function(){this.option("layerElement").removeData(v).removeData(g)},h.dispose=function(){p.dispose(this)},p.extend(h),e.stateUpdater={opened:function(e){this.execute(e?"showLayerAnimation":"hideLayerAnimation",{layerElement:this.option("layerElement")})}},e.stateValidator={opened:function(e){if("boolean"!==$.type(e))e=!l(this.option("layerElement"));return e}};var v="__prev_popup__",g="__trigger_element__",x=d.enter.type,y=d.leave.type,b={show:{focus:{on:i,off:o,handler:t},click:{on:i,off:o,handler:t},enter:{on:i,off:o,handler:t,startDelay:function(e){return function(t){e.option("triggerElement").on(y,e.option("triggerSelector"),t)}},endDelay:function(e){return function(t){e.option("triggerElement").off(y,t)}}},context:{on:i,off:o,handler:t}},hide:{blur:{on:i,off:o,handler:n},click:{on:r,off:a,handler:u},leave:{on:function(e,t){e.option("triggerElement").on(t.type,e.option("triggerSelector"),t.handler),e.option("layerElement").on(t.type,t.handler)},off:function(e,t){e.option("triggerElement").off(t.type,t.handler),e.option("layerElement").off(t.type,t.handler)},handler:n,startDelay:function(e){return function(t){e.option("triggerElement").on(x,e.option("triggerSelector"),t),e.option("layerElement").on(x,t)}},endDelay:function(e){return function(t){e.option("triggerElement").off(x,t),e.option("layerElement").off(x,t)}}},context:{on:r,off:a,handler:u}}};return e}),define("cc/helper/Switchable",["require","exports","module","../function/toNumber","../util/life","../util/trigger"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/toNumber"),n=require("../util/life"),i=require("../util/trigger"),o=e.prototype;o.type="Switchable",o.init=function(){var e=this,t=e.option("mainElement"),n=e.option("itemSelector");if(n){var o=function(t,n){if($.isFunction(t[n]))return t[n](e);else return void 0};$.each(i.parse(e.option("switchTrigger"),function(t){var n=r[t];return{delay:e.option("switchDelay"),startDelay:o(n,"startDelay"),endDelay:o(n,"endDelay"),handler:o(n,"handler")}}),function(i,o){t.on(o.type+e.namespace(),n,o.handler)})}e.inner({main:t}),e.set({index:e.option("index")})},o.dispose=function(){var e=this;n.dispose(e),e.inner("main").off(e.namespace())},n.extend(o),e.propertyValidator={index:function(e){var n=this;if(e=t(e,null),null==e){var i=n.option("itemSelector"),o=n.option("itemActiveClass");if(i&&o){var r=n.inner("main");e=r.find(i).index(r.find("."+o))}}if(!$.isNumeric(e))n.error("index must be a number.");return e}};var r={enter:{startDelay:function(e){return function(t){e.inner("main").on(i.leave.type,e.option("itemSelector"),t)}},endDelay:function(e){return function(t){e.inner("main").off(i.leave.type,t)}}},click:{}};return r.enter.handler=r.click.handler=function(e){return function(){var t=e.option("itemSelector"),n=e.inner("main").find(t);e.set("index",n.index(this))}},e}),define("cc/helper/Wheel",["require","exports","module","../util/life"],function(require,exports,module){"use strict";function e(e){t.init(this,e)}var t=require("../util/life"),n=e.prototype;n.type="Wheel",n.init=function(){var e=this;e.option("watchElement").on(i+e.namespace(),function(t){var n,i=t.originalEvent,o=i.wheelDelta;if(o%120===0)n=-o/120;else if(o%3===0)n=-o/3;else if(i.detail%3===0)n=-i.detail/3;else n=i.delta||0;t.type="wheel",e.emit(t,{delta:n})})},n.dispose=function(){var e=this;t.dispose(e),e.option("watchElement").off(e.namespace())},t.extend(n);var i="onmousewheel"in document.body?"mousewheel":"DOMMouseScroll";return e}),define("cc/main",["require","exports","module","./form/Box","./form/BoxGroup","./form/Date","./form/Number","./form/Select","./form/Text","./form/Validator","./helper/AjaxUploader","./helper/DOMIterator","./helper/Draggable","./helper/FlashUploader","./helper/Input","./helper/Iterator","./helper/Keyboard","./helper/Placeholder","./helper/Popup","./helper/Switchable","./helper/Wheel","./ui/AutoComplete","./ui/Calendar","./ui/Carousel","./ui/ComboBox","./ui/ContextMenu","./ui/Dialog","./ui/Pager","./ui/Rater","./ui/ScrollBar","./ui/Slider","./ui/SpinBox","./ui/Tab","./ui/Tooltip","./ui/Tree","./ui/Uploader","./ui/Zoom","./util/browser","./util/cookie","./util/detection","./util/etpl","./util/FiniteArray","./util/fullScreen","./util/input","./util/instance","./util/json","./util/keyboard","./util/life","./util/localStorage","./util/Message","./util/mimeType","./util/orientation","./util/position","./util/Queue","./util/Range","./util/redirect","./util/string","./util/swipe","./util/time","./util/timer","./util/touch","./util/trigger","./util/url","./util/visibility","./util/supload/supload"],function(require,exports,module){"use strict";require("./form/Box"),require("./form/BoxGroup"),require("./form/Date"),require("./form/Number"),require("./form/Select"),require("./form/Text"),require("./form/Validator"),require("./helper/AjaxUploader"),require("./helper/DOMIterator"),require("./helper/Draggable"),require("./helper/FlashUploader"),require("./helper/Input"),require("./helper/Iterator"),require("./helper/Keyboard"),require("./helper/Placeholder"),require("./helper/Popup"),require("./helper/Switchable"),require("./helper/Wheel"),require("./ui/AutoComplete"),require("./ui/Calendar"),require("./ui/Carousel"),require("./ui/ComboBox"),require("./ui/ContextMenu"),require("./ui/Dialog"),require("./ui/Pager"),require("./ui/Rater"),require("./ui/ScrollBar"),require("./ui/Slider"),require("./ui/SpinBox"),require("./ui/Tab"),require("./ui/Tooltip"),require("./ui/Tree"),require("./ui/Uploader"),require("./ui/Zoom"),require("./util/browser"),require("./util/cookie"),require("./util/detection"),require("./util/etpl"),require("./util/FiniteArray"),require("./util/fullScreen"),require("./util/input"),require("./util/instance"),require("./util/json"),require("./util/keyboard"),require("./util/life"),require("./util/localStorage"),require("./util/Message"),require("./util/mimeType"),require("./util/orientation"),require("./util/position"),require("./util/Queue"),require("./util/Range"),require("./util/redirect"),require("./util/string"),require("./util/swipe"),require("./util/time"),require("./util/timer"),require("./util/touch"),require("./util/trigger"),require("./util/url"),require("./util/visibility"),require("./util/supload/supload")}),define("cc/ui/AutoComplete",["require","exports","module","../function/contains","../function/autoScrollUp","../function/autoScrollDown","../helper/Input","../helper/Popup","../helper/DOMIterator","../util/life"],function(require,exports,module){"use strict";function e(e){u.init(this,e)}var t=require("../function/contains"),n=require("../function/autoScrollUp"),i=require("../function/autoScrollDown"),o=require("../helper/Input"),r=require("../helper/Popup"),a=require("../helper/DOMIterator"),u=require("../util/life"),s=e.prototype;s.type="AutoComplete",s.init=function(){var e,u=this,s=u.option("inputElement"),p=u.option("menuElement"),d=u.option("autoScroll"),m=u.option("itemSelector"),h=u.option("itemActiveClass"),v=[{element:s,data:{text:s.val()}}],g=function(e,t){var n=v[e];if(n)t(n.element,n.data)},x=new a({watchElement:s,minIndex:u.option("includeInput")?0:1,defaultIndex:0,step:1,loop:!0,prevKey:"up",nextKey:"down",interval:u.option("interval"),propertyChange:{index:function(t,o,r){var a=r.index.action;g(e,function(e){if(h&&e[0]!==s[0])e.removeClass(h)}),e=t,g(e,function(e,t){if(h&&e[0]!==s[0])e.addClass(h);if(f[a])s.val(t.text);if(d){var o="prev"===a?n:i;o(p,e)}})}}}),y={enter:function(t,n){if(!n.isLongPress){if(u.is("opened"))u.close();g(e,function(e,t){u.emit("enter",t)})}}},b=function(){u.execute("load",[$.trim(v[0].data.text),function(e,t){if(t)u.set("data",t),u.open();else u.close()}])},w=new o({mainElement:s,silentOnLongPress:!0,shortcut:y,propertyChange:{value:function(e){v[0].data.text=e,b()}}}),S=new r({triggerElement:s,layerElement:p,showLayerTrigger:u.option("showMenuTrigger"),showLayerDelay:u.option("showMenuDelay"),hideLayerTrigger:u.option("hideMenuTrigger"),hideLayerDelay:u.option("hideMenuDelay"),showLayerAnimation:function(){u.execute("showMenuAnimation",{menuElement:p})},hideLayerAnimation:function(){u.execute("hideMenuAnimation",{menuElement:p})},stateChange:{opened:function(e){u.state("opened",e)}}}),E=function(e,t){if(t&&t.event)u.emit(e,t)};S.before("open",E).after("open",E).before("close",E).after("close",E),u.before("open",function(e,n){var i=n&&n.event;if(i){var o=i.target;if(t(s,o))return b(),!1}}).after("open",function(e,t){x.set("maxIndex",v.length-1)}).before("close",function(e,n){var i=n&&n.event;if(i){var o=i.target;if(t(s,o)||t(p,o))return!1}}).after("close",function(t,n){x.stop(),x.set("maxIndex",0),e=0,A=null}).before("render",function(){x.stop()}).after("render",function(){v.length=1;var e=v.length-1;p.find(m).each(function(){var t=$(this),n=t.data();if(null==n.text)n.text=t.html();e++,v[e]={element:t,data:n},t.data(l,e)});var t={maxIndex:e};if(h){var n=p.find("."+h);if(1===n.length){var i=n.data(l);g(i,function(){t.index=i})}}x.set(t)});var C,A,T=u.namespace();p.on("scroll"+T,function(){if(C)clearTimeout(C);C=setTimeout(function(){C=null},500)}).on("click"+T,m,function(){var e=$(this).data(l);g(e,function(t,n){x.set("index",e,{action:c,force:!0}),u.close(),u.emit("select",n)})}).on("mouseenter"+T,m,function(){if(!C){A=$(this);var e=A.data(l);g(e,function(){x.set("index",e),x.sync()})}}).on("mouseleave"+T,m,function(){if(!C)if(A){if(A[0]===this)x.set("index",x.option("defaultIndex")),x.sync();A=null}}),u.inner({iterator:x,input:w,popup:S})},s.render=function(){var e=this;e.renderWith(e.get("data"),e.option("menuTemplate"),e.option("menuElement"))},s._render=function(){if(!this.get("data"))return!1;else return void 0},s.open=function(){this.state("opened",!0)},s._open=function(){if(this.is("opened"))return!1;else return void 0},s.close=function(){this.state("opened",!1)},s._close=function(){if(!this.is("opened"))return!1;else return void 0},s.dispose=function(){var e=this;u.dispose(e),e.inner("iterator").dispose(),e.inner("input").dispose(),
e.inner("popup").dispose(),e.option("menuElement").off(e.namespace())},u.extend(s),e.propertyUpdater={data:function(){this.render()}},e.stateUpdater={opened:function(e){this.inner("popup").state("opened",e)}};var l="__index__",c="click",f={prev:1,next:1};return f[c]=1,e}),define("cc/ui/Calendar",["require","../function/split","../function/values","../function/weekOffset","../function/monthOffset","../function/weekFirst","../function/weekLast","../function/monthFirst","../function/monthLast","../function/parseDate","../function/simplifyDate","../util/life"],function(require){"use strict";function e(e){m.init(this,e)}function t(e,t,n,i){for(var o,r=[],a=e;t>=a;a+=x){if(o=d(a),a>n)o.phase="future";else if(n>a)o.phase="past";else o.phase="today";if($.inArray(a,i)>=0)o.active=!0;r.push(o)}return r}function n(e,t){var n=e.get("date");n=e.option("mode")===g?a(n,t):u(n,t),e.set({date:n,data:e.createRenderData(n)})}function i(e){return e.setHours(0,0,0,0)}var o=require("../function/split"),r=require("../function/values"),a=require("../function/weekOffset"),u=require("../function/monthOffset"),s=require("../function/weekFirst"),l=require("../function/weekLast"),c=require("../function/monthFirst"),f=require("../function/monthLast"),p=require("../function/parseDate"),d=require("../function/simplifyDate"),m=require("../util/life"),h=e.prototype;h.type="Calendar",h.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n="click"+e.namespace(),i=e.option("itemSelector");if(i){var r=e.option("valueAttribute");if(!r)e.error("valueAttribute is missing.");t.on(n,i,function(t){var n=$(this).attr(r);if(!n)e.error("value is not found by valueAttribute.");var i=e.get("value"),a=e.inner("values")(n,!0),u=o(i,",").length,s=o(a,",").length;t.type=u>s?"unselect":"select",e.emit(t,{value:n}),e.set("value",a)})}var a=e.option("prevSelector");if(a)t.on(n,a,$.proxy(e.prev,e));var u=e.option("nextSelector");if(u)t.on(n,u,$.proxy(e.next,e));e.inner({main:t});var s=e.option("today")||new Date;e.set({today:s,date:e.option("date")||s,value:e.option("value")})},h.prev=function(){n(this,-1)},h.next=function(){n(this,1)},h.inRange=function(e){var t=this.get("data");return t&&e>=p(t.start)&&e<p(t.end).getTime()+x},h.createRenderData=function(e){var n,r,a=this,u=a.option("firstDay"),p=a.option("mode")===v;if(p)n=s(c(e),u),r=l(f(e),u);else n=s(e,u),r=l(e,u);if(n=i(n),r=i(r),p&&a.option("stable")){var m=r-n,h=y-m;if(h>0)r+=h}var g=[];$.each(o(a.get("value"),","),function(e,t){if(t){var n=a.execute("parse",t);if(n)g.push(i(n))}});var x=t(n,r,i(a.get("today")),g);return $.extend(d(e),{start:x[0],end:x[x.length-1],list:x})},h.render=function(){this.renderWith(this.get("data"))},h._render=function(){if(!this.get("data"))return!1;else return void 0},h.dispose=function(){var e=this;m.dispose(e),e.inner("main").off(e.namespace())},m.extend(h),e.propertyUpdater={},e.propertyUpdater.data=e.propertyUpdater.date=e.propertyUpdater.value=function(e,t,n){var i,r=this;if(n.date){var a=n.date.newValue;if(!r.inRange(a))i=!0,r.set("data",r.createRenderData(a),{silent:!0})}if(!i&&n.data)i=!0;if(i)r.render();if(i||n.value){var u=r.option("valueAttribute"),s=r.option("itemActiveClass");if(u&&s){var l=r.inner("main");l.find("."+s).removeClass(s),$.each(o(r.get("value"),","),function(e,t){if(t)l.find("["+u+'="'+t+'"]').addClass(s)})}}},e.propertyValidator={value:function(e){var t=this,n=r(e,t.option("multiple"),t.option("toggle"));return this.inner("values",n),n()}};var v="month",g="week",x=864e5,y=41*x;return e}),define("cc/ui/Carousel",["require","exports","module","../function/toNumber","../helper/Switchable","../helper/Iterator","../util/life"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}var t=require("../function/toNumber"),n=require("../helper/Switchable"),i=require("../helper/Iterator"),o=require("../util/life"),r=e.prototype;return r.type="Carousel",r.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),o=e.namespace(),r="click"+o,a=e.option("prevSelector");if(a)t.on(r,a,$.proxy(e.prev,e));var u=e.option("nextSelector");if(u)t.on(r,u,$.proxy(e.next,e));var s=e.option("itemSelector");if(e.option("autoplay")&&e.option("pauseOnHover"))t.on("mouseenter"+o,s,$.proxy(e.pause,e)).on("mouseleave"+o,s,$.proxy(e.play,e));var l,c=e.option("navTrigger"),f=e.option("navSelector"),p=e.option("navActiveClass");if(c&&f)l=new n({mainElement:t,switchTrigger:c,switchDelay:e.option("navDelay"),itemSelector:f,itemActiveClass:p,propertyChange:{index:function(t,n){e.set("index",t,{action:c})}}});var d=new i({index:e.option("index"),minIndex:e.option("minIndex"),maxIndex:e.option("maxIndex"),interval:e.option("interval"),step:e.option("step"),loop:e.option("loop"),propertyChange:{index:function(n,i,o){if(e.set("index",n,o.index),l)e.execute("navAnimation",{mainElement:t,navSelector:f,navActiveClass:p,fromIndex:i,toIndex:n});e.execute("itemAnimation",{mainElement:t,itemSelector:s,itemActiveClass:e.option("itemActiveClass"),fromIndex:i,toIndex:n})},minIndex:function(t){e.set("minIndex",t)},maxIndex:function(t){e.set("maxIndex",t)}}});e.inner({main:t,switcher:l,iterator:d})},r.prev=function(){this.inner("iterator").prev()},r.next=function(){this.inner("iterator").next()},r.play=function(){this.inner("iterator").start(this.option("reverse"))},r.pause=function(){this.inner("iterator").pause()},r.dispose=function(){var e=this;o.dispose(e),e.inner("iterator").dispose();var t=e.inner("switcher");if(t)t.dispose();e.inner("main").off(e.namespace())},o.extend(r),e.propertyUpdater={index:function(e){var t=this;t.inner("iterator").set("index",e);var n=t.inner("switcher");if(n)n.set("index",e);if(t.option("autoplay"))t.play()},minIndex:function(e){this.inner("iterator").set("minIndex",e)},maxIndex:function(e){this.inner("iterator").set("maxIndex",e)}},e.propertyValidator={minIndex:function(e){return t(e,0)},maxIndex:function(e){if(e=t(e,null),null==e){var n=this,i=n.inner("main").find(n.option("itemSelector"));e=i.length-1}return e}},e}),define("cc/ui/ComboBox",["require","exports","module","../function/toString","../helper/Popup","../util/life"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("../function/toString"),n=require("../helper/Popup"),i=require("../util/life"),o=e.prototype;return o.type="ComboBox",o.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),i=e.option("buttonElement"),o=e.option("menuElement"),r=new n({triggerElement:i,layerElement:o,showLayerTrigger:e.option("showMenuTrigger"),showLayerDelay:e.option("showMenuDelay"),hideLayerTrigger:e.option("hideMenuTrigger"),hideLayerDelay:e.option("hideMenuDelay"),showLayerAnimation:function(t){e.execute("showMenuAnimation",{menuElement:o})},hideLayerAnimation:function(t){e.execute("hideMenuAnimation",{menuElement:o})},stateChange:{opened:function(t){e.state("opened",t)}}}),a=function(t,n){if(n&&n.event)e.emit(t,n)};r.before("open",a).after("open",a).before("close",a).after("close",a);var u=e.option("menuActiveClass");if(u){var s=t||i;e.after("open",function(){s.addClass(u)}).after("close",function(){s.removeClass(u)})}var l=e.option("itemSelector");if(!l)e.error("itemSelector is missing.");var c=e.option("valueAttribute");if(!c)e.error("valueAttribute is missing.");o.on("click"+e.namespace(),l,function(t){var n=$(this).attr(c);if("string"!==$.type(n))e.error("value is not found by valueAttribute.");e.set("value",n),e.close(),t.type="select",e.emit(t)}),e.inner({main:t,popup:r}),e.set({data:e.option("data"),value:e.option("value")})},o.render=function(){var e=this;e.renderWith(e.get("data"),e.option("menuTemplate"),e.option("menuElement"))},o._render=function(){if(!this.get("data"))return!1;else return void 0},o.open=function(){this.state("opened",!0)},o._open=function(){if(this.is("opened"))return!1;else return void 0},o.close=function(){this.state("opened",!1)},o._close=function(){if(!this.is("opened"))return!1;else return void 0},o.dispose=function(){var e=this;i.dispose(e),e.inner("popup").dispose(),e.option("menuElement").off(e.namespace())},i.extend(o),e.propertyUpdater={},e.propertyUpdater.data=e.propertyUpdater.value=function(e,n,i){var o=this,r=o.option("menuElement"),a=o.option("itemActiveClass"),u=o.option("textAttribute"),s=o.option("valueAttribute");if(i.data)this.render();else if(i.value&&a)r.find("."+a).removeClass(a);var l,c=t(o.get("value"),null);if(null!=c&&""!==c){var f=r.find("["+s+"="+c+"]");switch(f.length){case 1:if(a)f.addClass(a);if(l=f.attr(u),null==l)l=f.html();break;case 0:o.error("value is not found by valueAttribute.");break;default:o.error("value repeated.")}}o.execute("setText",{buttonElement:o.option("buttonElement"),text:l||o.option("defaultText")})},e.propertyValidator={value:function(e){var t=this,n=t.option("itemActiveClass");if(null==e&&n){var i=t.option("menuElement").find("."+n);if(1===i.length)e=i.attr(t.option("valueAttribute"))}return e}},e.stateUpdater={opened:function(e){this.inner("popup").state("opened",e)}},e}),define("cc/ui/ContextMenu",["require","exports","module","../function/pin","../function/eventPage","../helper/Popup","../util/instance","../util/life"],function(require,exports,module){"use strict";function e(e){r.init(this,e)}var t=require("../function/pin"),n=require("../function/eventPage"),i=require("../helper/Popup"),o=require("../util/instance"),r=require("../util/life"),a=e.prototype;a.type="ContextMenu",a.init=function(){var e=this;e.initStruct();var r,a=e.option("mainElement"),s=e.namespace(),l=e.option("action");if(l)$.each(l,function(t,n){a.on("click"+s,t,function(){e.execute(n,r)})});var c=new i({layerElement:a,hideLayerTrigger:e.option("hideTrigger"),hideLayerDelay:e.option("hideDelay"),showLayerAnimation:function(){e.execute("showAnimation",{mainElement:a})},hideLayerAnimation:function(){e.execute("hideAnimation",{mainElement:a})},stateChange:{opened:function(t){e.state("hidden",!t)}}}),f=function(t,n,i){if(i&&i.event)t.type=n,e.emit(t,i)};c.before("open",function(e,t){f(e,"beforeshow",t)}).after("open",function(e,t){f(e,"aftershow",t)}).before("close",function(e,t){f(e,"beforehide",t)}).after("close",function(e,t){f(e,"afterhide",t)}),e.inner({popup:c,main:a}),e.option("watchElement").on("contextmenu"+s,function(i){if(u)u.hide();r=i,u=e,u.show();var s=n(i);return t({element:a,x:0,y:0,attachment:{element:o.body,x:s.x,y:s.y}}),!1})},a.show=function(){this.state("hidden",!1)},a._show=function(){if(!this.is("hidden"))return!1;else return void 0},a.hide=function(){this.state("hidden",!0)},a._hide=function(){if(this.is("hidden"))return!1;else return void 0},a.dispose=function(){var e=this;if(r.dispose(e),e.inner("popup").dispose(),e.option("watchElement").off(e.namespace()),u===e)u=null},r.extend(a),e.stateUpdater={hidden:function(e){var t=this.inner("popup");if(e)t.close();else t.open()}};var u;return e}),define("cc/ui/Dialog",["require","exports","module","../function/debounce","../function/pageWidth","../function/pageHeight","../function/pinGlobal","../function/dragGlobal","../util/life","../util/instance"],function(require,exports,module){"use strict";function e(e){a.init(this,e)}var t=require("../function/debounce"),n=require("../function/pageWidth"),i=require("../function/pageHeight"),o=require("../function/pinGlobal"),r=require("../function/dragGlobal"),a=require("../util/life"),u=require("../util/instance").window,s=e.prototype;return s.type="Dialog",s.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n=e.option("maskElement");if(e.option("modal")){if(!n)n=$(e.option("maskTemplate"));t.before(n)}else if(n)n=null;var i=[],o=e.option("skinClass");if(o)i.push(o);var r=e.option("draggableClass");if(e.option("draggable")&&r)i.push(r);if(i.length>0)t.addClass(i.join(" "));var a=e.option("removeOnEmpty"),u=e.option("title");if(u)t.find(e.option("titleSelector")).html(u);else if(a)t.find(e.option("headerSelector")).remove();var s=e.option("content"),l=t.find(e.option("contentSelector"));if(s)l.html(s);else if(a)l.remove();var c={},f=e.option("width");switch($.type(f)){case"string":case"number":c.width=f}var p=e.option("fixed")?"fixed":"absolute";if(t.css("position")!==p)c.position=p;if(n){var d="z-index",m=e.option("zIndex");if(!$.isNumeric(m))if(m=n.css(d),!$.isNumeric(m))m="auto";n.css(d,m),c[d]=m}t.css(c);var h="click"+e.namespace(),v=$.proxy(e.hide,e),g=e.option("closeSelector");if(g)t.on(h,g,v);if(e.option("disposeOnHide"))e.after("hide",$.proxy(e.dispose,e));if(n){if(e.option("hideOnBlur"))n.on(h,v);if(e.option("removeOnDispose"))e.after("dispose",function(){n.remove()})}e.inner({main:t,mask:n}),e.state({hidden:e.option("hidden")})},s.show=function(){this.state("hidden",!1)},s._show=function(){if(!this.is("hidden"))return!1;else return void 0},s.hide=function(){this.state("hidden",!0)},s._hide=function(){if(this.is("hidden"))return!1;else return void 0},s.refresh=function(){var e=this,t=arguments[0],r={};if(!t||e.option("positionOnResize")){var a=e.inner("main");r.mainElement=a,r.mainStyle=o({element:a,x:e.option("x"),y:e.option("y"),fixed:e.option("fixed")})}var u=e.inner("mask");if(u)r.maskElement=u,r.maskStyle={width:n(),height:i()};e.execute(t?"resizeWindowAnimation":"refreshAnimation",r)},s.dispose=function(){var e=this;if(a.dispose(e),!e.is("hidden"))e.hide();var t=e.inner("main"),n=e.inner("mask"),i=e.namespace();if(t.off(i),n)n.off(i)},a.extend(s),e.stateUpdater={hidden:function(e){var n=this,i=n.namespace();u.off(i);var o=n.inner("dragger");if(o)o.dispose(),o=null;var a=n.inner("main"),s=n.inner("mask"),l={mainElement:a};if(s)l.maskElement=s;if(e)n.execute("hideAnimation",l);else{if(u.on("resize"+i,t(function(){n.refresh(!0)},50)),n.option("draggable"))o=r({element:a,handleSelector:n.option("draggableHandleSelector"),cancelSelector:n.option("draggableCancelSelector"),draggingClass:n.option("draggingClass"),dragAnimation:n.option("dragAnimation")});n.execute("showAnimation",l),n.refresh()}n.inner("dragger",o)}},e}),define("cc/ui/Pager",["require","exports","module","../function/toNumber","../util/life"],function(require,exports,module){"use strict";function e(e){n.init(this,e)}var t=require("../function/toNumber"),n=require("../util/life"),i=e.prototype;i.type="Pager",i.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),n=e.option("pageSelector"),i=e.option("pageAttribute");if(n&&i)t.on("click"+e.namespace(),n,function(){var t=$(this).attr(i);if(t>=o)t=+t,e.set("page",t),e.emit("select",{page:t})});e.inner({main:t}),e.set({page:e.option("page"),count:e.option("count")})},i.render=function(){var e=this,t=e.get("count");e.inner("main");if(2>t&&e.option("hideOnSingle"))return void e.state("hidden",!0);var n=Math.min(e.get("page"),t),i=e.option("showCount"),r=e.option("startCount"),a=e.option("endCount"),u=e.option("pageTemplate"),s=e.option("prevTemplate"),l=e.option("nextTemplate"),c=e.option("activeTemplate"),f=e.option("ellipsisTemplate"),p=[],d=Math.max(o,n-Math.ceil(i/2)),m=Math.min(t,d+i-1);if(m===t&&i>m-d)d=Math.max(o,m-i+1);if(n>d)p.push({range:[d,n-1],tpl:u});if(p.push({tpl:c}),m>n)p.push({range:[n+1,m],tpl:u});var h;if(r>0&&d>o)if(h=d-r,h>1)p.unshift({range:[o,r],tpl:u},{tpl:f});else p.unshift({range:[o,d-1],tpl:u});if(a>0&&t>m)if(h=t-m-a,h>1)p.push({tpl:f},{range:[t-a+1,t],tpl:u});else p.push({range:[m+1,t],tpl:u});p.unshift({tpl:s}),p.push({tpl:l});var v=$.map(p,function(i,r){var a=i.tpl;if(a){var u="",s=function(){u+=e.execute("render",[l,a])},l={first:o,last:t,active:n},c=i.range;if(c)for(var f=c[0],p=c[1];p>=f;f++)l.page=f,s();else s();return u}}).join("");e.renderWith(v),e.state("hidden",!1)},i.prev=function(){var e=this;e.set("page",e.get("page")-1)},i._prev=function(){if(this.get("page")>o);else return!1},i.next=function(){var e=this;e.set("page",e.get("page")+1)},i._next=function(){var e=this;if(e.get("page")<e.get("count"));else return!1},i.show=function(){this.state("hidden",!1)},i._show=function(){if(!this.is("hidden"))return!1;else return void 0},i.hide=function(){this.state("hidden",!0)},i._hide=function(){if(this.is("hidden"))return!1;else return void 0},i.dispose=function(){var e=this;n.dispose(e),e.inner("main").off(e.namespace())},n.extend(i),e.propertyUpdater={},e.propertyUpdater.page=e.propertyUpdater.count=function(){return this.render(),!1},e.propertyValidator={page:function(e){return t(e,0)},count:function(e){return t(e,0)}},e.stateUpdater={hidden:function(e){var t=this;t.execute(e?"hideAnimation":"showAnimation",{mainElement:t.inner("main")})}};var o=1;return e}),define("cc/ui/Rater",["require","exports","module","../function/debounce","../function/restrain","../function/toNumber","../function/eventOffset","../util/life"],function(require,exports,module){"use strict";function e(e){u.init(this,e)}function t(e,t){var i=e.inner("main").find(e.option("itemSelector")),o=e.option("itemActiveClass"),r=e.option("itemHalfClass");n(t,e.get("count"),function(e,t){var n=i.eq(e);if(o)n[1===t?"addClass":"removeClass"](o);if(r)n[.5===t?"addClass":"removeClass"](r)})}function n(e,t,n){for(var i,o,r=0;t>r;r++){if(i=e-(r+1),i>=0)o=1;else if(-1>=i)o=0;else o=.5;n(r,o)}}var i=require("../function/debounce"),o=require("../function/restrain"),r=require("../function/toNumber"),a=require("../function/eventOffset"),u=require("../util/life"),s=e.prototype;return s.type="Rater",s.init=function(){var e=this;e.initStruct();var t=e.option("mainElement");if(e.inner({main:t}),e.set({count:e.option("count"),value:e.option("value"),minValue:e.option("minValue"),maxValue:e.option("maxValue")}),!e.option("readOnly")){var n=e.option("itemSelector");if(!n)e.error("itemSelector is missing.");var r,u=e.option("half"),s=e.namespace(),l=function(t,n){var i=n.data("value");if(u)if(a(t).x/n.width()<.5)i-=.5;return o(i,e.get("minValue"),e.get("maxValue"))},c=function(t){if(r)e.preview(l(t,r))};t.on("mouseenter"+s,n,function(t){if(r=$(this),u)r.on("mousemove"+s,i(c,50));e.preview(l(t,r))}).on("mouseleave"+s,n,function(t){if(u)r.off(s);r=null,e.preview()}).on("click"+s,n,function(t){e.set("value",l(t,r||$(this)))})}},s.render=function(){var e=this,t=[],i=e.option("hint")||{},o={1:e.option("itemActiveClass"),.5:e.option("itemHalfClass")};n(e.get("value"),e.get("count"),function(e,n){var r=o[n];n=e+1,t.push({value:n,"class":r||"",hint:i[n]||""})}),e.renderWith({list:t})},s.preview=function(e){var n=this;if(n.inner("value",e),e=r(e,null),null==e)e=n.get("value");t(n,e)},s.dispose=function(){var e=this;u.dispose(e),e.inner("main").off(e.namespace())},u.extend(s),e.propertyUpdater={},e.propertyUpdater.value=e.propertyUpdater.count=function(e,n,i){var o=this;if(i.count)o.render();else{var r=i.value;if(r)t(o,r.newValue)}return!1},e.propertyValidator={count:function(e){if(e=r(e,-1),0>e)this.error("count must be a number.");return e},minValue:function(e){return r(e,0)},maxValue:function(e){return r(e,this.option("count"))}},e}),define("cc/ui/ScrollBar",["require","exports","module","../function/ratio","../function/isHidden","../util/life","../util/orientation","./Slider"],function(require,exports,module){"use strict";function e(e){i.init(this,e)}var t=require("../function/ratio"),n=require("../function/isHidden"),i=require("../util/life"),o=require("../util/orientation"),r=require("./Slider"),a=e.prototype;return a.type="ScrollBar",a.init=function(){var e=this,t=e.option("orientation"),n=o[t],i=e.option("panelElement"),a=new r({minValue:0,maxValue:100,value:e.option("value"),mainElement:e.option("mainElement"),mainTemplate:e.option("mainTemplate"),orientation:t,scrollElement:i,scrollStep:e.option("scrollStep"),scrollStepType:e.option("scrollStepType"),thumbSelector:e.option("thumbSelector"),draggingClass:e.option("draggingClass"),slideAnimation:function(t){e.execute("scrollAnimation",t)},propertyChange:{value:function(t){var o=a.valueToPixel(t);i.prop(n.scrollPosition,o*e.inner("ratio")),e.set("value",t),e.emit("scroll")}}});e.inner({main:a.inner("main"),slider:a}),e.state({hidden:e.option("hidden")}),e.refresh()},a.refresh=function(){var e=this,n=e.inner("slider"),i=e.option("orientation"),r=o[i],a=(e.inner("main"),e.option("panelElement")),u=a[r.innerSize](),s=a.prop(r.scrollSize),l=t(u,s);if(l>0&&1>l){e.state("hidden",!1);var c=n.inner("track"),f=n.inner("thumb"),p=c[r.innerSize](),d=p*l,m=e.option(r.minSize);if(m>d)d=m;f[r.outerSize](Math.round(d)),e.inner("ratio",t(s,p))}else e.state("hidden",!0);n.refresh()},a.dispose=function(){i.dispose(this),this.inner("slider").dispose()},i.extend(a),e.propertyUpdater={value:function(e){this.inner("slider").set("value",e)}},e.stateUpdater={hidden:function(e){this.execute(e?"hideAnimation":"showAnimation",{mainElement:this.inner("main")})}},e.stateValidator={hidden:function(e){if("boolean"!==$.type(e))e=n(this.inner("main"));return e}},e}),define("cc/ui/Slider",["require","exports","module","../function/plus","../function/minus","../function/divide","../function/multiply","../function/toNumber","../function/restrain","../function/contains","../function/eventOffset","../helper/Wheel","../helper/Draggable","../util/life","../util/touch","../util/orientation","../util/instance"],function(require,exports,module){"use strict";function e(e){f.init(this,e)}var t=require("../function/plus"),n=require("../function/minus"),i=require("../function/divide"),o=require("../function/multiply"),r=require("../function/toNumber"),a=require("../function/restrain"),u=require("../function/contains"),s=require("../function/eventOffset"),l=require("../helper/Wheel"),c=require("../helper/Draggable"),f=require("../util/life"),p=require("../util/touch"),d=require("../util/orientation"),m=require("../util/instance").document,h=e.prototype;return h.type="Slider",h.init=function(){var e=this;e.initStruct();var t,n=e.option("mainElement"),i=n.find(e.option("thumbSelector")),o=e.option("trackSelector"),a=o?n.find(o):n,f=e.option("barSelector");if(f)t=n.find(f);var h=d[e.option("orientation")],v=e.option("reverse"),g=function(t,n){if("number"!==$.type(t))t=r(t,0,"float");if(v)t=e.inner("maxPixel")-t;x(e.pixelToValue(t),n)},x=function(t,n){var i={action:n};e.set("value",t,i)},y=e.namespace(),b=new c({mainElement:i,containerElement:a,containerDraggingClass:e.option("draggingClass"),axis:h.axis,context:e,bind:function(e){$.each(p,function(t,n){if(n.support)i.on(n.down+y,function(t){if(e.downHandler(t))m.off(y).on(n.move+y,e.moveHandler).on(n.up+y,function(t){e.upHandler(t),m.off(y)})})})},dragAnimation:function(e){g(e.mainStyle[h.position],"drag")}});a.on("click"+y,function(t){if(!u(i,t.target))g(s(t)[h.axis]-e.inner("thumbSize")/2,"click")});var w,S=e.option("scrollStep"),E=e.option("scrollStepType"),C=$.isFunction(S);if(C||S>0){w=[];var A=function(t,n){var i=n.delta,o=C?S(i):i*S;if(o){if(v)o*=-1;var r="scroll",a=e.get("value");if("value"===E)x(a+o,r);else g(e.valueToPixel(a)+o,r)}};w.push(new l({watchElement:a,onwheel:A}));var T=e.option("scrollElement");if(T)w.push(new l({watchElement:T,onwheel:A}))}e.inner({main:n,track:a,thumb:i,bar:t,drager:b,wheels:w}),e.refresh();var k=e.option("value");if("number"===$.type(k))x(k);else g(i.css(h.position))},h.refresh=function(){var e,r,a=this,u=d[a.option("orientation")],s=a.inner("track"),l=a.inner("thumb"),c=l[u.outerSize](!0),f=s[u.innerSize]()-c,p=a.option("minValue"),m=a.option("maxValue"),h=a.option("step");if("number"===$.type(h)){var v=i(f,i(n(m,p),h));e=function(e){return t(p,Math.round(i(e,v)))},r=function(e){return o(n(e,p),v)}}else e=function(e){return t(p,o(n(m,p),i(e,f)))},r=function(e){return o(n(e,p),i(f,n(m,p)))};a.inner({thumbSize:c,maxPixel:f}),a.pixelToValue=e,a.valueToPixel=r;var g=a.get("value");if("number"===$.type(g))a.set("value",g,{force:!0})},h.dispose=function(){var e=this;f.dispose(e);var t=e.namespace();m.off(t),e.inner("thumb").off(t),e.inner("track").off(t),e.inner("drager").dispose();var n=e.inner("wheels");if(n)$.each(n,function(e,t){t.dispose()})},f.extend(h),e.propertyUpdater={value:function(e,t,n){var i,o=this,r=d[o.option("orientation")],a=o.inner("thumb"),u=o.inner("thumbSize"),s=o.valueToPixel(e),l=o.inner("bar");if(l)i={},i[r.size]=s+u/2;if(o.option("reverse"))s=o.inner("maxPixel")-s-u;var c={};c[r.position]=s;var f={thumbElement:a,thumbStyle:c};if(i)f.barStyle=i,f.barElement=l;var p=n.value;if(p.action)f.action=p.action;o.execute("slideAnimation",f)}},e.propertyValidator={value:function(e){var t=this.option("minValue"),n=this.option("maxValue");return e=r(e,t),a(e,t,n)},minValue:function(e){if(e=r(e,null),null==e)this.error("minValue must be a number.");return e},maxValue:function(e){if(e=r(e,null),null==e)this.error("maxValue must be a number.");return e}},e}),define("cc/ui/SpinBox",["require","exports","module","../function/minus","../function/divide","../function/toNumber","../helper/DOMIterator","../util/life","../util/instance"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}var t=require("../function/minus"),n=(require("../function/divide"),require("../function/toNumber")),i=require("../helper/DOMIterator"),o=require("../util/life"),r=require("../util/instance").document,a=e.prototype;return a.type="SpinBox",a.init=function(){var e=this;e.initStruct();var t=n(e.option("step"),null);if(null==t)e.error("step must be a number.");var o=e.option("mainElement"),a=o.find(e.option("inputSelector")),u=new i({watchElement:a,index:e.option("value"),minIndex:e.option("minValue"),maxIndex:e.option("maxValue"),interval:e.option("interval"),step:t,prevKey:"down",nextKey:"up",propertyChange:{index:function(t){e.set("value",t)},minIndex:function(t){e.set("minValue",t)},maxIndex:function(t){e.set("maxValue",t)}}}),s=e.namespace(),l=e.option("upSelector"),c=e.option("downSelector"),f="mousedown"+s,p="mouseup"+s,d="focusout"+s,m=function(){u.pause(),r.off(s)};o.on(f,l,function(){u.next(),u.start(!1),r.on(p,m)}).on(f,c,function(){u.prev(),u.start(!0),r.on(p,m)}).on(d,function(){var t=$.trim(a.val());e.set("value",t)}),e.inner({main:o,input:a,iterator:u})},a.dispose=function(){var e=this;o.dispose(e),e.inner("iterator").dispose();var t=e.namespace();r.off(t),e.inner("main").off(t)},o.extend(a),e.propertyUpdater={value:function(e){this.inner("input").val(e),this.inner("iterator").set("index",e)},minValue:function(e){this.inner("iterator").set("minIndex",e)},maxValue:function(e){this.inner("iterator").set("maxIndex",e)}},e.propertyValidator={value:function(e,i){var o=e,r=!1,a=this,u=a.get("minValue"),s=a.get("maxValue");if(e=n(e,""),e>=u&&s>=e){var l=a.option("step");if(t(e,u)%l===0)r=!0}if(!r){var c=a.option("defaultValue");if(null!=c)e=c,i.force=!0;else e=o}return e},minValue:function(e){var e=n(e,null);if(null==e)this.error("minValue must be a number.");return e},maxValue:function(e){var e=n(e,null);if(null==e)this.error("maxValue must be a number.");return e}},e}),define("cc/ui/Tab",["require","exports","module","../util/life","../helper/Switchable"],function(require,exports,module){"use strict";function e(e){t.init(this,e)}var t=require("../util/life"),n=require("../helper/Switchable"),i=e.prototype;return i.type="Tab",i.init=function(){var e=this;e.initStruct();var t=e.option("mainElement"),i=e.option("navSelector"),o=e.option("navActiveClass"),r=new n({mainElement:t,index:e.option("index"),switchTrigger:e.option("navTrigger"),switchDelay:e.option("navDelay"),itemSelector:i,itemActiveClass:o,propertyChange:{index:function(n,r){e.set("index",n),e.execute("navAnimation",{mainElement:t,navSelector:i,navActiveClass:o,fromIndex:r,toIndex:n}),e.execute("contentAnimation",{mainElement:t,contentSelector:e.option("contentSelector"),contentActiveClass:e.option("contentActiveClass"),fromIndex:r,toIndex:n})}}});e.inner({main:t,switcher:r})},i.dispose=function(){var e=this;t.dispose(e),e.inner("switcher").dispose()},t.extend(i),e.propertyUpdater={index:function(e){this.inner("switcher").set("index",e)}},e}),define("cc/ui/Tooltip",["require","exports","module","../function/split","../util/position","../function/toNumber","../function/isHidden","../function/debounce","../function/pageWidth","../function/pageHeight","../function/offsetParent","../helper/Popup","../util/life","../util/instance"],function(require,exports,module){"use strict";function e(e){d.init(this,e)}function t(){var e=this.inner("main"),t=e[x];return t.offset().left>e.outerWidth()}function n(){var e=this.inner("main"),t=e[x];return c()>t.offset().left+t.outerWidth()+e.outerWidth()}function i(){var e=this.inner("main"),t=e[x];return t.offset().top>e.outerHeight()}function o(){var e=this.inner("main"),t=e[x];return f()>t.offset().top+t.outerHeight()+e.outerHeight()}function r(e){var t=[];return $.each(a(e,","),function(e,n){if(v[n])t.push(n);else return $.each(v,function(e,n){if($.inArray(e,t)<0)t.push(e)}),!1}),t}var a=require("../function/split"),u=require("../util/position"),s=require("../function/toNumber"),l=(require("../function/isHidden"),require("../function/debounce")),c=require("../function/pageWidth"),f=require("../function/pageHeight"),p=(require("../function/offsetParent"),require("../helper/Popup")),d=require("../util/life"),m=require("../util/instance").window,h=e.prototype;h.type="Tooltip",h.init=function(){var e=this;e.initStruct();var t=e.option("triggerElement"),n=e.option("mainElement"),i=new p({layerElement:n,triggerElement:t,triggerSelector:e.option("triggerSelector"),showLayerTrigger:e.option("showTrigger"),showLayerDelay:e.option("showDelay"),hideLayerTrigger:e.option("hideTrigger"),hideLayerDelay:e.option("hideDelay"),showLayerAnimation:function(){e.execute("showAnimation",{mainElement:n})},hideLayerAnimation:function(){e.execute("hideAnimation",{mainElement:n})}}),o=e.namespace(),a=function(t,n,i){if(i&&i.event)t.type=n,e.emit(t,i)};i.before("open",function(t,i){var u=i&&i.event;if(u){var s,c=u.currentTarget,f=e.option("skinAttribute");if(f){var p;if(s=n[x])if(p=s.attr(f))n.removeClass(p);if(s=n[x]=$(c),p=s.attr(f))n.addClass(p)}var d,h=e.option("placementAttribute");if(h)d=s.attr(h);if(!d)d=e.option("placement");var g=r(d);if(d=null,g.length>0)if(1===g.length)d=g[0];else $.each(g,function(t,n){for(var i=v[n].test,o=0,r=i.length;r>o;o++)if(!i[o].call(e))return;return d=n,!1});if(!d)return!1;var y=function(){if(a(t,"beforeshow",i),!t.isDefaultPrevented()){var r,u=e.option("maxWidthAttribute");if(u)r=s.attr(u);if(!r)r=e.option("maxWidth");if(r)n.css("max-width",r);e.pin(d),m.on("resize"+o,l(function(){if(e.$)e.pin(d)},50))}},b=e.execute("update",{mainElement:n,triggerElement:s});if(b&&$.isFunction(b.then))b.then(y);else y()}}).after("open",function(e,t){a(e,"aftershow",t)}).before("hide",function(e,t){a(e,"beforehide",t)}).after("close",function(e,t){m.off(o),a(e,"afterhide",t)}),e.inner({main:n,popup:i})},h.show=function(){this.state("hidden",!1)},h._show=function(){if(!this.is("hidden"))return!1;else return void 0},h.hide=function(){this.state("hidden",!0)},h._hide=function(){if(this.is("hidden"))return!1;else return void 0},h.pin=function(e){var t=this,n=t.inner("main"),i=n.data(g);if(i)n.removeClass(i).removeData(g);if(i=t.option(e+"Class"))n.addClass(i).data(g,i);var o={element:n,attachment:n[x],offsetX:s(t.option("gapX"),0),offsetY:s(t.option("gapY"),0)},r=v[e];if($.isFunction(r.gap))r.gap(o);var a=e+"Offset";o.offsetX+=s(t.option(a+"X"),0),o.offsetY+=s(t.option(a+"Y"),0),u[r.name](o)},h.dispose=function(){var e=this;d.dispose(e),e.inner("popup").dispose(),m.off(e.namespace())},d.extend(h),e.stateUpdater={hidden:function(e){var t=this.inner("popup");if(e)t.close();else t.open()}};var v={bottom:{name:"bottomCenter",test:[o],gap:function(e){e.offsetX=0}},top:{name:"topCenter",test:[i],gap:function(e){e.offsetY*=-1,e.offsetX=0}},right:{name:"middleRight",test:[n],gap:function(e){e.offsetY=0}},left:{name:"middleLeft",test:[t],gap:function(e){e.offsetX*=-1,e.offsetY=0}},bottomLeft:{name:"bottomLeft",test:[o,t],gap:function(e){e.offsetX*=-1}},bottomRight:{name:"bottomRight",test:[o,n]},topLeft:{name:"topLeft",test:[i,t],gap:function(e){e.offsetX*=-1,e.offsetY*=-1}},topRight:{name:"topRight",test:[i,n],gap:function(e){
e.offsetY*=-1}}},g="__placement_class__",x="__trigger_element__";return e}),define("cc/ui/Tree",["require","exports","module","../function/toString","../util/life"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}function t(e,t){var n=e.inner("main"),i=e.option("nodeSelector"),o=t.jquery?t:n.find('[data-id="'+t+'"]');if(1===o.length)if(o=o.closest(i),1===o.length)return o}function n(e,t,i,o){var r=i(e,t);if(r!==!1){if($.isArray(e.children))$.each(e.children,function(t,a){return r=n(a,e,i,o)});if(r!==!1)r=o(e,t)}return r}var i=require("../function/toString"),o=require("../util/life"),r=e.prototype;return r.type="Tree",r.init=function(){var e=this;e.initStruct();var n=e.option("mainElement"),i="click"+e.namespace(),o=e.option("labelSelector");if(o)n.on(i,o,function(n){var i=t(e,$(this));e.select(i.data("id"))});var r=e.option("toggleSelector");e.option("nodeSelector");if(r){var a=e.option("expandedClass");n.on(i,r,function(n){var i=t(e,$(this));if(i){var o=i.data("id");if(i.hasClass(a))e.collapse(o);else e.expand(o)}})}e.inner({main:n}),e.set({data:e.option("data"),value:e.option("value")})},r.render=function(e){var n=this,i="";if(n.walk({leave:function(t,o){var r="";if(t.children)$.each(t.children,function(e,t){r+=o[t.id].view});var a=o[t.id];if(a.view=n.execute("render",[{node:t,cache:a,childrenView:r},n.option("nodeTemplate")]),null==e){if(!a.level)i+=a.view}else if(e==t.id)return i+=a.view,!1}}),null==e)n.inner("main").html(i);else{var o=t(n,e);if(o)o.replaceWith(i)}},r.load=function(e){var t,n=this,i=$.Deferred();if(n.walk({enter:function(n,i){if(n.id==e)return t=n,!1;else return void 0}}),t)n.execute("load",[t,function(e,t){if(e)i.reject(e);else i.resolve(t)}]);else i.reject("node["+e+"] is not found.");return i},r.walk=function(e,t){var i=this;if(1===arguments.length)t=e,e=i.get("data");if(!$.isArray(e))e=[e];var o=t.enter||$.noop,r=t.leave||$.noop,a={};$.each(e,function(e,t){n(t,null,function(e,t){var n=t?a[t.id].level+1:0;return a[e.id]={level:n,parent:t},o(e,a)},function(e,t){return r(e,a)})})},r.grep=function(e){var t;return this.walk({enter:function(n){if(n.id==e)return t=n,!1;else return void 0}}),t},r.select=function(e){this.set("value",e)},r.unselect=function(e){this.set("value","")},r.expand=function(e){var n=this;n.grep(e).expanded=!0,t(n,e).removeClass(n.option("collapsedClass")).addClass(n.option("expandedClass"))},r.collapse=function(e){var n=this;n.grep(e).expanded=!1,t(n,e).removeClass(n.option("expandedClass")).addClass(n.option("collapsedClass"))},r._select=r._expand=r._collapse=function(e){var n=this,i=n.grep(e);if(i&&t(n,e))return{node:i};else return!1},r._render=function(e){if(null!=e){var n=this,i=n.grep(e);if(i&&t(n,e))return{node:i};else return!1}},r.select_=r.expand_=r.collapse_=function(e){return{node:this.grep(e)}},r.render_=function(e){if(null!=e)return{node:this.grep(e)};else return void 0},r.dispose=function(){var e=this;o.dispose(e),e.inner("main").off(e.namespace())},o.extend(r),e.propertyUpdater={data:function(){this.render()},value:function(e,n){var i=this,o=i.option("activeClass");if(o){var r,a;if(n)if(r=i.grep(n),a=t(i,n),r&&a)r.active=!1,a.removeClass(o);if(e)if(r=i.grep(e),a=t(i,e),r&&a)r.active=!0,a.addClass(o)}}},e.propertyValidator={data:function(e){return $.isArray(e)?e:[]},value:function(e){return i(e)}},e}),define("cc/ui/Uploader",["require","exports","module","../helper/AjaxUploader","../helper/FlashUploader"],function(require,exports,module){"use strict";function e(){return"files"in $('<input type="file" />')[0]}function t(){if(!XMLHttpRequest)return!1;var e=new XMLHttpRequest;return"upload"in e&&"onprogress"in e.upload}return e()&&t()?require("../helper/AjaxUploader"):require("../helper/FlashUploader")}),define("cc/ui/Zoom",["require","exports","module","../function/imageDimension","../helper/Draggable","../util/instance","../util/life"],function(require,exports,module){"use strict";function e(e){o.init(this,e)}var t=require("../function/imageDimension"),n=require("../helper/Draggable"),i=require("../util/instance").document,o=require("../util/life"),r=e.prototype;return r.type="Zoom",r.init=function(){var e=this,o=e.option("thumbnailElement");if(!o.is("img"))e.error("thumbnailElement must be a <img />.");var r,a,u,s=e.option("viewportElement"),l=e.option("finderElement"),c=o.prop("width"),f=o.prop("height"),p=l.outerWidth(),d=l.outerHeight(),m=function(){var n=e.option("imageUrl");t(n,function(e,t){r=c/e,a=f/t,s.css({width:p/r,height:d/a,background:"url("+n+") no-repeat"})})},h=e.namespace();if(!c&&!f)o.one("load"+h,function(){c=this.width,f=this.height,m()});else m();var v=new n({mainElement:l,containerElement:o,dragAnimation:function(e){l.css(e.mainStyle)},bind:function(e){var t,n="mouseenter"+h,r="mouseleave"+h,a=function(e){if(t)clearTimeout(t),t=null},s=function(n){t=setTimeout(function(){t=null,e.upHandler(n),i.off(h)},50)};o.on(n,function(n){if(t)return void a();var r={x:p/2,y:d/2};if(e.downHandler(n,r))u=o.position(),i.off(h).on("mousemove"+h,e.moveHandler)}).on(r,s),l.on(n,a).on(r,s)},onbeforedrag:function(){e.execute("showFinderAnimation",{finderElement:l}),e.execute("showViewportAnimation",{viewportElement:s})},onafterdrag:function(){e.execute("hideFinderAnimation",{finderElement:l}),e.execute("hideViewportAnimation",{viewportElement:s})},ondrag:function(e,t){var n=(t.left-u.left)/r,i=(t.top-u.top)/a;s.css({"background-position":"-"+n+"px -"+i+"px"})}});e.inner({dragger:v})},r.dispose=function(){var e=this;o.dispose(e),e.inner("dragger").dispose();var t=e.namespace();i.off(t),e.option("thumbnailElement").off(t),e.option("finderElement").off(t)},o.extend(r),e}),define("cc/util/FiniteArray",["require","exports","module"],function(require,exports,module){"use strict";function e(t){$.extend(this,e.defaultOptions,t),this.init()}var t=e.prototype;return t.init=function(){this.list=[]},t.push=function(e){var t=this,n=t.list;if(t.isFull())if(t.validate(e,n[0]))n.shift();if(n.length<t.max)n.push(e)},t.get=function(e){return this.list[e]},t.first=function(){return this.get(0)},t.last=function(){return this.get(this.list.length-1)},t.isFull=function(){return this.list.length===this.max},t.each=function(e){$.each(this.list,function(t,n){return e(n,t)})},t.size=function(){return this.list.length},t.clear=function(){this.list.length=0},e.defaultOptions={validate:function(){return!0}},e}),define("cc/util/Message",["require","exports","module","../function/guid","./url","./timer"],function(require,exports,module){"use strict";function e(t){$.extend(this,e.defaultOptions,t),this.init()}var t=require("../function/guid"),n=require("./url"),i=require("./timer"),o=e.prototype;return o.type="Message",o.init=function(){var e=this;e.id=t(),e.origin=n.getOrigin(e.agentUrl),e.timer=i(function(){e.send(e.reader()||{})},e.interval,e.interval),e.timer.start()},o.send=$.isFunction(window.postMessage)&&"onmessage"in window?function(e){window.top.postMessage(e,this.origin)}:function(e){var t=this,n=$("#"+t.id);if(0===n.length)n=$('<iframe id="'+t.id+'"></iframe>'),n.hide().appendTo("body");n.prop("src",t.agentUrl+"#"+$.param(e))},o.dispose=function(){var e=this;e.timer.stop(),e.timer=null},e.defaultOptions={interval:100},e}),define("cc/util/Queue",["require","exports","module"],function(require,exports,module){"use strict";function e(e){$.extend(this,e),this.init()}var t=e.prototype;return t.init=function(){this.list=[]},t.add=function(e){var t=this;if(t.list.push(e),!$.isFunction(t.waiting))t.remove()},t.remove=function(){var e=this,t=e.list.shift();if(t){var n=e.waiting=function(){if(e.waiting=null,e.list)e.remove()};e.process(t,n)}},t.size=function(){return this.list.length},t.dispose=function(){var e=this;e.list=e.waiting=null},e}),define("cc/util/Range",["require","exports","module"],function(require,exports,module){"use strict";function e(e){this.element=e}function t(){var e=this.element;return{start:e.selectionStart,end:e.selectionEnd}}function n(e,t){var n=this.element;n.focus(),n.setSelectionRange(e,t)}function i(){var e=this.element;e.focus();var t=document.selection.createRange().getBookmark(),n=e.createTextRange();n.moveToBookmark(t);var i=n.duplicate();i.setEndPoint("StartToStart",n);for(var o=e.value,r=0;0!==i.moveStart("character",-1);r++)if("\n"===o.charAt(r))r++;return{start:r,end:r+n.text.length}}function o(e,t){var n=this.element;if(!(n.value.length<t)){var i=n.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",t-1),i.select()}}var r=!window.getSelection,a=e.prototype;return a.getRange=r?i:t,a.setRange=r?o:n,a.getText=function(){var e=this.element.value,t=this.getRange();return e.substring(t.start,t.end)},a.setText=function(e){var t=this.element,n=t.value,i=this.getRange();t.value=n.substring(0,i.start)+e+n.substr(i.end)},a.dispose=function(){this.element=null},r=null,e}),define("cc/util/browser",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var a,u=t(e)||i.exec(e)||o.exec(e)||n(e)||r.exec(e)||[];if(/Android/i.test(e))a="android";else if(/iPhone/i.test(e)||/iPad/i.test(e)||/iTouch/i.test(e))a="ios";else if(/Windows/i.test(e))a="windows";else if(/Macintosh/i.test(e))a="mac";else if(/Linux/i.test(e))a="linux";return{name:u[1]||"",version:u[2]||"0",os:a||""}}function t(e){var t,n=u.exec(e);if(n)t=n[1];else if(n=s.exec(e))t=parseInt(n[1],10)+4+".0";if(t)return["","ie",t];else return void 0}function n(e){var t=a.exec(e);if(t)return["","safari",t[1]];else return void 0}var i=/(chrome)[ \/]([\w.]+)/,o=/(firefox)[ \/]([\w.]+)/,r=/(opera)(?:.*version)?[ \/]([\w.]+)/,a=/version[ \/]([\w.]+) safari/,u=/msie ([\w.]+)/,s=/trident[ \/]([\w.]+)/,l=e(navigator.userAgent.toLowerCase());if(l.name)l[l.name]=!0;return l}),define("cc/util/cookie",["require","exports","module"],function(require,exports,module){"use strict";function e(e){if(0===e.indexOf('"'))e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\");var t={};try{e=decodeURIComponent(e.replace(/\+/g," ")),$.each(e.split(";"),function(e,n){var i=n.split("="),o=$.trim(i[0]),r=$.trim(i[1]);if(o)t[o]=r})}catch(n){}return t}function t(e,t,i){var o=i.expires;if($.isNumeric(o)){var r=o;o=new Date,o.setTime(o.getTime()+r*n)}document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),o?";expires="+o.toUTCString():"",i.path?";path="+i.path:"",i.domain?";domain="+i.domain:"",i.secure?";secure":""].join("")}var n=36e5;exports.get=function(t){var n=e(document.cookie);return"string"===$.type(t)?n[t]:n},exports.set=function(e,n,i){if($.isPlainObject(e))i=n,n=null;if(i=$.extend({},exports.defaultOptions,i),null===n)$.each(e,function(e,n){t(e,n,i)});else t(e,n,i)},exports.remove=function(e,n){if(null!=e)n=n||{},n.expires=-1,t(e,"",$.extend({},exports.defaultOptions,n))},exports.defaultOptions={path:"/"}}),define("cc/util/detection",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var t=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+i.join(t+" ")+t).split(" "),r=!1;return $.each(o,function(e,t){if(t in n)return r=!0,!1;else return void 0}),r}var t=document.createElement("musicode"),n=t.style,i=["Webkit","Moz","O","ms"];exports.supportAnimation=function(){return e("animationName")},exports.supportBoxShadow=function(){return e("boxShadow")},exports.supportWebSocket=function(){return"undefined"!=typeof window.WebSocket},exports.supportFlexbox=function(){return e("flexWrap")},exports.supportTransform=function(){return e("transform")},exports.supportFlash=function(){var e,t=navigator.plugins;if(t&&t.length>0)e=t["Shockwave Flash"];else if(document.all)e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return!!e},exports.supportCanvas=function(){var e=document.createElement("canvas");return e&&e.getContext},exports.supportPlaceholder=function(){var e=$('<input type="text" />')[0];return"placeholder"in e},exports.supportInput=function(){var e=$('<input type="text" />')[0];return"oninput"in e}}),define("cc/util/etpl",function(){function e(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}function t(){this.raw=[],this.length=0}function n(){return"___"+k++}function i(e,t){var n=new Function;n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e){return D[e]}function r(e){return'"'+e.replace(/\x5C/g,"\\\\").replace(/"/g,'\\"').replace(/\x0A/g,"\\n").replace(/\x09/g,"\\t").replace(/\x0D/g,"\\r")+'"'}function a(e){return e.replace(/[\^\[\]\$\(\)\{\}\?\*\.\+]/g,function(e){return"\\"+e})}function u(e){var t=arguments;return e.replace(/\{([0-9]+)\}/g,function(e,n){return t[n-0+1]})}function s(e){return e=e.replace(/^\s*\*/,""),u('gv({0},["{1}"])',r(e),e.replace(/\[['"]?([^'"]+)['"]?\]/g,function(e,t){return"."+t}).split(".").join('","'))}function l(e,t,n,i,o,r){for(var a=n.length,u=e.split(t),s=0,l=[],c=0,f=u.length;f>c;c++){var p=u[c];if(c){var d=1;for(s++;;){var m=p.indexOf(n);if(0>m){l.push(s>1&&d?t:"",p);break}if(s=i?s-1:0,l.push(s>0&&d?t:"",p.slice(0,m),s>0?n:""),p=p.slice(m+a),d=0,0===s)break}if(0===s)o(l.join("")),r(p),l=[]}else p&&r(p)}if(s>0&&l.length>0)r(t),r(l.join(""))}function c(e,t,n){var i,o=[],a=t.options,u="",f="",p="",d="";if(n)u="ts(",f=")",p=I,d=R,i=a.defaultFilter;return l(e,a.variableOpen,a.variableClose,1,function(e){if(n&&e.indexOf("|")<0&&i)e+="|"+i;var r=e.indexOf("|"),a=(r>0?e.slice(0,r):e).replace(/^\s+/,"").replace(/\s+$/,""),l=r>0?e.slice(r+1):"",m=0===a.indexOf("*"),h=[m?"":u,s(a),m?"":f];if(l){l=c(l,t);for(var v=l.split("|"),g=0,x=v.length;x>g;g++){var y=v[g];if(/^\s*([a-z0-9_-]+)(\((.*)\))?\s*$/i.test(y)){if(h.unshift('fs["'+RegExp.$1+'"]('),RegExp.$3)h.push(",",RegExp.$3);h.push(")")}}}o.push(p,h.join(""),d)},function(e){o.push(p,n?r(e):e,d)}),o.join("")}function f(e,t){this.value=e,this.engine=t}function p(e,t){this.value=e,this.engine=t,this.children=[],this.cloneProps=[]}function d(e,t){var n=e.stack,i=t?n.find(function(e){return e instanceof t}):n.bottom();if(i){for(var o;(o=n.top())!==i;){if(!o.autoClose)throw new Error(o.type+" must be closed manually: "+o.value);o.autoClose(e)}i.close(e)}return i}function m(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(\s*master\s*=\s*([a-z0-9\/_-]+)\s*\))?\s*/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.master=RegExp.$3,this.name=RegExp.$1,p.call(this,e,t),this.blocks={}}function h(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,p.call(this,e,t),this.cloneProps=["name"]}function v(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,p.call(this,e,t),this.cloneProps=["name","state","blocks"],this.blocks={}}function g(e,t){if(!/^\s*([a-z0-9_]+)\s*=([\s\S]*)$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.expr=RegExp.$2,p.call(this,e,t),this.cloneProps=["name","expr"]}function x(e,t){if(!/^\s*([a-z0-9_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,p.call(this,e,t),this.cloneProps=["name","args"]}function y(e,t){if(!/^\s*([a-z0-9\/_-]+)\s*(\(([\s\S]*)\))?\s*$/i.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.name=RegExp.$1,this.args=RegExp.$3,p.call(this,e,t),this.cloneProps=["name","args"]}function b(e,t){var n=new RegExp(u("^\\s*({0}[\\s\\S]+{1})\\s+as\\s+{0}([0-9a-z_]+){1}\\s*(,\\s*{0}([0-9a-z_]+){1})?\\s*$",a(t.options.variableOpen),a(t.options.variableClose)),"i");if(!n.test(e))throw new Error("Invalid "+this.type+" syntax: "+e);this.list=RegExp.$1,this.item=RegExp.$2,this.index=RegExp.$4,p.call(this,e,t),this.cloneProps=["list","item","index"]}function w(e,t){p.call(this,e,t)}function S(e,t){w.call(this,e,t)}function $(e,t){p.call(this,e,t)}function E(e,t){t.target=e;var n=t.engine,i=e.name;if(n.targets[i])switch(n.options.namingConflict){case"override":n.targets[i]=e,t.targets.push(i);case"ignore":break;default:throw new Error("Target exists: "+i)}else n.targets[i]=e,t.targets.push(i)}function C(e,t){N[e]=t,t.prototype.type=e}function A(t){this.options={commandOpen:"<!--",commandClose:"-->",commandSyntax:/^\s*(\/)?([a-z]+)\s*(?::([\s\S]*))?$/,variableOpen:"${",variableClose:"}",defaultFilter:"html"},this.config(t),this.targets={},this.filters=e({},O)}function T(e,n){function i(){var e;if(m.length>0&&(e=m.join(""))){var t=new f(e,n);if(t.beforeAdd(c),s.top().addChild(t),m=[],n.options.strip&&c.current instanceof p)t.value=e.replace(/^[\x20\t\r]*\n/,"");c.current=t}}var o,r=n.options.commandOpen,a=n.options.commandClose,u=n.options.commandSyntax,s=new t,c={engine:n,targets:[],stack:s,target:null},m=[];return l(e,r,a,0,function(e){var t=u.exec(e);if(t&&(o=N[t[2].toLowerCase()])&&"function"==typeof o){i();var s=c.current;if(n.options.strip&&s instanceof f)s.value=s.value.replace(/\r?\n[\x20\t]*$/,"\n");if(t[1])s=d(c,o);else{if(s=new o(t[3],n),"function"==typeof s.beforeOpen)s.beforeOpen(c);s.open(c)}c.current=s}else if(!/^\s*\/\//.test(e))m.push(r,e,a);o=null},function(e){m.push(e)}),i(),d(c),c.targets}t.prototype={push:function(e){this.raw[this.length++]=e},pop:function(){if(this.length>0){var e=this.raw[--this.length];return this.raw.length=this.length,e}},top:function(){return this.raw[this.length-1]},bottom:function(){return this.raw[0]},find:function(e){for(var t=this.length;t--;){var n=this.raw[t];if(e(n))return n}}};var k=178245,D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},O={html:function(e){return e.replace(/[&<>"']/g,o)},url:encodeURIComponent,raw:function(e){return e}},q='var r="";',I="r+=",R=";",U="return r;";if("undefined"!=typeof navigator&&/msie\s*([0-9]+)/i.test(navigator.userAgent)&&RegExp.$1-0<8)q="var r=[],ri=0;",I="r[ri++]=",U='return r.join("");';f.prototype={getRendererBody:function(){var e=this.value,t=this.engine.options;if(!e||t.strip&&/^\s*$/.test(e))return"";else return c(e,this.engine,1)},clone:function(){return this}},p.prototype={addChild:function(e){this.children.push(e)},open:function(e){var t=e.stack.top();t&&t.addChild(this),e.stack.push(this)},close:function(e){if(e.stack.top()===this)e.stack.pop()},getRendererBody:function(){for(var e=[],t=this.children,n=0;n<t.length;n++)e.push(t[n].getRendererBody());return e.join("")},clone:function(){for(var e=this.constructor,t=new e(this.value,this.engine),n=0,i=this.children.length;i>n;n++)t.addChild(this.children[n].clone());for(var n=0,i=this.cloneProps.length;i>n;n++){var o=this.cloneProps[n];t[o]=this[o]}return t}};var _='data=data||{};var v={},fs=engine.filters,hg=typeof data.get=="function",gv=function(n,ps){var p=ps[0],d=v[p];if(d==null){if(hg){return data.get(n);}d=data[p];}for(var i=1,l=ps.length;i<l;i++)if(d!=null)d = d[ps[i]];return d;},ts=function(s){if(typeof s==="string"){return s;}if(s==null){s="";}return ""+s;};';i(m,p),i(h,p),i(v,p),i(g,p),i(x,p),i(y,p),i(b,p),i(w,p),i(S,w),i($,w);var L={READING:1,READED:2,APPLIED:3,READY:4};v.prototype.applyMaster=m.prototype.applyMaster=function(e){function t(e){var i=e.children;if(i instanceof Array)for(var o=0,r=i.length;r>o;o++){var a=i[o];if(a instanceof h&&n[a.name])a=i[o]=n[a.name];t(a)}}if(this.state>=L.APPLIED)return 1;var n=this.blocks,i=this.engine.targets[e];if(i&&i.applyMaster(i.master))return this.children=i.clone().children,t(this),this.state=L.APPLIED,1;else return void 0},m.prototype.isReady=function(){function e(i){for(var o=0,r=i.children.length;r>o;o++){var a=i.children[o];if(a instanceof v){var u=t.targets[a.name];n=n&&u&&u.isReady(t)}else if(a instanceof p)e(a)}}if(this.state>=L.READY)return 1;var t=this.engine,n=1;if(this.applyMaster(this.master))return e(this),n&&(this.state=L.READY),n;else return void 0},m.prototype.getRenderer=function(){if(this.renderer)return this.renderer;if(this.isReady()){var e=new Function("data","engine",[_,q,this.getRendererBody(),U].join("\n")),t=this.engine;return this.renderer=function(n){return e(n,t)},this.renderer}return null},m.prototype.open=function(e){d(e),p.prototype.open.call(this,e),this.state=L.READING,E(this,e)},g.prototype.open=y.prototype.open=function(e){e.stack.top().addChild(this)},h.prototype.open=function(e){p.prototype.open.call(this,e),e.stack.find(function(e){return e.blocks}).blocks[this.name]=this},S.prototype.open=function(e){var t=new $;t.open(e);var n=d(e,w);n.addChild(this),e.stack.push(this)},$.prototype.open=function(e){var t=d(e,w);t.addChild(this),e.stack.push(this)},v.prototype.open=function(e){this.parent=e.stack.top(),this.target=e.target,p.prototype.open.call(this,e),this.state=L.READING},y.prototype.close=g.prototype.close=function(){},v.prototype.close=function(e){p.prototype.close.call(this,e),this.state=L.READED},m.prototype.close=function(e){p.prototype.close.call(this,e),this.state=this.master?L.READED:L.APPLIED,e.target=null},v.prototype.autoClose=function(e){var t=this.parent.children;t.push.apply(t,this.children),this.children.length=0;for(var n in this.blocks)this.target.blocks[n]=this.blocks[n];this.blocks={},this.close(e)},y.prototype.beforeOpen=v.prototype.beforeOpen=g.prototype.beforeOpen=b.prototype.beforeOpen=x.prototype.beforeOpen=h.prototype.beforeOpen=w.prototype.beforeOpen=f.prototype.beforeAdd=function(e){if(!e.stack.bottom()){var t=new m(n(),e.engine);t.open(e)}},v.prototype.getRendererBody=function(){return this.applyMaster(this.name),p.prototype.getRendererBody.call(this)},y.prototype.getRendererBody=function(){return u("{0}engine.render({2},{{3}}){1}",I,R,r(this.name),c(this.args,this.engine).replace(/(^|,)\s*([a-z0-9_]+)\s*=/gi,function(e,t,n){return(t||"")+r(n)+":"}))},g.prototype.getRendererBody=function(){if(this.expr)return u("v[{0}]={1};",r(this.name),c(this.expr,this.engine));else return""},w.prototype.getRendererBody=function(){return u("if({0}){{1}}",c(this.value,this.engine),p.prototype.getRendererBody.call(this))},$.prototype.getRendererBody=function(){return u("}else{{0}",p.prototype.getRendererBody.call(this))},b.prototype.getRendererBody=function(){return u('var {0}={1};if({0} instanceof Array)for (var {4}=0,{5}={0}.length;{4}<{5};{4}++){v[{2}]={4};v[{3}]={0}[{4}];{6}}else if(typeof {0}==="object")for(var {4} in {0}){v[{2}]={4};v[{3}]={0}[{4}];{6}}',n(),c(this.list,this.engine),r(this.index||n()),r(this.item),n(),n(),p.prototype.getRendererBody.call(this))},x.prototype.getRendererBody=function(){var e=this.args;return u("{2}fs[{5}]((function(){{0}{4}{1}})(){6}){3}",q,U,I,R,p.prototype.getRendererBody.call(this),r(this.name),e?","+c(e,this.engine):"")};var N={};C("target",m),C("block",h),C("import",v),C("use",y),C("var",g),C("for",b),C("if",w),C("elif",S),C("else",$),C("filter",x),A.prototype.config=function(t){e(this.options,t)},A.prototype.compile=A.prototype.parse=function(e){if(e){var t=T(e,this);if(t.length)return this.targets[t[0]].getRenderer()}return new Function('return ""')},A.prototype.getRenderer=function(e){var t=this.targets[e];if(t)return t.getRenderer();else return void 0},A.prototype.render=function(e,t){var n=this.getRenderer(e);if(n)return n(t);else return""},A.prototype.addFilter=function(e,t){if("function"==typeof t)this.filters[e]=t};var P=new A;return P.Engine=A,P}),define("cc/util/fullScreen",["require","exports","module"],function(require,exports,module){"use strict";var e,t,n,i=document.documentElement,o=$.noop;if(i.requestFullscreen)e=function(){i.requestFullscreen()},t=function(){document.exitFullscreen()},n=function(e){document.addEventListener("fullscreenchange",function(){e(document.fullscreen)})};else if(i.webkitRequestFullScreen)e=function(){i.webkitRequestFullScreen()},t=function(){document.webkitCancelFullScreen()},n=function(e){document.addEventListener("webkitfullscreenchange",function(){e(document.webkitIsFullScreen)})};else if(i.mozRequestFullScreen)e=function(){i.mozRequestFullScreen()},t=function(){document.mozCancelFullScreen()},n=function(e){document.addEventListener("mozfullscreenchange",function(){e(document.mozFullScreen)})};else e=t=n=o;exports.enter=e,exports.exit=t,exports.change=n,exports.support=n!==o}),define("cc/util/input",["require","exports","module","../function/around","./detection"],function(require,exports,module){"use strict";function e(e){var n=e.val(),o=!1;e.on("propertychange"+i,function(t){if(o)return void(o=!1);if("value"===t.originalEvent.propertyName){var i=e.val();if(i!==n)e.trigger("input"),n=i}}),t(e,"val",function(){if(0!==arguments.length)o=!0})}var t=require("../function/around"),n=require("./detection"),i=".cobble_util_input",o=$.noop;exports.init=n.supportInput()?o:e,exports.dispose=function(e){e.off(i)}}),define("cc/util/instance",["require","exports","module"],function(require,exports,module){exports.window=$(window),exports.document=$(document),exports.html=$(document.documentElement),exports.body=$(document.body)}),define("cc/util/json",["require","exports","module"],function(require,exports,module){if("object"!=typeof JSON)JSON={};return function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,o,r,a,u=gap,s=t[e];if(s&&"object"==typeof s&&"function"==typeof s.toJSON)s=s.toJSON(e);if("function"==typeof rep)s=rep.call(t,e,s);switch(typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(r=s.length,n=0;r>n;n+=1)a[n]=str(n,s)||"null";return o=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+u+"]":"["+a.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep){for(r=rep.length,n=0;r>n;n+=1)if("string"==typeof rep[n])if(i=rep[n],o=str(i,s))a.push(quote(i)+(gap?": ":":")+o)}else for(i in s)if(Object.prototype.hasOwnProperty.call(s,i))if(o=str(i,s))a.push(quote(i)+(gap?": ":":")+o);return o=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+u+"}":"{"+a.join(",")+"}",gap=u,o}}if("function"!=typeof Date.prototype.toJSON)Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var cx,escapable,gap,indent,meta,rep;if("function"!=typeof JSON.stringify)escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else if("string"==typeof n)indent=n;if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};if("function"!=typeof JSON.parse)cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var n,i,o=e[t];if(o&&"object"==typeof o)for(n in o)if(Object.prototype.hasOwnProperty.call(o,n))if(i=walk(o,n),void 0!==i)o[n]=i;else delete o[n];return reviver.call(e,t,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text))text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}(),JSON}),define("cc/util/keyboard",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var t={};return $.each(e,function(e,n){t[n]=e}),t}var t={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,"`":192,"-":173,"=":61,"[":219,"]":221,"\\":220,";":59,"'":222,",":188,".":190,"/":191,$0:96,$1:97,$2:98,$3:99,$4:100,$5:101,$6:102,$7:103,$8:104,$9:105,"$.":110,"$+":107,"$-":109,"$*":106,"$/":111,space:32,tab:9},n={backspace:8,"delete":46},i={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,enter:13,esc:27,capslock:20,insert:45,home:36,end:35,pageup:33,pagedown:34,left:37,right:39,up:38,down:40},o={shift:16,ctrl:17,meta:91,alt:18};$.extend(exports,t,i,o),exports.charKey=t,exports.deleteKey=n,exports.functionKey=i,exports.combinationKey=o,exports.isCharKey=function(n){return n in e(t)},exports.isDeleteKey=function(t){return t in e(n)},exports.isFunctionKey=function(t){return t in e(i)},exports.isCombinationKey=function(t){return t in e(o)}}),define("cc/util/life",["require","exports","module","../function/guid","../function/around","../function/extend","../function/ucFirst","../function/nextTick","../function/replaceWith","../function/offsetParent","./instance"],function(require,exports,module){"use strict";function e(e){if(e&&!e[$.expando])e="string"===$.type(e)||e.type?$.Event(e):$.Event(null,e);return e||$.Event()}function t(e,t,n,i,o){return function(u,s,l){var c=this;if($.isPlainObject(u))return l=s,void $.each(u,function(e,t){c[n](e,t,l)});l=l||{};var p=c[i](u),d=c.constructor[e+"Validator"];if(d)if($.isFunction(d[u]))s=d[u].call(c,s,l);if($.isFunction(o))s=o(c,s,l);if(p!==s||l.force)if(c[t][u]=s,!l.silent){var m={};r(m,l),m.newValue=c[i](u),m.oldValue=p;var h=c.inner(e+"Changes");if(!h)h={},c.inner(e+"Changes",h);var v=h[u];if(v)if(v.oldValue===m.newValue)return void delete h[u];if(h[u]=m,!c.inner(f))c.inner(f,!0),a($.proxy(c.sync,c))}}}function n(t,n,i,o,r){var a,u="before"===o?"_"+n:n+"_",s=t[u];if($.isFunction(s))if(a=s.apply(t,i),a!==!1&&!$.isPlainObject(a))a=null;if(a===!1)return!1;if(r&&r[$.expando]){if(!a)a={};a.event=r}var l=t.emit(e(o+n),a);if(l.isDefaultPrevented())return!1;else return void 0}var i=require("../function/guid"),o=require("../function/around"),r=require("../function/extend"),a=(require("../function/ucFirst"),require("../function/nextTick")),u=require("../function/replaceWith"),s=require("../function/offsetParent"),l=require("./instance").body,c={},f="updateAsync",p={},d={initStruct:function(){var e=this,t=e.option("mainElement"),n=e.option("mainTemplate");if("string"===$.type(n)){var i=e.option("share"),o=e.type+n;if(i)t=p[o];var r;if(!t){if(r=$(n),i)p[o]=r}else if(e.option("replace"))u(t,r=$(n));else t.html(n);if(r)t=r,e.option("mainElement",t)}if(e.option("underBody")&&!s(t).is("body"))l.append(t);e.initStruct=function(){e.error("component.initStruct() can just call one time.")}},warn:function(e){if("undefined"!=typeof console)console.warn(["[CC warn]",this.type,e].join(" "))},error:function(e){throw new Error(["[CC error]",this.type,e].join(" "))},on:function(e,t,n){return this.$.on(e,t,n),this},once:function(e,t,n){return this.$.one(e,t,n),this},off:function(e,t){return this.$.off(e,t),this},emit:function(t,n){var i=this,o=i.option("context")||i;t=e(t),t.cc=o;var r=[t];if($.isPlainObject(n))r.push(n);t.type=t.type.toLowerCase(),o.$.trigger.apply(o.$,r);var a="on"+t.type;if(o.execute("ondebug",r),!t.isPropagationStopped()&&o.execute(a,r)===!1)t.preventDefault(),t.stopPropagation();return o.execute(a+"_",r),t},before:function(e,t){return this.on("before"+e.toLowerCase(),t)},after:function(e,t){return this.on("after"+e.toLowerCase(),t)},find:function(e){var t=this.inner("main");if(t){var n=t.find(e);if(n.length)return n}},appendTo:function(e){var t=this.inner("main");if(t)t.appendTo(e)},prependTo:function(e){var t=this.inner("main");if(t)t.prependTo(e)},execute:function(e,t){var n=this,i=e;if("string"===$.type(e))i=n.option(e);if($.isFunction(i)){var o=n.option("context")||n;if($.isArray(t))return i.apply(o,t);else return i.call(o,t);
}},renderWith:function(e,t,n){var i=this;if(!t)t=i.option("mainTemplate");if(!n)n=i.option("mainElement");var o,r=i.option("renderSelector"),a=i.option("renderTemplate");if(!a||!a){if(i.option("replace"))i.error("replace must be false if not configure renderSelector and renderTemplate.");o=n,a=t}else o=n.find(r);var u;if($.isPlainObject(e)||$.isArray(e))u=i.execute("render",[e,a]);else if("string"===$.type(e))u=e;o.html(u)},namespace:function(){return"."+this.guid},option:function(e,t){var n=this;if(1===arguments.length&&"string"===$.type(e))return n.options[e];else{if($.isPlainObject(e))return void $.each(e,function(e,t){n.option(e,t)});n.options[e]=t}},inner:function(e,t){var n=this,i=n.inners||{};if(1===arguments.length&&"string"===$.type(e))return i[e];else{if($.isPlainObject(e))return void $.each(e,function(e,t){n.inner(e,t)});i[e]=t}},is:function(e){return this.states[e]},state:t("state","states","state","is",function(e,t){if("boolean"!==$.type(t))t=!1;return t}),get:function(e){return this.properties[e]},set:t("property","properties","set","get"),sync:function(){var e=this;if(e.inner(f)){var t=function(t,n){return function(i,o){var r=t[i];if($.isFunction(r))return r.call(e,o.newValue,o.oldValue,n);else return void 0}};$.each(["property","state"],function(n,i){var o=e.inner(i+"Changes");if(o){var r=e.constructor[i+"Updater"];if(r)$.each(o,t(r,o));var a=e.option(i+"Change");if(a)$.each(o,t(a,o));e.inner(i+"Changes",null),e.emit(i+"change",o)}}),e.inner(f,!1),e.emit("sync")}}};exports.extend=function(e){$.each(e,function(t,i){var r=t.indexOf("_");if($.isFunction(i)&&0!==r&&r!==t.length-1){var a=function(e){return n(this,t,arguments,"before",e)},u=function(e){var o=this,r=arguments,a=function(){return n(o,t,r,"after",e)};if(i.length+1===r.length){var u=r[r.length-1];if(u&&$.isFunction(u.then))return void u.then(a)}a()};o(e,t,a,u)}}),r(e,d)},exports.init=function(e,t){return r(t,e.constructor.defaultOptions),t.onafterinit_=function(){e.state("inited",!0)},t.onafterdispose_=function(){e.state("disposed",!0);var t=e.inner("main");if(e.option("removeOnDispose")&&t)t.remove();delete c[e.guid],e.properties=e.options=e.changes=e.states=e.inners=e.guid=e.$=null},c[e.guid=i()]=e,e.properties={},e.options=t,e.states={},e.inners={},e.$=$({}),e.init(),e},exports.dispose=function(e){e.sync(),e.$.off()}}),define("cc/util/localStorage",["require","exports","module"],function(require,exports,module){"use strict";function e(e,t){if($.isPlainObject(e))$.each(e,function(e,t){exports.set(e,t)});else try{localStorage[e]=t}catch(n){}}function t(e){var t="";try{t=localStorage[e]}catch(n){}return t}function n(e){try{localStorage.removeItem(e)}catch(t){}}if(localStorage)exports.set=e,exports.get=t,exports.remove=n;else exports.set=exports.get=exports.remove=$.noop}),define("cc/util/mimeType",["require","exports","module"],function(require,exports,module){"use strict";return{html:"text/html",htm:"text/html",shtml:"text/html",xml:"text/xml",css:"text/css",js:"application/x-javascript",json:"application/json",atom:"application/atom+xml",rss:"application/rss+xml",mml:"text/mathml",txt:"text/plain",jad:"text/vnd.sun.j2me.app-descriptor",wml:"text/vnd.wap.wml",htc:"text/x-component",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",tif:"image/tiff",tiff:"image/tiff",wbmp:"image/vnd.wap.wbmp",ico:"image/x-icon",jng:"image/x-jng",bmp:"image/x-ms-bmp",svg:"image/svg+xml",svgz:"image/svg+xml",webp:"image/webp",mp3:"audio/mpeg",wma:"audio/x-ms-wma",wav:"audio/x-wav",mid:"audio/midi",midd:"audio/midi",kar:"audio/midi",ogg:"audio/ogg",m4a:"audio/x-m4a",ra:"audio/x-realaudio",ram:"audio/x-pn-realaudio",mod:"audio/mod","3gp":"video/3gpp","3gpp":"video/3gpp",mp4:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",mov:"video/quicktime",webm:"video/webm",flv:"video/x-flv",m4v:"video/x-m4v",mng:"video/x-mng",asx:"video/x-ms-asf",asf:"video/x-ms-asf",wmv:"video/x-ms-wmv",avi:"video/x-msvideo",rm:"video/vnd.rn-realvideo",rmvb:"video/vnd.rn-realvideo",ts:"video/MP2T",dv:"video/x-dv",mkv:"video/x-matroska",jar:"application/java-archive",war:"application/java-archive",ear:"application/java-archive",hqx:"application/mac-binhex40",pdf:"application/pdf",ps:"application/postscript",eps:"application/postscript",ai:"application/postscript",rtf:"application/rtf",wmlc:"application/vnd.wap.wmlc",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz","7z":"application/x-7z-compressed",cco:"application/x-cocoa",jardiff:"application/x-java-archive-diff",jnlp:"application/x-java-jnlp-file",run:"application/x-makeself",pl:"application/x-perl",pm:"application/x-perl",prc:"application/x-pilot",pdb:"application/x-pilot",rar:"application/x-rar-compressed",rpm:"application/x-redhat-package-manager",sea:"application/x-sea",swf:"application/x-shockwave-flash",sit:"application/x-stuffit",tcl:"application/x-tcl",tk:"application/x-tcl",der:"application/x-x509-ca-cert",pem:"application/x-x509-ca-cert",crt:"application/x-x509-ca-cert",xpi:"application/x-xpinstall",xhtml:"application/xhtml+xml",zip:"application/zip",bin:"application/octet-stream",exe:"application/octet-stream",dll:"application/octet-stream",deb:"application/octet-stream",dmg:"application/octet-stream",eot:"application/octet-stream",iso:"application/octet-stream",img:"application/octet-stream",msi:"application/octet-stream",msp:"application/octet-stream",msm:"application/octet-stream",doc:"application/msword",xls:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}}),define("cc/util/orientation",["require","exports","module"],function(require,exports,module){"use strict";return{horizontal:{axis:"x",position:"left",scrollPosition:"scrollLeft",size:"width",minSize:"minWidth",maxSize:"maxWidth",innerSize:"innerWidth",outerSize:"outerWidth",scrollSize:"scrollWidth"},vertical:{axis:"y",position:"top",scrollPosition:"scrollTop",size:"height",minSize:"minHeight",maxSize:"maxHeight",innerSize:"innerHeight",outerSize:"outerHeight",scrollSize:"scrollHeight"}}}),define("cc/util/position",["require","exports","module","../function/pin"],function(require,exports,module){"use strict";var e=require("../function/pin");exports.pin=e,exports.topLeft=function(t){e({element:t.element,x:"right",y:"bottom",attachment:{element:t.attachment,x:"left",y:"top"},offset:{x:t.offsetX,y:t.offsetY}})},exports.topCenter=function(t){e({element:t.element,x:"center",y:"bottom",attachment:{element:t.attachment,x:"center",y:"top"},offset:{x:t.offsetX,y:t.offsetY}})},exports.topRight=function(t){e({element:t.element,x:"left",y:"bottom",attachment:{element:t.attachment,x:"right",y:"top"},offset:{x:t.offsetX,y:t.offsetY}})},exports.middleLeft=function(t){e({element:t.element,x:"right",y:"middle",attachment:{element:t.attachment,x:"left",y:"middle"},offset:{x:t.offsetX,y:t.offsetY}})},exports.middleCenter=function(t){e({element:t.element,x:"center",y:"middle",attachment:{element:t.attachment,x:"center",y:"middle"},offset:{x:t.offsetX,y:t.offsetY}})},exports.middleRight=function(t){e({element:t.element,x:"left",y:"middle",attachment:{element:t.attachment,x:"right",y:"middle"},offset:{x:t.offsetX,y:t.offsetY}})},exports.bottomLeft=function(t){e({element:t.element,x:"right",y:"top",attachment:{element:t.attachment,x:"left",y:"bottom"},offset:{x:t.offsetX,y:t.offsetY}})},exports.bottomCenter=function(t){e({element:t.element,x:"center",y:"top",attachment:{element:t.attachment,x:"center",y:"bottom"},offset:{x:t.offsetX,y:t.offsetY}})},exports.bottomRight=function(t){e({element:t.element,x:"left",y:"top",attachment:{element:t.attachment,x:"right",y:"bottom"},offset:{x:t.offsetX,y:t.offsetY}})}}),define("cc/util/redirect",["require","exports","module","./url"],function(require,exports,module){"use strict";function e(e,n){var i=t.parse(e),o='<form action="'+i.origin+i.pathname+'" target="_blank"';if(n)o+=' accept-charset="'+n+'" onsubmit="document.charset=\''+n+"';\"";return o+=">",$.each(t.parseQuery(i.search),function(e,t){o+='<input type="hidden" name="'+e+'" value="'+t+'" />'}),o+="</form>",$(o)}var t=require("./url");exports.openForm=function(t,n){var i=e(t,n);i.appendTo("body"),i.submit()},exports.openLink=function(e){var t=$('<a href="'+e+'" target="_blank"><b></b></a>');t.appendTo("body");try{t.find("b")[0].click()}catch(n){exports.openForm(e)}}}),define("cc/util/string",["require","exports","module"],function(require,exports,module){"use strict";function e(e){var t=e.charCodeAt(0);if(0===(-128&t))return 1;if(0===(-2048&t))return 2;if(0===(-65536&t))return 3;else return 4}function t(t,n){for(var i=0,o=0,r=t.length;r>o&&(i+=Math.floor((e(t.charAt(o))+1)/2),n(i,o+1)!==!1);o++);}exports.getLength=function(e){var n=0;if("string"===$.type(e))t(e,function(e,t){n=e});return n},exports.truncate=function(e,n,i){if("number"!==$.type(n)||exports.getLength(e)<=n)return e;var o="";return t(e,function(t,i){if(t>n)return!1;else return void(o=e.substr(0,i))}),i="string"===$.type(i)?i:"...",o+i},exports.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},exports.decodeHTML=function(e){var t=String(e).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'");return t.replace(/&#([\d]+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})}}),define("cc/util/supload/supload",["require","exports","module","../cookie","../json"],function(require,exports,module){function e(e){$.extend(this,e),this.init()}function t(){return"_Supload_"+o++}if(window.Supload===e)return window.Supload;var n=require("../cookie"),i=require("../json");e.prototype={constructor:e,init:function(){var i=t();this.movieName=i;var o=this.element;if("string"===$.type(o))o=document.getElementById(o);var r=this.data||(this.data={});$.each(n.get(),function(e,t){if("undefined"===$.type(r[e]))r[e]=t});var a=e.createSWF(i,this.flashUrl,this.getFlashVars());o.parentNode.replaceChild(a,o),this.element=a,this.onLog=function(e){console.log(e)},e.instances[i]=this},getFlashVars:function(){var t=this,n=[];return $.each(["movieName","action","accept","multiple","fileName","data","ignoreError"],function(e,o){var r=t[o];if(null!=r){if($.isPlainObject(r))r=i.stringify(r);else if($.isArray(r))r=r.join(",");n.push(o+"="+encodeURIComponent(r))}}),n.push("projectName="+e.projectName),n.join("&amp;")},getFiles:function(){return this.element.getFiles&&this.element.getFiles()||[]},setAction:function(e){this.element.setAction&&this.element.setAction(e)},setData:function(e){this.element.setData&&this.element.setData(e)},reset:function(){this.element.reset&&this.element.reset()},upload:function(){this.element.upload&&this.element.upload()},cancel:function(){this.element.cancel&&this.element.cancel()},enable:function(){this.element.enable&&this.element.enable()},disable:function(){this.element.disable&&this.element.disable()},dispose:function(){this.element.dispose&&this.element.dispose(),e.instances[this.movieName]=null,window[this.movieName]=null}},e.projectName="Supload",e.createSWF=function(t,n,i){var o='<object id="'+t+'" class="'+e.projectName.toLowerCase()+'" type="application/x-shockwave-flash" data="'+n+'"><param name="movie" value="'+n+'" /><param name="allowscriptaccess" value="always" /><param name="wmode" value="transparent" /><param name="flashvars" value="'+i+'" /></object>';return $(o)[0]},e.instances={},e.STATUS_WAITING=0,e.STATUS_UPLOADING=1,e.STATUS_UPLOAD_SUCCESS=2,e.STATUS_UPLOAD_ERROR=3,e.ERROR_CANCEL=0,e.ERROR_SECURITY=1,e.ERROR_IO=2;var o=178245;return window.Supload=e,e}),define("cc/util/swipe",["require","exports","module"],function(require,exports,module){"use strict";function e(e){e=e.originalEvent;var t=e.changedTouches||e.touches;if(1===t.length)return t[0];else return void 0}var t=".cobble_util_swipe";exports.init=function(n){var i,o=function(e,t){var i=t.pageX-r.x,o=t.pageY-r.y,a=$.Event(e,{x:i,y:o});return n.trigger(a),a},r={},a={};a["touchmove"+t]=function(n){var r=e(n);if(r){var u=o("swiping",r);if(u.isDefaultPrevented())n.preventDefault();if(i)clearTimeout(i);i=setTimeout(function(){a["touchend"+t](n)},200)}},a["touchend"+t]=function(t){if(i)clearTimeout(i),i=null;var r=e(t);if(r)o("swipe",r);n.off(a)},n.on("touchstart"+t,function(t){var i=e(t);if(i)r.x=i.pageX,r.y=i.pageY,r.time=+new Date,n.on(a)})},exports.dispose=function(e){e.off(t)}}),define("cc/util/time",["require","exports","module"],function(require,exports,module){"use strict";exports.parse=function(e,t,n){var i=!1;if($.isNumeric(e)&&$.isNumeric(t)){if(i=!0,!$.isNumeric(n))n=0}else if(1===arguments.length)if("string"===$.type(e)){var o=e.split(":");if(o.length>1&&o.length<4)i=!0,e=+$.trim(o[0]),t=+$.trim(o[1]),n=+$.trim(o[2])}else if($.isPlainObject(e))i=!0,n=e.second||0,t=e.minute||0,e=e.hour;if(i)if(e>=0&&23>=e&&t>=0&&59>=t&&n>=0&&59>=n){var r=new Date;return r.setHours(e),r.setMinutes(t),r.setSeconds(n),r}},exports.stringify=function(e,t){var n=e.getHours(),i=e.getMinutes(),o=e.getSeconds();if(10>n)n="0"+n;if(10>i)i="0"+i;if(10>o)o="0"+o;var r=[];if(!t)t={hour:!0,minute:!0};if(t.hour)r.push(n);if(t.minute)r.push(i);if(t.second)r.push(o);return r.join(":")},exports.simplify=function(e){return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()}},exports.add=function(e,t){var n=0;if("number"===$.type(t.hour))n+=exports.HOUR*t.hour;if("number"===$.type(t.minute))n+=exports.MINUTE*t.minute;if("number"===$.type(t.second))n+=exports.SECOND*t.second;return new Date(e.getTime()+n)},exports.subtract=function(e,t){var n=0;if("number"===$.type(t.hour))n+=exports.HOUR*t.hour;if("number"===$.type(t.minute))n+=exports.MINUTE*t.minute;if("number"===$.type(t.second))n+=exports.SECOND*t.second;return new Date(e.getTime()-n)},exports.SECOND=1e3,exports.MINUTE=60*exports.SECOND,exports.HOUR=60*exports.MINUTE}),define("cc/util/timer",["require","exports","module"],function(require,exports,module){"use strict";return function(e,t,n){n="number"===$.type(n)?n:0;var i,o=function(){i=setTimeout(o,t),e()},r={start:function(){r.stop(),i=setTimeout(o,n)},stop:function(){if(i)clearTimeout(i),i=null}};return r}}),define("cc/util/touch",["require","exports","module","../function/eventPage","../function/eventOffset"],function(require,exports,module){"use strict";function t(e){return e.originalEvent.changedTouches[0]}var n=require("../function/eventPage"),i=require("../function/eventOffset"),o=document.createElement("div"),r={support:"ontouchend"in o,click:"touchstart",down:"touchstart",move:"touchmove",up:"touchend",page:function(e){var n=t(e);return{x:n.pageX,y:n.pageY}},client:function(e){var n=t(e);return{x:n.clientX,y:n.clientY}},offset:function(e){var n=t(e);return{x:n.offsetX,y:n.offsetY}}},a={support:"onclick"in o,click:"click",down:"mousedown",move:"mousemove",up:"mouseup",page:function(e){return n(e)},client:function(e){return{x:e.clientX,y:e.clientY}},offset:function(){return i(e)}};return o=null,{touch:r,mouse:a}}),define("cc/util/trigger",["require","exports","module","../function/split"],function(require,exports,module){"use strict";function e(e){return function(t){var i=e.delay,o=e.startDelay,r=e.endDelay,a=function(){e.handler.call(t.currentTarget,t)};if(i>0&&o&&r){var u=function(){e[n]=setTimeout(function(){l(n)},i)},s=function(){clearTimeout(e[n]),r(l,e),e[n]=null},l=function(t){if(e[n])s();if(n===t)a()};o(l,e),u()}else a()}}var t=require("../function/split"),n="delayTimer";return exports={focus:{type:"focusin",handler:e},blur:{type:"focusout",handler:e},click:{type:"click",handler:e},enter:{type:"mouseenter",handler:e},leave:{type:"mouseleave",handler:e},context:{type:"contextmenu",handler:e}},exports.parse=function(e,n){var i={};if(e)$.each(t(e,","),function(e,t){var o=exports[t];if(o)i[t]={type:o.type,handler:o.handler(n(t))}});return i},exports}),define("cc/util/url",["require","exports","module"],function(require,exports,module){"use strict";exports.parseQuery=function(e){var t={};if("string"===$.type(e)&&e.length>1){var n=0,i=e.charAt(0);if("?"===i)n=1;else if("#"===i){n=1;var o=e.charAt(1);if("/"===o)n=2}if(n>0)e=e.substr(n);$.each(e.split("&"),function(e,n){var i=n.split("=");if(2===i.length){var o=$.trim(i[0]);if(o)t[o]=decodeURIComponent($.trim(i[1]))}})}return t},exports.getOrigin=function(e){if(!e)e=document.URL;return exports.parse(e).origin},exports.parse=function(e){var t=document.createElement("a");t.href=e,e=t.href;var n="";if(t.protocol&&t.host)n=t.protocol+"//"+t.host;else if(/^(http[s]?:\/\/[^/]+)(?=\/)/.test(e))n=RegExp.$1;var i=n.split(":");if(0===n.indexOf("http:")&&3===i.length&&80==i[2])i.length=2,n=i.join(":");var o=t.pathname;if(o&&"/"!==o.charAt(0))o="/"+o;return{origin:n,pathname:o,search:t.search}}}),define("cc/util/visibility",["require","exports","module"],function(require,exports,module){"use strict";function e(e,t){if(!e)return t;else return e+t.slice(0,1).toUpperCase()+t.slice(1)}var t;$.each(["webkit","moz","ms","o",""],function(n,i){if(e(i,"hidden")in document)return t=i,!1;else return void 0}),exports.support=null!=t,exports.hidden=function(){return document[e(t,"hidden")]},exports.state=function(){return document[e(t,"visibilityState")]},exports.change=function(e){document.addEventListener(t+"visibilitychange",e)}});