<div class="tab-nav">
    <a class="nav-item active" data-tab="intro">
        简介
    </a>
    <a class="nav-item" data-tab="demo">
        例子
    </a>
    <a class="nav-item" data-tab="config">
        配置
    </a>
    <a class="nav-item" data-tab="usage">
        使用方法
    </a>
</div>


<div class="tab-content">

    <div class="content-item active article" data-tab="intro">

        自定义鼠标右键菜单

    </div>


    <div class="content-item" data-tab="demo">

        <label>html</label>
        <textarea id="context-menu-html" data-mode="html">
<!-- 歌曲列表 -->
<div id="song-list">
    <a data-url="http://music.baidu.com/1.mp3">adele - rolling in the deep</a>
    <a data-url="http://music.baidu.com/2.mp3">blue - one love</a>
    <a data-url="http://music.baidu.com/3.mp3">celion dion - a new day has come</a>
    <a data-url="http://music.baidu.com/4.mp3">adam lambert - whataya want from me</a>
    <a data-url="http://music.baidu.com/5.mp3">alicia keys - if i aint got you</a>
    <a data-url="http://music.baidu.com/6.mp3">amy diamond - heartbeats</a>
    <a data-url="http://music.baidu.com/7.mp3">angela ammons - always getting over you</a>
    <a data-url="http://music.baidu.com/8.mp3">avril lavigne - losing grip</a>
</div>

<!-- 右键点击歌曲列表后出现的菜单 -->
<div id="song-list-menu">
    <a data-action="play">播放</a>
    <a data-action="like">收藏</a>
    <a data-action="download">下载</a>
    <a data-action="remove">删除</a>
</div>
        </textarea>

        <label>css</label>
        <textarea id="context-menu-css" data-mode="css">
#song-list {
    border: 1px solid #DDD;
    width: 300px;
}
#song-list a {
    color: #777;
    display: block;
    padding: 10px;
    border-top: 1px solid #EEE;
}
#song-list a:first-child {
    border-top: none;
}
#song-list a:nth-of-type(even) {
    background-color: #EAF7FD;
}

#song-list-menu {
    display: none;
}
.context-menu {
    border: 1px solid #DDD;
    background-color: #FFF;
    padding: 1px;
    width: 70px;
    box-shadow: 1px 1px 2px #F0F0F0;
    position: absolute;
}
.context-menu a {
    border-top: 1px solid #EEE;
    cursor: pointer;
    display: block;
    padding: 6px 10px;
}
.context-menu a:first-child {
    border-top: none;
}
.context-menu a:hover {
    background-color: #61A1E6;
    color: #FFF;
}
        </textarea>


        <label>js</label>
        <textarea id="context-menu-js">
require(

    [ 'cobble/ContextMenu' ],

    function (ContextMenu) {

        var songListMenu = new ContextMenu({
            element: $('#song-list-menu'),
            container: $('#song-list'),
            clickEvents: {
                '[data-action="play"]': function (e) {
                    var $target = $(e.target);
                    console.log('播放: ' + $target.data('url'));
                    this.hide();
                },
                '[data-action="like"]': function (e) {
                    var $target = $(e.target);
                    console.log('收藏: ' + $target.data('url'));
                    this.hide();
                },
                '[data-action="download"]': function (e) {
                    var $target = $(e.target);
                    console.log('下载: ' + $target.data('url'));
                    this.hide();
                },
                '[data-action="remove"]': function (e) {
                    var $target = $(e.target);
                    console.log('删除: ' + $target.data('url'));
                    this.hide();
                }
            }
        });

    }
);
        </textarea>

        <div class="action">
            <button class="run-code fluid"
                    data-html="#context-menu-html"
                    data-css="#context-menu-css"
                    data-js="#context-menu-js">运行</button>
        </div>
    </div>


    <div class="content-item" data-tab="config">

        <textarea>
// 构造函数参数如下：
{
    element: $('#context-menu'),     // 自定义菜单元素，也可以是一段 HTML 字符串
    container: $('#container'),      // 可选，需要弹出自定义菜单的容器，如下面的歌曲列表
                                     //     默认是 $(document.body)

    clickEvents: {                   // 配置菜单点击事件，key 是 css 选择器，handler 的 this 指向当前 ContextMenu 实例
        'selector': function (e) {   //     事件对象来自右键点击
            // ......                //     通过 e 可知菜单命令作用的对象
            this.hide();
        }
    },

    // 下面的参数建议通过 ContextMenu.defaultOptions 统一配置

    className: 'context-menu'        // 可选，自定义菜单元素的 className，便于统一设置样式
                                     //     默认是 'context-menu'
}
        </textarea>

    </div>


    <div class="content-item" data-tab="usage">
        <textarea>
var contextMenu = new ContextMenu(options);
contextMenu.hide();    // 弹出菜单后可通过 hide() 隐藏菜单
contextMenu.dispose(); // 销毁对象
        </textarea>
    </div>

</div>
